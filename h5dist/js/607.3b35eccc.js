"use strict";(self.webpackJsonp=self.webpackJsonp||[]).push([[607],{"6349":function(t,e,i){i.d(e,{"By":function(){return o},"Fo":function(){return r},"N$":function(){return getUntokenDrugs},"nQ":function(){return g},"ys":function(){return getFutureDrugs}});var a=i(885),n=i(3144),u=i(5671),r=(0,n.Z)((function DrugInfo(t,e,i,a,n){(0,u.Z)(this,DrugInfo),this.time=t,this.name=e,this.use=i,this.func=a,this.otc=n})),o=function(){return(0,n.Z)((function DrugData(t,e,i,a,n,r,o,g,c){(0,u.Z)(this,DrugData),this.id=t,this.drugName=e,this.dosage=i,this.form=a,this.dose=n,this.interval=r,this.time=o,this.startDate=g,this.stopDate=c}),null,[{"key":"findWithID","value":function findWithID(t,e){return t.find((function(t){return t.id===e}))}}])}(),g=function(){function DrugRecord(t,e,i,a,n,r,o,g){(0,u.Z)(this,DrugRecord),this.id=t,this.drugName=e,this.dosage=i,this.form=a,this.dose=n,this.date=r,this.time=o,this.skip=g,this.skip=!1}return(0,n.Z)(DrugRecord,null,[{"key":"getTime","value":function getTime(t){return new Date(t.date+"T"+t.time).getTime()}},{"key":"compareByDateTime","value":function compareByDateTime(t,e){var i=DrugRecord.getTime(t),a=DrugRecord.getTime(e);return i<a?-1:i>a?1:0}}])}();function getDHMS(t){var e=new Date(t);return[e.getFullYear()+"-"+String(e.getMonth()+1).padStart(2,"0")+"-"+String(e.getDate()).padStart(2,"0"),String(e.getHours()).padStart(2,"0"),String(e.getMinutes()).padStart(2,"0"),String(e.getSeconds()).padStart(2,"0")]}function toStamp(t){var e=t.split(":"),i=(0,a.Z)(e,3),n=i[0],u=i[1],r=i[2];return 1e3*(3600*Number(n)+60*Number(u)+Number(r))}function toTimeStamp(t,e){return new Date(t+"T"+e).getTime()}function getUntokenDrugs(t,e){var i=(new Date).getTime(),n=[],u=[],r={};return e.forEach((function(t){r[t.id]||(r[t.id]=[]),r[t.id].push(t)})),t.forEach((function(t){var e=toTimeStamp(t.startDate,t.time),o=toTimeStamp(t.stopDate,"24:00:00"),c=toStamp(t.interval);if(e<=i&&i<=o){var d=e;if(r[t.id]){var l=r[t.id].slice(-1)[0];d=toTimeStamp(l.date,l.time)}for(;d<=i;){var s=getDHMS(d+=c),M=(0,a.Z)(s,4),m=M[0],I=M[1],h=M[2],v=M[3];n.push(new g(t.id,t.drugName,t.dosage,t.form,t.dose,m,"".concat(I,":").concat(h,":").concat(v),!1))}var D=n.pop();null!=D&&u.push(D)}})),n.sort(g.compareByDateTime),u.sort(g.compareByDateTime),[n,u[0]]}function getFutureDrugs(t,e,i,n){var u=[],r={};return e.forEach((function(t){r[t.id]||(r[t.id]=[]),r[t.id].push(t)})),t.forEach((function(t){var e=toTimeStamp(t.startDate,t.time),o=toTimeStamp(t.stopDate,"24:00:00"),c=toStamp(t.interval);if(e<=i&&i<=o){var d=e;if(r[t.id]){var l=r[t.id].slice(-1)[0];d=toTimeStamp(l.date,l.time)}var s=Math.ceil((i-d)/c);if(s>0)for(var M=d+s*c;M<=n;){var m=getDHMS(M),I=(0,a.Z)(m,4),h=I[0],v=I[1],D=I[2],N=I[3];u.push(new g(t.id,t.drugName,t.dosage,t.form,t.dose,h,"".concat(v,":").concat(D,":").concat(N),!1)),M+=c}}})),u.sort(g.compareByDateTime),u}},"9830":function(t,e,i){i.d(e,{"p":function(){return setGlobalData},"r":function(){return getGlobalData}});var a=i(2667),n=i(6349),u={"box_id":"","MQTTurl":"i7148e41.ala.us-east-1.emqxsl.com","tabList":[{"url":"/pages/homePage/home","title":"首页","iconType":"home"},{"url":"/pages/statisticsPage/statistics","title":"统计","iconType":"bullet-list"},{"url":"/pages/chatPage/chat","title":"问AI","iconType":"message"},{"url":"/pages/selfPage/self","title":"我的","iconType":"user","max":99}],"userInfo":{"isLogin":!0,"account":"","password":"","avatar":"https://img2.baidu.com/it/u=18303046,1217185652&fm=253&fmt=auto&app=138&f=JPEG?w=502&h=500","nickName":"小马哥","urgentPhone":""},"patients":[new a.Z("小明",66,"男","19434636375","https://b0.bdstatic.com/0df6c8c7f109aa7b67e7cb15e6f8d025.jpg@h_1280","子女","高血压","否","暂无","良好",170,60,100,99,100,70,"胰岛素增敏剂"),new a.Z("老明",90,"男","19436563675","https://b0.bdstatic.com/0df6c8c7f109aa7b67e7cb15e6f8d025.jpg@h_1280","子孙","糖尿病","否","暂无","良好",162,52,100,99,100,73,"胰岛素增敏剂")],"drugStock":[new n.Fo("1721804283","毛果芸香碱滴眼液","一次1滴，一日1～4次","慢性青光眼、闭角型青光眼",!1),new n.Fo("1721804283","布洛芬胶囊","一次1粒，一日3～4次","缓解类风湿关节炎和骨关节炎、解热镇痛",!0)],"drugRecord":[new n.nQ("1720656002","毛果芸香碱","1","滴","滴眼","2024-08-13","00:00:00",!1),new n.nQ("1720656001","山莨菪碱","2","片","口服","2024-08-13","02:30:00",!1),new n.nQ("1720656003","阿托品","2","片","口服","2024-08-13","06:30:00",!1),new n.nQ("1720656000","阿司匹林","1","片","口服","2024-08-13","08:00:00",!1),new n.nQ("1720656004","胰岛素","1","滴","静脉注射","2024-08-13","08:00:00",!1)],"drugs":[new n.By("1720656000","阿司匹林","1","片","口服","12:00:00","08:00:00","2024-07-20","2024-10-10"),new n.By("1720656001","山莨菪碱","2","片","口服","10:30:00","10:00:00","2024-07-19","2024-10-10"),new n.By("1720656002","毛果芸香碱","1","滴","滴眼","16:00:00","08:00:00","2024-07-18","2024-10-10"),new n.By("1720656003","阿托品","2","片","口服","13:30:00","08:00:00","2024-07-21","2024-10-10"),new n.By("1720656004","胰岛素","1","滴","静脉注射","24:00:00","08:00:00","2024-07-19","2024-10-10")],"healthIndicators":{"heightData":[{"date":"2024-10-01","time":"08:00:00","value":170}],"bloodPressureData":[{"date":"2024-10-01","time":"08:00:00","high":110,"low":80},{"date":"2024-10-02","time":"08:00:00","high":112,"low":80},{"date":"2024-10-03","time":"08:00:00","high":115,"low":82},{"date":"2024-10-04","time":"08:00:00","high":113,"low":81},{"date":"2024-10-05","time":"08:00:00","high":110,"low":79},{"date":"2024-10-06","time":"08:00:00","high":108,"low":75},{"date":"2024-10-07","time":"08:00:00","high":109,"low":73},{"date":"2024-10-08","time":"08:00:00","high":110,"low":72},{"date":"2024-10-09","time":"08:00:00","high":111,"low":70},{"date":"2024-10-10","time":"08:00:00","high":112,"low":71}],"weightData":[{"date":"2024-10-01","time":"08:00:00","value":65},{"date":"2024-10-02","time":"08:00:00","value":64},{"date":"2024-10-03","time":"08:00:00","value":65},{"date":"2024-10-04","time":"08:00:00","value":64},{"date":"2024-10-05","time":"08:00:00","value":65},{"date":"2024-10-06","time":"08:00:00","value":65},{"date":"2024-10-07","time":"08:00:00","value":66},{"date":"2024-10-08","time":"08:00:00","value":67},{"date":"2024-10-09","time":"08:00:00","value":68},{"date":"2024-10-10","time":"08:00:00","value":69},{"date":"2024-10-11","time":"08:00:00","value":69},{"date":"2024-10-12","time":"08:00:00","value":68},{"date":"2024-10-13","time":"08:00:00","value":68}],"heartRateData":[{"date":"2024-10-01","time":"08:00:00","value":70},{"date":"2024-10-02","time":"08:00:00","value":69},{"date":"2024-10-03","time":"08:00:00","value":70},{"date":"2024-10-04","time":"08:00:00","value":71},{"date":"2024-10-05","time":"08:00:00","value":70},{"date":"2024-10-06","time":"08:00:00","value":70},{"date":"2024-10-07","time":"08:00:00","value":69},{"date":"2024-10-08","time":"08:00:00","value":70},{"date":"2024-10-09","time":"08:00:00","value":71},{"date":"2024-10-10","time":"08:00:00","value":72},{"date":"2024-10-11","time":"08:00:00","value":73},{"date":"2024-10-12","time":"08:00:00","value":74},{"date":"2024-10-13","time":"08:00:00","value":72}],"bloodOxygenData":[{"date":"2024-10-01","time":"08:00:00","value":98},{"date":"2024-10-02","time":"08:00:00","value":98},{"date":"2024-10-03","time":"08:00:00","value":99},{"date":"2024-10-04","time":"08:00:00","value":98},{"date":"2024-10-05","time":"08:00:00","value":98},{"date":"2024-10-06","time":"08:00:00","value":99},{"date":"2024-10-07","time":"08:00:00","value":98},{"date":"2024-10-08","time":"08:00:00","value":98},{"date":"2024-10-09","time":"08:00:00","value":99},{"date":"2024-10-10","time":"08:00:00","value":98},{"date":"2024-10-11","time":"08:00:00","value":98},{"date":"2024-10-12","time":"08:00:00","value":97},{"date":"2024-10-13","time":"08:00:00","value":98}],"bloodGlucoseData":[{"date":"2024-10-01","time":"08:00:00","value":6.5},{"date":"2024-10-02","time":"08:00:00","value":6.4},{"date":"2024-10-03","time":"08:00:00","value":6.3},{"date":"2024-10-04","time":"08:00:00","value":6.4},{"date":"2024-10-05","time":"08:00:00","value":6.4},{"date":"2024-10-06","time":"08:00:00","value":6.5},{"date":"2024-10-07","time":"08:00:00","value":6.6},{"date":"2024-10-08","time":"08:00:00","value":6.7},{"date":"2024-10-09","time":"08:00:00","value":6.7},{"date":"2024-10-10","time":"08:00:00","value":6.7},{"date":"2024-10-11","time":"08:00:00","value":6.9},{"date":"2024-10-12","time":"08:00:00","value":6.8},{"date":"2024-10-13","time":"08:00:00","value":6.8}]}};function setGlobalData(t,e){u[t]=e}function getGlobalData(t){return u[t]}},"6898":function(t,e,i){i.d(e,{"$M":function(){return genRandStr},"MR":function(){return switchTab},"Td":function(){return getCurrTime},"V5":function(){return getCurrDate},"_3":function(){return getDate},"hK":function(){return getTime}});var a=i(7945),n=i(9830);function getTime(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=new Date(t),a=String(i.getHours()).padStart(2,"0"),n=String(i.getMinutes()).padStart(2,"0"),u=String(i.getSeconds()).padStart(2,"0");return e?"".concat(a,":").concat(n,":").concat(u):"".concat(a,":").concat(n)}function getDate(t){var e=new Date(t);return e.getFullYear()+"-"+String(e.getMonth()+1).padStart(2,"0")+"-"+String(e.getDate()).padStart(2,"0")}function getCurrTime(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=new Date,i=String(e.getHours()).padStart(2,"0"),a=String(e.getMinutes()).padStart(2,"0"),n=String(e.getSeconds()).padStart(2,"0");return t?"".concat(i,":").concat(a,":").concat(n):"".concat(i,":").concat(a)}function getCurrDate(){var t=new Date;return t.getFullYear()+"-"+String(t.getMonth()+1).padStart(2,"0")+"-"+String(t.getDate()).padStart(2,"0")}function switchTab(t){var e=(0,n.r)("tabList");a.ZP.switchTab({"url":e[t].url})}function genRandStr(t){for(var e="",i=0;i<t;i++)e+=String.fromCharCode(Math.floor(26*Math.random())+97);return e}},"2667":function(t,e,i){i.d(e,{"Z":function(){return u}});var a=i(3144),n=i(5671),u=(0,a.Z)((function PatientInfo(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"男",a=arguments.length>3?arguments[3]:void 0,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"https://b0.bdstatic.com/0df6c8c7f109aa7b67e7cb15e6f8d025.jpg@h_1280",r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"其他",o=arguments.length>6?arguments[6]:void 0,g=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"否",c=arguments.length>8?arguments[8]:void 0,d=arguments.length>9?arguments[9]:void 0,l=arguments.length>10?arguments[10]:void 0,s=arguments.length>11?arguments[11]:void 0,M=arguments.length>12?arguments[12]:void 0,m=arguments.length>13?arguments[13]:void 0,I=arguments.length>14?arguments[14]:void 0,h=arguments.length>15?arguments[15]:void 0,v=arguments.length>16?arguments[16]:void 0;(0,n.Z)(this,PatientInfo),this.name=t,this.age=e,this.gender=i,this.phone=a,this.avatar=u,this.relation=r,this.illness=o,this.liveAlone=g,this.eatingHabit=c,this.bodyHealth=d,this.height=l,this.weight=s,this.BP=M,this.BF=m,this.BG=I,this.HR=h,this.drug=v}))},"1365":function(t,e,i){i.r(e),i.d(e,{"default":function(){return s}});var a=i(6252),n=i(2262),u=i(3577),r=i(7945),o=i(9830),g=i(6898),c=i.p+"static/images/images/icons/用户信息管理.svg",d=i(518),l={"name":"selfPage"};var s=Object.assign(l,{"setup":function setup(t){var e=(0,n.iH)((0,o.r)("userInfo")),i=(0,o.r)("tabList"),l=[{"title":"监护对象管理","url":"/pages/patientsPage/patients","icon":c},{"title":"紧急联系人管理","url":"/pages/sosPage/sos","icon":d},{"title":"绑定设备","url":"/pages/bindPage/bind","icon":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB0PSIxNzIxNjE2NTI4MTE3IiBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjUxNjgiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCI+PHBhdGggZD0iTTc3OC43IDI2OS43SDM5Mi4xdjE1OC41aDc5YzMuMSAwIDUuNiAyLjUgNS42IDUuNnYzODkuNWgzMDJWMjY5Ljd6IiBmaWxsPSIjMTI5NmRiIiBwLWlkPSI1MTY5Ij48L3BhdGg+PHBhdGggZD0iTTgxMy42IDE2OC4ySDM1My44Yy00MS4xIDAtNzQuNiAzMy40LTc0LjYgNzQuNlYzOTFIMjMyYy0zMC41IDAtNTUuMyAyNC44LTU1LjMgNTUuM3Y0NjguMWMwIDMwLjUgMjQuOCA1NS4zIDU1LjMgNTUuM0g4MTMuNmM0MS4xIDAgNzQuNi0zMy40IDc0LjYtNzQuNlYyNDIuOGMwLTQxLjEtMzMuNS03NC42LTc0LjYtNzQuNnpNMzUzLjggOTIwSDIzMi4xYy0zLjEgMC01LjYtMi41LTUuNi01LjZWNDQ2LjNjMC0zLjEgMi41LTUuNiA1LjYtNS42aDIzNy4zYzMuMSAwIDUuNiAyLjUgNS42IDUuNnY0NjguMWMwIDMuMS0yLjUgNS42LTUuNiA1LjZIMzUzLjh6IG00ODQuNy0yNC44YzAgMTMuNy0xMS4xIDI0LjktMjQuOSAyNC45SDUyNC4xYzAuMi0xLjkgMC42LTMuNyAwLjYtNS42VjQ0Ni4zYzAtMzAuNS0yNC44LTU1LjMtNTUuMy01NS4zSDMyOVYyNDIuOGMwLTEzLjcgMTEuMS0yNC45IDI0LjktMjQuOWg0NTkuOGMxMy43IDAgMjQuOSAxMS4xIDI0LjkgMjQuOXY2NTIuNHoiIGZpbGw9IiMxMjk2ZGIiIHAtaWQ9IjUxNzAiPjwvcGF0aD48cGF0aCBkPSJNMjcxLjUgNTAyLjdoMTU2LjR2Mjk0LjFIMjcxLjV6IiBmaWxsPSIjMTI5NmRiIiBwLWlkPSI1MTcxIj48L3BhdGg+PHBhdGggZD0iTTM0OS43IDg1MS45bS0xOS45IDBhMTkuOSAxOS45IDAgMSAwIDM5LjggMCAxOS45IDE5LjkgMCAxIDAtMzkuOCAwWiIgZmlsbD0iIzEyOTZkYiIgcC1pZD0iNTE3MiI+PC9wYXRoPjwvc3ZnPgo="},{"title":"关于软件","url":"/pages/aboutPage/about","icon":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB0PSIxNzIxNjE2NzM1NDQ2IiBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjEyMDcyIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgd2lkdGg9IjEwMCIgaGVpZ2h0PSIxMDAiPjxwYXRoIGQ9Ik01MTIgOTkyQzI0Ni45MTIgOTkyIDMyIDc3Ny4wODggMzIgNTEyIDMyIDI0Ni45MTIgMjQ2LjkxMiAzMiA1MTIgMzJjMjY1LjA4OCAwIDQ4MCAyMTQuOTEyIDQ4MCA0ODAgMCAyNjUuMDg4LTIxNC45MTIgNDgwLTQ4MCA0ODB6IG0tNTkuMDcyLTUxMnYyMzYuMzJhNTQuMTQ0IDU0LjE0NCAwIDEgMCAxMDguMjg4IDBWNDgwYTU0LjE0NCA1NC4xNDQgMCAxIDAtMTA4LjI4OCAweiBtNTMuNzYtMjI2LjQ2NGMtMTQuNzIgMC0yNy4yMzIgNC41NDQtMzcuNTY4IDE1LjEzNi0xMS4wNCA5Ljg1Ni0xNi4xOTIgMjIuNzItMTYuMTkyIDM4LjY1NiAwIDE1LjEzNiA1LjE1MiAyOCAxNi4xOTIgMzguNjI0IDEwLjMzNiAxMC41OTIgMjIuODQ4IDE1LjkwNCAzNy42IDE1LjkwNGE1Ny42IDU3LjYgMCAwIDAgMzkuMDQtMTUuMTY4YzEwLjMwNC0xMC41OTIgMTUuNDU2LTIzLjQ1NiAxNS40NTYtMzkuMzZzLTUuMTItMjguOC0xNS40NTYtMzguNjU2Yy0xMC4zMDQtMTAuNTYtMjMuNTg0LTE1LjEzNi0zOS4wNC0xNS4xMzZ6IiBwLWlkPSIxMjA3MyIgZmlsbD0iIzEyOTZkYiI+PC9wYXRoPjwvc3ZnPgo="}];function navigateTo(t,e){r.ZP.navigateTo({"url":t})}return r.ZP.useDidShow((function(t){e.value=(0,o.r)("userInfo")})),function(t,r){var o=(0,a.up)("AtAvatar"),c=(0,a.up)("Text"),d=(0,a.up)("AtIcon"),s=(0,a.up)("View"),M=(0,a.up)("AtListItem"),m=(0,a.up)("AtList"),I=(0,a.up)("AtButton"),h=(0,a.up)("AtTabBar");return(0,a.wg)(),(0,a.j4)(s,{"class":"root-self"},{"default":(0,a.w5)((function(){return[(0,a.Wm)(s,{"class":"user"},{"default":(0,a.w5)((function(){return[(0,a.Wm)(o,{"image":(0,n.SU)(e).avatar,"circle":"","onClick":r[0]||(r[0]=function(t){return navigateTo("/pages/selfInfoPage/selfInfo")})},null,8,["image"]),(0,a.Wm)(c,{"class":"nickName","onClick":r[1]||(r[1]=function(t){return navigateTo("/pages/selfInfoPage/selfInfo")})},{"default":(0,a.w5)((function(){return[(0,a.Uk)((0,u.zw)((0,n.SU)(e).nickName),1)]})),"_":1}),(0,a.Wm)(d,{"class":"setting","value":"settings","color":"gray","onClick":r[2]||(r[2]=function(t){return navigateTo("/pages/settingPage/setting")})})]})),"_":1}),(0,a.Wm)(m,{"class":"menu","hasBorder":!1},{"default":(0,a.w5)((function(){return[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)((0,n.SU)(l),(function(t,e){return(0,a.wg)(),(0,a.j4)(M,{"key":e,"title":t.title,"arrow":"right","thumb":t.icon,"onClick":function onClick(e){return navigateTo(t.url)}},null,8,["title","thumb","onClick"])})),128))]})),"_":1}),(0,n.SU)(e).isLogin?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)(I,{"key":0,"class":"login","onClick":r[3]||(r[3]=function(t){return navigateTo("/pages/loginPage/login")})},{"default":(0,a.w5)((function(){return[(0,a.Uk)(" 登录 ")]})),"_":1})),(0,a.Wm)(h,{"fixed":"","tabList":(0,n.SU)(i),"onClick":(0,n.SU)(g.MR),"current":3},null,8,["tabList","onClick"])]})),"_":1})}}})},"518":function(t,e,i){t.exports=i.p+"static/images/images/icons/拨号.svg"}}]);