(self.webpackJsonp=self.webpackJsonp||[]).push([[303],{"6349":function(D,z,H){"use strict";H.d(z,{"By":function(){return Z},"Fo":function(){return Q},"N$":function(){return getUntokenDrugs},"nQ":function(){return $},"ys":function(){return getFutureDrugs}});var K=H(885),W=H(3144),V=H(5671),Q=(0,W.Z)((function DrugInfo(D,z,H,K,W){(0,V.Z)(this,DrugInfo),this.time=D,this.name=z,this.use=H,this.func=K,this.otc=W})),Z=function(){return(0,W.Z)((function DrugData(D,z,H,K,W,Q,Z,$,G){(0,V.Z)(this,DrugData),this.id=D,this.drugName=z,this.dosage=H,this.form=K,this.dose=W,this.interval=Q,this.time=Z,this.startDate=$,this.stopDate=G}),null,[{"key":"findWithID","value":function findWithID(D,z){return D.find((function(D){return D.id===z}))}}])}(),$=function(){function DrugRecord(D,z,H,K,W,Q,Z,$){(0,V.Z)(this,DrugRecord),this.id=D,this.drugName=z,this.dosage=H,this.form=K,this.dose=W,this.date=Q,this.time=Z,this.skip=$,this.skip=!1}return(0,W.Z)(DrugRecord,null,[{"key":"getTime","value":function getTime(D){return new Date(D.date+"T"+D.time).getTime()}},{"key":"compareByDateTime","value":function compareByDateTime(D,z){var H=DrugRecord.getTime(D),K=DrugRecord.getTime(z);return H<K?-1:H>K?1:0}}])}();function getDHMS(D){var z=new Date(D);return[z.getFullYear()+"-"+String(z.getMonth()+1).padStart(2,"0")+"-"+String(z.getDate()).padStart(2,"0"),String(z.getHours()).padStart(2,"0"),String(z.getMinutes()).padStart(2,"0"),String(z.getSeconds()).padStart(2,"0")]}function toStamp(D){var z=D.split(":"),H=(0,K.Z)(z,3),W=H[0],V=H[1],Q=H[2];return 1e3*(3600*Number(W)+60*Number(V)+Number(Q))}function toTimeStamp(D,z){return new Date(D+"T"+z).getTime()}function getUntokenDrugs(D,z){var H=(new Date).getTime(),W=[],V=[],Q={};return z.forEach((function(D){Q[D.id]||(Q[D.id]=[]),Q[D.id].push(D)})),D.forEach((function(D){var z=toTimeStamp(D.startDate,D.time),Z=toTimeStamp(D.stopDate,"24:00:00"),G=toStamp(D.interval);if(z<=H&&H<=Z){var J=z;if(Q[D.id]){var Y=Q[D.id].slice(-1)[0];J=toTimeStamp(Y.date,Y.time)}for(;J<=H;){var X=getDHMS(J+=G),ee=(0,K.Z)(X,4),te=ee[0],re=ee[1],ne=ee[2],ie=ee[3];W.push(new $(D.id,D.drugName,D.dosage,D.form,D.dose,te,"".concat(re,":").concat(ne,":").concat(ie),!1))}var oe=W.pop();null!=oe&&V.push(oe)}})),W.sort($.compareByDateTime),V.sort($.compareByDateTime),[W,V[0]]}function getFutureDrugs(D,z,H,W){var V=[],Q={};return z.forEach((function(D){Q[D.id]||(Q[D.id]=[]),Q[D.id].push(D)})),D.forEach((function(D){var z=toTimeStamp(D.startDate,D.time),Z=toTimeStamp(D.stopDate,"24:00:00"),G=toStamp(D.interval);if(z<=H&&H<=Z){var J=z;if(Q[D.id]){var Y=Q[D.id].slice(-1)[0];J=toTimeStamp(Y.date,Y.time)}var X=Math.ceil((H-J)/G);if(X>0)for(var ee=J+X*G;ee<=W;){var te=getDHMS(ee),re=(0,K.Z)(te,4),ne=re[0],ie=re[1],oe=re[2],se=re[3];V.push(new $(D.id,D.drugName,D.dosage,D.form,D.dose,ne,"".concat(ie,":").concat(oe,":").concat(se),!1)),ee+=G}}})),V.sort($.compareByDateTime),V}},"9830":function(D,z,H){"use strict";H.d(z,{"p":function(){return setGlobalData},"r":function(){return getGlobalData}});var K=H(2667),W=H(6349),V={"box_id":"","MQTTurl":"i7148e41.ala.us-east-1.emqxsl.com","tabList":[{"url":"/pages/homePage/home","title":"首页","iconType":"home"},{"url":"/pages/statisticsPage/statistics","title":"统计","iconType":"bullet-list"},{"url":"/pages/chatPage/chat","title":"问AI","iconType":"message"},{"url":"/pages/selfPage/self","title":"我的","iconType":"user","max":99}],"userInfo":{"isLogin":!0,"account":"","password":"","avatar":"https://img2.baidu.com/it/u=18303046,1217185652&fm=253&fmt=auto&app=138&f=JPEG?w=502&h=500","nickName":"小马哥","urgentPhone":""},"patients":[new K.Z("小明",66,"男","19434636375","https://b0.bdstatic.com/0df6c8c7f109aa7b67e7cb15e6f8d025.jpg@h_1280","子女","高血压","否","暂无","良好",170,60,100,99,100,70,"胰岛素增敏剂"),new K.Z("老明",90,"男","19436563675","https://b0.bdstatic.com/0df6c8c7f109aa7b67e7cb15e6f8d025.jpg@h_1280","子孙","糖尿病","否","暂无","良好",162,52,100,99,100,73,"胰岛素增敏剂")],"drugStock":[new W.Fo("1721804283","毛果芸香碱滴眼液","一次1滴，一日1～4次","慢性青光眼、闭角型青光眼",!1),new W.Fo("1721804283","布洛芬胶囊","一次1粒，一日3～4次","缓解类风湿关节炎和骨关节炎、解热镇痛",!0)],"drugRecord":[new W.nQ("1720656002","毛果芸香碱","1","滴","滴眼","2024-08-13","00:00:00",!1),new W.nQ("1720656001","山莨菪碱","2","片","口服","2024-08-13","02:30:00",!1),new W.nQ("1720656003","阿托品","2","片","口服","2024-08-13","06:30:00",!1),new W.nQ("1720656000","阿司匹林","1","片","口服","2024-08-13","08:00:00",!1),new W.nQ("1720656004","胰岛素","1","滴","静脉注射","2024-08-13","08:00:00",!1)],"drugs":[new W.By("1720656000","阿司匹林","1","片","口服","12:00:00","08:00:00","2024-07-20","2024-10-10"),new W.By("1720656001","山莨菪碱","2","片","口服","10:30:00","10:00:00","2024-07-19","2024-10-10"),new W.By("1720656002","毛果芸香碱","1","滴","滴眼","16:00:00","08:00:00","2024-07-18","2024-10-10"),new W.By("1720656003","阿托品","2","片","口服","13:30:00","08:00:00","2024-07-21","2024-10-10"),new W.By("1720656004","胰岛素","1","滴","静脉注射","24:00:00","08:00:00","2024-07-19","2024-10-10")],"healthIndicators":{"heightData":[{"date":"2024-10-01","time":"08:00:00","value":170}],"bloodPressureData":[{"date":"2024-10-01","time":"08:00:00","high":110,"low":80},{"date":"2024-10-02","time":"08:00:00","high":112,"low":80},{"date":"2024-10-03","time":"08:00:00","high":115,"low":82},{"date":"2024-10-04","time":"08:00:00","high":113,"low":81},{"date":"2024-10-05","time":"08:00:00","high":110,"low":79},{"date":"2024-10-06","time":"08:00:00","high":108,"low":75},{"date":"2024-10-07","time":"08:00:00","high":109,"low":73},{"date":"2024-10-08","time":"08:00:00","high":110,"low":72},{"date":"2024-10-09","time":"08:00:00","high":111,"low":70},{"date":"2024-10-10","time":"08:00:00","high":112,"low":71}],"weightData":[{"date":"2024-10-01","time":"08:00:00","value":65},{"date":"2024-10-02","time":"08:00:00","value":64},{"date":"2024-10-03","time":"08:00:00","value":65},{"date":"2024-10-04","time":"08:00:00","value":64},{"date":"2024-10-05","time":"08:00:00","value":65},{"date":"2024-10-06","time":"08:00:00","value":65},{"date":"2024-10-07","time":"08:00:00","value":66},{"date":"2024-10-08","time":"08:00:00","value":67},{"date":"2024-10-09","time":"08:00:00","value":68},{"date":"2024-10-10","time":"08:00:00","value":69},{"date":"2024-10-11","time":"08:00:00","value":69},{"date":"2024-10-12","time":"08:00:00","value":68},{"date":"2024-10-13","time":"08:00:00","value":68}],"heartRateData":[{"date":"2024-10-01","time":"08:00:00","value":70},{"date":"2024-10-02","time":"08:00:00","value":69},{"date":"2024-10-03","time":"08:00:00","value":70},{"date":"2024-10-04","time":"08:00:00","value":71},{"date":"2024-10-05","time":"08:00:00","value":70},{"date":"2024-10-06","time":"08:00:00","value":70},{"date":"2024-10-07","time":"08:00:00","value":69},{"date":"2024-10-08","time":"08:00:00","value":70},{"date":"2024-10-09","time":"08:00:00","value":71},{"date":"2024-10-10","time":"08:00:00","value":72},{"date":"2024-10-11","time":"08:00:00","value":73},{"date":"2024-10-12","time":"08:00:00","value":74},{"date":"2024-10-13","time":"08:00:00","value":72}],"bloodOxygenData":[{"date":"2024-10-01","time":"08:00:00","value":98},{"date":"2024-10-02","time":"08:00:00","value":98},{"date":"2024-10-03","time":"08:00:00","value":99},{"date":"2024-10-04","time":"08:00:00","value":98},{"date":"2024-10-05","time":"08:00:00","value":98},{"date":"2024-10-06","time":"08:00:00","value":99},{"date":"2024-10-07","time":"08:00:00","value":98},{"date":"2024-10-08","time":"08:00:00","value":98},{"date":"2024-10-09","time":"08:00:00","value":99},{"date":"2024-10-10","time":"08:00:00","value":98},{"date":"2024-10-11","time":"08:00:00","value":98},{"date":"2024-10-12","time":"08:00:00","value":97},{"date":"2024-10-13","time":"08:00:00","value":98}],"bloodGlucoseData":[{"date":"2024-10-01","time":"08:00:00","value":6.5},{"date":"2024-10-02","time":"08:00:00","value":6.4},{"date":"2024-10-03","time":"08:00:00","value":6.3},{"date":"2024-10-04","time":"08:00:00","value":6.4},{"date":"2024-10-05","time":"08:00:00","value":6.4},{"date":"2024-10-06","time":"08:00:00","value":6.5},{"date":"2024-10-07","time":"08:00:00","value":6.6},{"date":"2024-10-08","time":"08:00:00","value":6.7},{"date":"2024-10-09","time":"08:00:00","value":6.7},{"date":"2024-10-10","time":"08:00:00","value":6.7},{"date":"2024-10-11","time":"08:00:00","value":6.9},{"date":"2024-10-12","time":"08:00:00","value":6.8},{"date":"2024-10-13","time":"08:00:00","value":6.8}]}};function setGlobalData(D,z){V[D]=z}function getGlobalData(D){return V[D]}},"6898":function(D,z,H){"use strict";H.d(z,{"$M":function(){return genRandStr},"MR":function(){return switchTab},"Td":function(){return getCurrTime},"V5":function(){return getCurrDate},"_3":function(){return getDate},"hK":function(){return getTime}});var K=H(7945),W=H(9830);function getTime(D){var z=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],H=new Date(D),K=String(H.getHours()).padStart(2,"0"),W=String(H.getMinutes()).padStart(2,"0"),V=String(H.getSeconds()).padStart(2,"0");return z?"".concat(K,":").concat(W,":").concat(V):"".concat(K,":").concat(W)}function getDate(D){var z=new Date(D);return z.getFullYear()+"-"+String(z.getMonth()+1).padStart(2,"0")+"-"+String(z.getDate()).padStart(2,"0")}function getCurrTime(){var D=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],z=new Date,H=String(z.getHours()).padStart(2,"0"),K=String(z.getMinutes()).padStart(2,"0"),W=String(z.getSeconds()).padStart(2,"0");return D?"".concat(H,":").concat(K,":").concat(W):"".concat(H,":").concat(K)}function getCurrDate(){var D=new Date;return D.getFullYear()+"-"+String(D.getMonth()+1).padStart(2,"0")+"-"+String(D.getDate()).padStart(2,"0")}function switchTab(D){var z=(0,W.r)("tabList");K.ZP.switchTab({"url":z[D].url})}function genRandStr(D){for(var z="",H=0;H<D;H++)z+=String.fromCharCode(Math.floor(26*Math.random())+97);return z}},"4984":function(D,z,H){var K,W,V,Q,Z=H(861).default,$=H(8698).default;Q=function(){return function e(D,z,H){function i(W,V){if(!z[W]){if(!D[W]){if(K)return K(W,!0);var Q=new Error("Cannot find module '"+W+"'");throw Q.code="MODULE_NOT_FOUND",Q}var Z=z[W]={"exports":{}};D[W][0].call(Z.exports,(function(z){return i(D[W][1][z]||z)}),Z,Z.exports,e,D,z,H)}return z[W].exports}for(var K=void 0,W=0;W<H.length;W++)i(H[W]);return i}({"1":[function(D,z,K){(function(H,K){"use strict";var W=D("events").EventEmitter,V=D("./store"),Q=D("mqtt-packet"),Z=D("readable-stream").Writable,G=D("inherits"),J=D("reinterval"),Y=D("./validations"),X=D("xtend"),ee=D("debug")("mqttjs:client"),te=K.setImmediate||function(D){H.nextTick(D)},re={"keepalive":60,"reschedulePings":!0,"protocolId":"MQTT","protocolVersion":4,"reconnectPeriod":1e3,"connectTimeout":3e4,"clean":!0,"resubscribe":!0},ne=["ECONNREFUSED","EADDRINUSE","ECONNRESET","ENOTFOUND"],ie={"0":"","1":"Unacceptable protocol version","2":"Identifier rejected","3":"Server unavailable","4":"Bad username or password","5":"Not authorized","16":"No matching subscribers","17":"No subscription existed","128":"Unspecified error","129":"Malformed Packet","130":"Protocol Error","131":"Implementation specific error","132":"Unsupported Protocol Version","133":"Client Identifier not valid","134":"Bad User Name or Password","135":"Not authorized","136":"Server unavailable","137":"Server busy","138":"Banned","139":"Server shutting down","140":"Bad authentication method","141":"Keep Alive timeout","142":"Session taken over","143":"Topic Filter invalid","144":"Topic Name invalid","145":"Packet identifier in use","146":"Packet Identifier not found","147":"Receive Maximum exceeded","148":"Topic Alias invalid","149":"Packet too large","150":"Message rate too high","151":"Quota exceeded","152":"Administrative action","153":"Payload format invalid","154":"Retain not supported","155":"QoS not supported","156":"Use another server","157":"Server moved","158":"Shared Subscriptions not supported","159":"Connection rate exceeded","160":"Maximum connect time","161":"Subscription Identifiers not supported","162":"Wildcard Subscriptions not supported"};function y(D,z,H){ee("sendPacket :: packet: %O",z),ee("sendPacket :: emitting `packetsend`"),D.emit("packetsend",z),ee("sendPacket :: writing to stream");var K=Q.writeToStream(z,D.stream,D.options);ee("sendPacket :: writeToStream result %s",K),!K&&H?(ee("sendPacket :: handle events on `drain` once through callback."),D.stream.once("drain",H)):H&&(ee("sendPacket :: invoking cb"),H())}function m(D,z,H,K){ee("storeAndSend :: store packet with cmd %s to outgoingStore",z.cmd),D.outgoingStore.put(z,(function(W){if(W)return H&&H(W);K(),y(D,z,H)}))}function _(D){ee("nop ::",D)}function v(D,z){var H,K=this;if(!(this instanceof v))return new v(D,z);for(H in this.options=z||{},re)void 0===this.options[H]?this.options[H]=re[H]:this.options[H]=z[H];ee("MqttClient :: options.protocol",z.protocol),ee("MqttClient :: options.protocolVersion",z.protocolVersion),ee("MqttClient :: options.username",z.username),ee("MqttClient :: options.keepalive",z.keepalive),ee("MqttClient :: options.reconnectPeriod",z.reconnectPeriod),ee("MqttClient :: options.rejectUnauthorized",z.rejectUnauthorized),this.options.clientId="string"==typeof z.clientId?z.clientId:"mqttjs_"+Math.random().toString(16).substr(2,8),ee("MqttClient :: clientId",this.options.clientId),this.options.customHandleAcks=5===z.protocolVersion&&z.customHandleAcks?z.customHandleAcks:function(){arguments[3](0)},this.streamBuilder=D,this.outgoingStore=z.outgoingStore||new V,this.incomingStore=z.incomingStore||new V,this.queueQoSZero=void 0===z.queueQoSZero||z.queueQoSZero,this._resubscribeTopics={},this.messageIdToTopic={},this.pingTimer=null,this.connected=!1,this.disconnecting=!1,this.queue=[],this.connackTimer=null,this.reconnectTimer=null,this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={},this.nextId=Math.max(1,Math.floor(65535*Math.random())),this.outgoing={},this._firstConnection=!0,this.on("connect",(function(){var D=this.queue;ee("connect :: sending queued packets"),function t(){var z,H=D.shift();ee("deliver :: entry %o",H),H&&(z=H.packet,ee("deliver :: call _sendPacket for %o",z),K._sendPacket(z,(function(D){H.cb&&H.cb(D),t()})))}()})),this.on("close",(function(){ee("close :: connected set to `false`"),this.connected=!1,ee("close :: clearing connackTimer"),clearTimeout(this.connackTimer),ee("close :: clearing ping timer"),null!==K.pingTimer&&(K.pingTimer.clear(),K.pingTimer=null),ee("close :: calling _setupReconnect"),this._setupReconnect()})),W.call(this),ee("MqttClient :: setting up stream"),this._setupStream()}G(v,W),v.prototype._setupStream=function(){var D,z=this,K=this,W=new Z,V=Q.parser(this.options),G=null,J=[];function c(){if(J.length)H.nextTick(l);else{var D=G;G=null,D()}}function l(){ee("work :: getting next packet in queue");var D=J.shift();if(D)ee("work :: packet pulled from queue"),K._handlePacket(D,c);else{ee("work :: no packets in queue");var z=G;G=null,ee("work :: done flag is %s",!!z),z&&z()}}if(ee("_setupStream :: calling method to clear reconnect"),this._clearReconnect(),ee("_setupStream :: using streamBuilder provided to client to create stream"),this.stream=this.streamBuilder(this),V.on("packet",(function(D){ee("parser :: on packet push to packets array."),J.push(D)})),W._write=function(D,z,H){G=H,ee("writable stream :: parsing buffer"),V.parse(D),l()},ee("_setupStream :: pipe stream to writable stream"),this.stream.pipe(W),this.stream.on("error",(function(D){ee("streamErrorHandler :: error",D.message),ne.includes(D.code)?(ee("streamErrorHandler :: emitting error"),K.emit("error",D)):_(D)})),this.stream.on("close",(function(){var D;ee("(%s)stream :: on close",K.options.clientId),(D=K.outgoing)&&(ee("flushVolatile :: deleting volatile messages from the queue and setting their callbacks as error function"),Object.keys(D).forEach((function(z){D[z].volatile&&"function"==typeof D[z].cb&&(D[z].cb(new Error("Connection closed")),delete D[z])}))),ee("stream: emit close to MqttClient"),K.emit("close")})),ee("_setupStream: sending packet `connect`"),(D=Object.create(this.options)).cmd="connect",y(this,D),V.on("error",this.emit.bind(this,"error")),this.options.properties){if(!this.options.properties.authenticationMethod&&this.options.properties.authenticationData)return K.end((function(){return z.emit("error",new Error("Packet has no Authentication Method"))})),this;this.options.properties.authenticationMethod&&this.options.authPacket&&"object"==$(this.options.authPacket)&&y(this,X({"cmd":"auth","reasonCode":0},this.options.authPacket))}this.stream.setMaxListeners(1e3),clearTimeout(this.connackTimer),this.connackTimer=setTimeout((function(){ee("!!connectTimeout hit!! Calling _cleanUp with force `true`"),K._cleanUp(!0)}),this.options.connectTimeout)},v.prototype._handlePacket=function(D,z){var H=this.options;if(5===H.protocolVersion&&H.properties&&H.properties.maximumPacketSize&&H.properties.maximumPacketSize<D.length)return this.emit("error",new Error("exceeding packets size "+D.cmd)),this.end({"reasonCode":149,"properties":{"reasonString":"Maximum packet size was exceeded"}}),this;switch(ee("_handlePacket :: emitting packetreceive"),this.emit("packetreceive",D),D.cmd){case"publish":this._handlePublish(D,z);break;case"puback":case"pubrec":case"pubcomp":case"suback":case"unsuback":this._handleAck(D),z();break;case"pubrel":this._handlePubrel(D,z);break;case"connack":this._handleConnack(D),z();break;case"pingresp":this._handlePingresp(D),z();break;case"disconnect":this._handleDisconnect(D),z()}},v.prototype._checkDisconnecting=function(D){return this.disconnecting&&(D?D(new Error("client disconnecting")):this.emit("error",new Error("client disconnecting"))),this.disconnecting},v.prototype.publish=function(D,z,H,K){var W;ee("publish :: message `%s` to topic `%s`",z,D);var V=this.options;if("function"==typeof H&&(K=H,H=null),H=X({"qos":0,"retain":!1,"dup":!1},H),this._checkDisconnecting(K))return this;switch(W={"cmd":"publish","topic":D,"payload":z,"qos":H.qos,"retain":H.retain,"messageId":this._nextId(),"dup":H.dup},5===V.protocolVersion&&(W.properties=H.properties,(!V.properties&&W.properties&&W.properties.topicAlias||H.properties&&V.properties&&(H.properties.topicAlias&&V.properties.topicAliasMaximum&&H.properties.topicAlias>V.properties.topicAliasMaximum||!V.properties.topicAliasMaximum&&H.properties.topicAlias))&&delete W.properties.topicAlias),ee("publish :: qos",H.qos),H.qos){case 1:case 2:this.outgoing[W.messageId]={"volatile":!1,"cb":K||_},this._storeProcessing?(ee("_storeProcessing enabled"),this._packetIdsDuringStoreProcessing[W.messageId]=!1,this._storePacket(W,void 0,H.cbStorePut)):(ee("MqttClient:publish: packet cmd: %s",W.cmd),this._sendPacket(W,void 0,H.cbStorePut));break;default:this._storeProcessing?(ee("_storeProcessing enabled"),this._storePacket(W,K,H.cbStorePut)):(ee("MqttClient:publish: packet cmd: %s",W.cmd),this._sendPacket(W,K,H.cbStorePut))}return this},v.prototype.subscribe=function(){for(var D,z=new Array(arguments.length),H=0;H<arguments.length;H++)z[H]=arguments[H];var K,W=[],V=z.shift(),Q=V.resubscribe,Z=z.pop()||_,$=z.pop(),G=this,J=this.options.protocolVersion;if(delete V.resubscribe,"string"==typeof V&&(V=[V]),"function"!=typeof Z&&($=Z,Z=_),null!==(K=Y.validateTopics(V)))return te(Z,new Error("Invalid topic "+K)),this;if(this._checkDisconnecting(Z))return ee("subscribe: discconecting true"),this;var re={"qos":0};if(5===J&&(re.nl=!1,re.rap=!1,re.rh=0),$=X(re,$),Array.isArray(V)?V.forEach((function(D){if(ee("subscribe: array topic %s",D),!G._resubscribeTopics.hasOwnProperty(D)||G._resubscribeTopics[D].qos<$.qos||Q){var z={"topic":D,"qos":$.qos};5===J&&(z.nl=$.nl,z.rap=$.rap,z.rh=$.rh,z.properties=$.properties),ee("subscribe: pushing topic `%s` and qos `%s` to subs list",z.topic,z.qos),W.push(z)}})):Object.keys(V).forEach((function(D){if(ee("subscribe: object topic %s",D),!G._resubscribeTopics.hasOwnProperty(D)||G._resubscribeTopics[D].qos<V[D].qos||Q){var z={"topic":D,"qos":V[D].qos};5===J&&(z.nl=V[D].nl,z.rap=V[D].rap,z.rh=V[D].rh,z.properties=$.properties),ee("subscribe: pushing `%s` to subs list",z),W.push(z)}})),D={"cmd":"subscribe","subscriptions":W,"qos":1,"retain":!1,"dup":!1,"messageId":this._nextId()},$.properties&&(D.properties=$.properties),W.length){if(this.options.resubscribe){ee("subscribe :: resubscribe true");var ne=[];W.forEach((function(D){if(G.options.reconnectPeriod>0){var z={"qos":D.qos};5===J&&(z.nl=D.nl||!1,z.rap=D.rap||!1,z.rh=D.rh||0,z.properties=D.properties),G._resubscribeTopics[D.topic]=z,ne.push(D.topic)}})),G.messageIdToTopic[D.messageId]=ne}return this.outgoing[D.messageId]={"volatile":!0,"cb":function cb(D,z){if(!D)for(var H=z.granted,K=0;K<H.length;K+=1)W[K].qos=H[K];Z(D,W)}},ee("subscribe :: call _sendPacket"),this._sendPacket(D),this}Z(null,[])},v.prototype.unsubscribe=function(){for(var D={"cmd":"unsubscribe","qos":1,"messageId":this._nextId()},z=this,H=new Array(arguments.length),K=0;K<arguments.length;K++)H[K]=arguments[K];var W=H.shift(),V=H.pop()||_,Q=H.pop();return"string"==typeof W&&(W=[W]),"function"!=typeof V&&(Q=V,V=_),this._checkDisconnecting(V)||("string"==typeof W?D.unsubscriptions=[W]:Array.isArray(W)&&(D.unsubscriptions=W),this.options.resubscribe&&D.unsubscriptions.forEach((function(D){delete z._resubscribeTopics[D]})),"object"==$(Q)&&Q.properties&&(D.properties=Q.properties),this.outgoing[D.messageId]={"volatile":!0,"cb":V},ee("unsubscribe: call _sendPacket"),this._sendPacket(D)),this},v.prototype.end=function(D,z,K){var W=this;function o(){ee("end :: (%s) :: finish :: calling _cleanUp with force %s",W.options.clientId,D),W._cleanUp(D,(function(){ee("end :: finish :: calling process.nextTick on closeStores"),H.nextTick(function(){ee("end :: closeStores: closing incoming and outgoing stores"),W.disconnected=!0,W.incomingStore.close((function(){W.outgoingStore.close((function(){ee("end :: closeStores: emitting end"),W.emit("end"),K&&(ee("end :: closeStores: invoking callback with args"),K())}))})),W._deferredReconnect&&W._deferredReconnect()}.bind(W))}),z)}return ee("end :: (%s)",this.options.clientId),null!=D&&"boolean"==typeof D||(K=z||_,z=D,D=!1,"object"!=$(z)&&(K=z,z=null,"function"!=typeof K&&(K=_))),"object"!=$(z)&&(K=z,z=null),ee("end :: cb? %s",!!K),K=K||_,this.disconnecting?(K(),this):(this._clearReconnect(),this.disconnecting=!0,!D&&Object.keys(this.outgoing).length>0?(ee("end :: (%s) :: calling finish in 10ms once outgoing is empty",W.options.clientId),this.once("outgoingEmpty",setTimeout.bind(null,o,10))):(ee("end :: (%s) :: immediately calling finish",W.options.clientId),o()),this)},v.prototype.removeOutgoingMessage=function(D){var z=this.outgoing[D]?this.outgoing[D].cb:null;return delete this.outgoing[D],this.outgoingStore.del({"messageId":D},(function(){z(new Error("Message removed"))})),this},v.prototype.reconnect=function(D){ee("client reconnect");var z=this,H=function r(){D?(z.options.incomingStore=D.incomingStore,z.options.outgoingStore=D.outgoingStore):(z.options.incomingStore=null,z.options.outgoingStore=null),z.incomingStore=z.options.incomingStore||new V,z.outgoingStore=z.options.outgoingStore||new V,z.disconnecting=!1,z.disconnected=!1,z._deferredReconnect=null,z._reconnect()};return this.disconnecting&&!this.disconnected?this._deferredReconnect=H:H(),this},v.prototype._reconnect=function(){ee("_reconnect: emitting reconnect to client"),this.emit("reconnect"),ee("_reconnect: calling _setupStream"),this._setupStream()},v.prototype._setupReconnect=function(){var D=this;!D.disconnecting&&!D.reconnectTimer&&D.options.reconnectPeriod>0?(this.reconnecting||(ee("_setupReconnect :: emit `offline` state"),this.emit("offline"),ee("_setupReconnect :: set `reconnecting` to `true`"),this.reconnecting=!0),ee("_setupReconnect :: setting reconnectTimer for %d ms",D.options.reconnectPeriod),D.reconnectTimer=setInterval((function(){ee("reconnectTimer :: reconnect triggered!"),D._reconnect()}),D.options.reconnectPeriod)):ee("_setupReconnect :: doing nothing...")},v.prototype._clearReconnect=function(){ee("_clearReconnect : clearing reconnect timer"),this.reconnectTimer&&(clearInterval(this.reconnectTimer),this.reconnectTimer=null)},v.prototype._cleanUp=function(D,z){var H,K=arguments[2];if(z&&(ee("_cleanUp :: done callback provided for on stream close"),this.stream.on("close",z)),ee("_cleanUp :: forced? %s",D),D)0===this.options.reconnectPeriod&&this.options.clean&&(H=this.outgoing)&&(ee("flush: queue exists? %b",!!H),Object.keys(H).forEach((function(D){"function"==typeof H[D].cb&&(H[D].cb(new Error("Connection closed")),delete H[D])}))),ee("_cleanUp :: (%s) :: destroying stream",this.options.clientId),this.stream.destroy();else{var W=X({"cmd":"disconnect"},K);ee("_cleanUp :: (%s) :: call _sendPacket with disconnect packet",this.options.clientId),this._sendPacket(W,te.bind(null,this.stream.end.bind(this.stream)))}this.disconnecting||(ee("_cleanUp :: client not disconnecting. Clearing and resetting reconnect."),this._clearReconnect(),this._setupReconnect()),null!==this.pingTimer&&(ee("_cleanUp :: clearing pingTimer"),this.pingTimer.clear(),this.pingTimer=null),z&&!this.connected&&(ee("_cleanUp :: (%s) :: removing stream `done` callback `close` listener",this.options.clientId),this.stream.removeListener("close",z),z())},v.prototype._sendPacket=function(D,z,H){if(ee("_sendPacket :: (%s) ::  start",this.options.clientId),H=H||_,!this.connected)return ee("_sendPacket :: client not connected. Storing packet offline."),void this._storePacket(D,z,H);switch(this._shiftPingInterval(),D.cmd){case"publish":break;case"pubrel":return void m(this,D,z,H);default:return void y(this,D,z)}switch(D.qos){case 2:case 1:m(this,D,z,H);break;default:y(this,D,z)}ee("_sendPacket :: (%s) ::  end",this.options.clientId)},v.prototype._storePacket=function(D,z,H){ee("_storePacket :: packet: %o",D),ee("_storePacket :: cb? %s",!!z),H=H||_,0===(D.qos||0)&&this.queueQoSZero||"publish"!==D.cmd?this.queue.push({"packet":D,"cb":z}):D.qos>0?(z=this.outgoing[D.messageId]?this.outgoing[D.messageId].cb:null,this.outgoingStore.put(D,(function(D){if(D)return z&&z(D);H()}))):z&&z(new Error("No connection to broker"))},v.prototype._setupPingTimer=function(){ee("_setupPingTimer :: keepalive %d (seconds)",this.options.keepalive);var D=this;!this.pingTimer&&this.options.keepalive&&(this.pingResp=!0,this.pingTimer=J((function(){D._checkPing()}),1e3*this.options.keepalive))},v.prototype._shiftPingInterval=function(){this.pingTimer&&this.options.keepalive&&this.options.reschedulePings&&this.pingTimer.reschedule(1e3*this.options.keepalive)},v.prototype._checkPing=function(){ee("_checkPing :: checking ping..."),this.pingResp?(ee("_checkPing :: ping response received. Clearing flag and sending `pingreq`"),this.pingResp=!1,this._sendPacket({"cmd":"pingreq"})):(ee("_checkPing :: calling _cleanUp with force true"),this._cleanUp(!0))},v.prototype._handlePingresp=function(){this.pingResp=!0},v.prototype._handleConnack=function(D){ee("_handleConnack");var z=this.options,H=5===z.protocolVersion?D.reasonCode:D.returnCode;if(clearTimeout(this.connackTimer),D.properties&&(D.properties.topicAliasMaximum&&(z.properties||(z.properties={}),z.properties.topicAliasMaximum=D.properties.topicAliasMaximum),D.properties.serverKeepAlive&&z.keepalive&&(z.keepalive=D.properties.serverKeepAlive,this._shiftPingInterval()),D.properties.maximumPacketSize&&(z.properties||(z.properties={}),z.properties.maximumPacketSize=D.properties.maximumPacketSize)),0===H)this.reconnecting=!1,this._onConnect(D);else if(H>0){var K=new Error("Connection refused: "+ie[H]);K.code=H,this.emit("error",K)}},v.prototype._handlePublish=function(D,z){ee("_handlePublish: packet %o",D),z=void 0!==z?z:_;var H=D.topic.toString(),K=D.payload,W=D.qos,V=D.messageId,Q=this,Z=this.options,$=[0,16,128,131,135,144,145,151,153];switch(ee("_handlePublish: qos %d",W),W){case 2:Z.customHandleAcks(H,K,D,(function(H,K){return H instanceof Error||(K=H,H=null),H?Q.emit("error",H):-1===$.indexOf(K)?Q.emit("error",new Error("Wrong reason code for pubrec")):void(K?Q._sendPacket({"cmd":"pubrec","messageId":V,"reasonCode":K},z):Q.incomingStore.put(D,(function(){Q._sendPacket({"cmd":"pubrec","messageId":V},z)})))}));break;case 1:Z.customHandleAcks(H,K,D,(function(W,Z){return W instanceof Error||(Z=W,W=null),W?Q.emit("error",W):-1===$.indexOf(Z)?Q.emit("error",new Error("Wrong reason code for puback")):(Z||Q.emit("message",H,K,D),void Q.handleMessage(D,(function(D){if(D)return z&&z(D);Q._sendPacket({"cmd":"puback","messageId":V,"reasonCode":Z},z)})))}));break;case 0:this.emit("message",H,K,D),this.handleMessage(D,z);break;default:ee("_handlePublish: unknown QoS. Doing nothing.")}},v.prototype.handleMessage=function(D,z){z()},v.prototype._handleAck=function(D){var z,H=D.messageId,K=D.cmd,W=null,V=this.outgoing[H]?this.outgoing[H].cb:null,Q=this;if(V){switch(ee("_handleAck :: packet type",K),K){case"pubcomp":case"puback":var Z=D.reasonCode;Z&&Z>0&&16!==Z&&((z=new Error("Publish error: "+ie[Z])).code=Z,V(z,D)),delete this.outgoing[H],this.outgoingStore.del(D,V);break;case"pubrec":W={"cmd":"pubrel","qos":2,"messageId":H};var $=D.reasonCode;$&&$>0&&16!==$?((z=new Error("Publish error: "+ie[$])).code=$,V(z,D)):this._sendPacket(W);break;case"suback":delete this.outgoing[H];for(var G=0;G<D.granted.length;G++)if(128&D.granted[G]){var J=this.messageIdToTopic[H];J&&J.forEach((function(D){delete Q._resubscribeTopics[D]}))}V(null,D);break;case"unsuback":delete this.outgoing[H],V(null);break;default:Q.emit("error",new Error("unrecognized packet type"))}this.disconnecting&&0===Object.keys(this.outgoing).length&&this.emit("outgoingEmpty")}else ee("_handleAck :: Server sent an ack in error. Ignoring.")},v.prototype._handlePubrel=function(D,z){ee("handling pubrel packet"),z=void 0!==z?z:_;var H=this,K={"cmd":"pubcomp","messageId":D.messageId};H.incomingStore.get(D,(function(D,W){D?H._sendPacket(K,z):(H.emit("message",W.topic,W.payload,W),H.handleMessage(W,(function(D){if(D)return z(D);H.incomingStore.del(W,_),H._sendPacket(K,z)})))}))},v.prototype._handleDisconnect=function(D){this.emit("disconnect",D)},v.prototype._nextId=function(){var D=this.nextId++;return 65536===this.nextId&&(this.nextId=1),D},v.prototype.getLastMessageId=function(){return 1===this.nextId?65535:this.nextId-1},v.prototype._resubscribe=function(D){ee("_resubscribe");var z=Object.keys(this._resubscribeTopics);if(!this._firstConnection&&(this.options.clean||5===this.options.protocolVersion&&!D.sessionPresent)&&z.length>0)if(this.options.resubscribe)if(5===this.options.protocolVersion){ee("_resubscribe: protocolVersion 5");for(var H=0;H<z.length;H++){var K={};K[z[H]]=this._resubscribeTopics[z[H]],K.resubscribe=!0,this.subscribe(K,{"properties":K[z[H]].properties})}}else this._resubscribeTopics.resubscribe=!0,this.subscribe(this._resubscribeTopics);else this._resubscribeTopics={};this._firstConnection=!1},v.prototype._onConnect=function(D){if(this.disconnected)this.emit("connect",D);else{var z=this;this._setupPingTimer(),this._resubscribe(D),this.connected=!0,function r(){var H=z.outgoingStore.createStream();function i(){z._storeProcessing=!1,z._packetIdsDuringStoreProcessing={}}function o(){H.destroy(),H=null,i()}z.once("close",o),H.on("error",(function(D){i(),z.removeListener("close",o),z.emit("error",D)})),H.on("end",(function(){var H=!0;for(var K in z._packetIdsDuringStoreProcessing)if(!z._packetIdsDuringStoreProcessing[K]){H=!1;break}H?(i(),z.removeListener("close",o),z.emit("connect",D)):r()})),function e(){if(H){z._storeProcessing=!0;var D,K=H.read(1);K?z._packetIdsDuringStoreProcessing[K.messageId]?e():z.disconnecting||z.reconnectTimer?H.destroy&&H.destroy():(D=z.outgoing[K.messageId]?z.outgoing[K.messageId].cb:null,z.outgoing[K.messageId]={"volatile":!1,"cb":function cb(z,H){D&&D(z,H),e()}},z._packetIdsDuringStoreProcessing[K.messageId]=!0,z._sendPacket(K)):H.once("readable",e)}}()}()}},z.exports=v}).call(this,D("_process"),void 0!==H.g?H.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./store":7,"./validations":8,"_process":100,"debug":17,"events":83,"inherits":88,"mqtt-packet":92,"readable-stream":116,"reinterval":117,"xtend":140}],"2":[function(D,z,H){(function(H){"use strict";var K,W,V,Q=D("readable-stream").Transform,Z=D("duplexify"),$=D("base64-js"),G=!1;z.exports=function(D,z){if(z.hostname=z.hostname||z.host,!z.hostname)throw new Error("Could not determine host. Specify host manually.");var J="MQIsdp"===z.protocolId&&3===z.protocolVersion?"mqttv3.1":"mqtt";!function(D){D.hostname||(D.hostname="localhost"),D.path||(D.path="/"),D.wsOptions||(D.wsOptions={})}(z);var Y=function(D,z){var H="alis"===D.protocol?"wss":"ws",K=H+"://"+D.hostname+D.path;return D.port&&80!==D.port&&443!==D.port&&(K=H+"://"+D.hostname+":"+D.port+D.path),"function"==typeof D.transformWsUrl&&(K=D.transformWsUrl(K,D,z)),K}(z,D);return(K=z.my).connectSocket({"url":Y,"protocols":J}),W=function(){var D=new Q;return D._write=function(D,z,H){K.sendSocketMessage({"data":D.buffer,"success":function success(){H()},"fail":function fail(){H(new Error)}})},D._flush=function(D){K.closeSocket({"success":function success(){D()}})},D}(),V=Z.obj(),G||(G=!0,K.onSocketOpen((function(){V.setReadable(W),V.setWritable(W),V.emit("connect")})),K.onSocketMessage((function(D){if("string"==typeof D.data){var z=$.toByteArray(D.data),K=H.from(z);W.push(K)}else{var V=new FileReader;V.addEventListener("load",(function(){var D=V.result;D=D instanceof ArrayBuffer?H.from(D):H.from(D,"utf8"),W.push(D)})),V.readAsArrayBuffer(D.data)}})),K.onSocketClose((function(){V.end(),V.destroy()})),K.onSocketError((function(D){V.destroy(D)}))),V}}).call(this,D("buffer").Buffer)},{"base64-js":10,"buffer":12,"duplexify":19,"readable-stream":116}],"3":[function(D,z,H){"use strict";var K=D("net"),W=D("debug")("mqttjs:tcp");z.exports=function(D,z){var H,V;return z.port=z.port||1883,z.hostname=z.hostname||z.host||"localhost",H=z.port,V=z.hostname,W("port %d and host %s",H,V),K.createConnection(H,V)}},{"debug":17,"net":11}],"4":[function(D,z,H){"use strict";var K=D("tls"),W=D("debug")("mqttjs:tls");z.exports=function(D,z){var H;function o(K){z.rejectUnauthorized&&D.emit("error",K),H.end()}return z.port=z.port||8883,z.host=z.hostname||z.host||"localhost",z.servername=z.host,z.rejectUnauthorized=!1!==z.rejectUnauthorized,delete z.path,W("port %d host %s rejectUnauthorized %b",z.port,z.host,z.rejectUnauthorized),(H=K.connect(z)).on("secureConnect",(function(){z.rejectUnauthorized&&!H.authorized?H.emit("error",new Error("TLS not authorized")):H.removeListener("error",o)})),H.on("error",o),H}},{"debug":17,"tls":11}],"5":[function(D,z,H){(function(H){"use strict";var K=D("debug")("mqttjs:ws"),W=D("websocket-stream"),V=D("url"),Q=["rejectUnauthorized","ca","cert","key","pfx","passphrase"],Z="browser"===H.title;function u(D,z){K("createWebSocket");var H="MQIsdp"===z.protocolId&&3===z.protocolVersion?"mqttv3.1":"mqtt";!function(D){D.hostname||(D.hostname="localhost"),D.port||("wss"===D.protocol?D.port=443:D.port=80),D.path||(D.path="/"),D.wsOptions||(D.wsOptions={}),Z||"wss"!==D.protocol||Q.forEach((function(z){D.hasOwnProperty(z)&&!D.wsOptions.hasOwnProperty(z)&&(D.wsOptions[z]=D[z])}))}(z);var V=function(D,z){var H=D.protocol+"://"+D.hostname+":"+D.port+D.path;return"function"==typeof D.transformWsUrl&&(H=D.transformWsUrl(H,D,z)),H}(z,D);return K("url %s protocol %s",V,H),W(V,[H],z.wsOptions)}z.exports=Z?function(D,z){if(K("browserStreamBuilder"),z.hostname||(z.hostname=z.host),!z.hostname){if("undefined"==typeof document)throw new Error("Could not determine host. Specify host manually.");var H=V.parse(document.URL);z.hostname=H.hostname,z.port||(z.port=H.port)}return u(D,z)}:function(D,z){return u(D,z)}}).call(this,D("_process"))},{"_process":100,"debug":17,"url":132,"websocket-stream":137}],"6":[function(D,z,H){(function(H,K){"use strict";var W,V,Q,Z=D("readable-stream").Transform,$=D("duplexify");z.exports=function(D,z){if(z.hostname=z.hostname||z.host,!z.hostname)throw new Error("Could not determine host. Specify host manually.");var G="MQIsdp"===z.protocolId&&3===z.protocolVersion?"mqttv3.1":"mqtt";!function(D){D.hostname||(D.hostname="localhost"),D.path||(D.path="/"),D.wsOptions||(D.wsOptions={})}(z);var J=function(D,z){var H="wxs"===D.protocol?"wss":"ws",K=H+"://"+D.hostname+D.path;return D.port&&80!==D.port&&443!==D.port&&(K=H+"://"+D.hostname+":"+D.port+D.path),"function"==typeof D.transformWsUrl&&(K=D.transformWsUrl(K,D,z)),K}(z,D);W=wx.connectSocket({"url":J,"protocols":[G]}),V=function(){var D=new Z;return D._write=function(D,z,H){W.send({"data":D.buffer,"success":function success(){H()},"fail":function fail(D){H(new Error(D))}})},D._flush=function(D){W.close({"success":function success(){D()}})},D}(),(Q=$.obj())._destroy=function(D,z){W.close({"success":function success(){z&&z(D)}})};var Y=Q.destroy;return Q.destroy=function(){Q.destroy=Y;var D=this;H.nextTick((function(){W.close({"fail":function fail(){D._destroy(new Error)}})}))}.bind(Q),W.onOpen((function(){Q.setReadable(V),Q.setWritable(V),Q.emit("connect")})),W.onMessage((function(D){var z=D.data;z=z instanceof ArrayBuffer?K.from(z):K.from(z,"utf8"),V.push(z)})),W.onClose((function(){Q.end(),Q.destroy()})),W.onError((function(D){Q.destroy(new Error(D.errMsg))})),Q}}).call(this,D("_process"),D("buffer").Buffer)},{"_process":100,"buffer":12,"duplexify":19,"readable-stream":116}],"7":[function(D,z,H){(function(H){"use strict";var K=D("xtend"),W=D("readable-stream").Readable,V={"objectMode":!0},Q={"clean":!0},Z=D("es6-map");function u(D){if(!(this instanceof u))return new u(D);this.options=D||{},this.options=K(Q,D),this._inflights=new Z}u.prototype.put=function(D,z){return this._inflights.set(D.messageId,D),z&&z(),this},u.prototype.createStream=function(){var D=new W(V),z=!1,K=[],Q=0;return this._inflights.forEach((function(D,z){K.push(D)})),D._read=function(){!z&&Q<K.length?this.push(K[Q++]):this.push(null)},D.destroy=function(){if(!z){var D=this;z=!0,H.nextTick((function(){D.emit("close")}))}},D},u.prototype.del=function(D,z){return(D=this._inflights.get(D.messageId))?(this._inflights.delete(D.messageId),z(null,D)):z&&z(new Error("missing packet")),this},u.prototype.get=function(D,z){return(D=this._inflights.get(D.messageId))?z(null,D):z&&z(new Error("missing packet")),this},u.prototype.close=function(D){this.options.clean&&(this._inflights=null),D&&D()},z.exports=u}).call(this,D("_process"))},{"_process":100,"es6-map":68,"readable-stream":116,"xtend":140}],"8":[function(D,z,H){"use strict";function n(D){for(var z=D.split("/"),H=0;H<z.length;H++)if("+"!==z[H]){if("#"===z[H])return H===z.length-1;if(-1!==z[H].indexOf("+")||-1!==z[H].indexOf("#"))return!1}return!0}z.exports={"validateTopics":function validateTopics(D){if(0===D.length)return"empty_topic_list";for(var z=0;z<D.length;z++)if(!n(D[z]))return D[z];return null}}},{}],"9":[function(D,z,H){(function(H){"use strict";var K=D("../client"),W=D("../store"),V=D("url"),Q=D("xtend"),Z=D("debug")("mqttjs"),G={};function c(D,z){if(Z("connecting to an MQTT broker..."),"object"!=$(D)||z||(z=D,D=null),z=z||{},D){var H=V.parse(D,!0);if(null!=H.port&&(H.port=Number(H.port)),null===(z=Q(H,z)).protocol)throw new Error("Missing protocol");z.protocol=z.protocol.replace(/:$/,"")}if(function(D){var z;D.auth&&((z=D.auth.match(/^(.+):(.+)$/))?(D.username=z[1],D.password=z[2]):D.username=D.auth)}(z),z.query&&"string"==typeof z.query.clientId&&(z.clientId=z.query.clientId),z.cert&&z.key){if(!z.protocol)throw new Error("Missing secure protocol key");if(-1===["mqtts","wss","wxs","alis"].indexOf(z.protocol))switch(z.protocol){case"mqtt":z.protocol="mqtts";break;case"ws":z.protocol="wss";break;case"wx":z.protocol="wxs";break;case"ali":z.protocol="alis";break;default:throw new Error('Unknown protocol for secure connection: "'+z.protocol+'"!')}}if(!G[z.protocol]){var W=-1!==["mqtts","wss"].indexOf(z.protocol);z.protocol=["mqtt","mqtts","ws","wss","wx","wxs","ali","alis"].filter((function(D,z){return(!W||z%2!=0)&&"function"==typeof G[D]}))[0]}if(!1===z.clean&&!z.clientId)throw new Error("Missing clientId for unclean clients");z.protocol&&(z.defaultProtocol=z.protocol);var J=new K((function(D){return z.servers&&(D._reconnectCount&&D._reconnectCount!==z.servers.length||(D._reconnectCount=0),z.host=z.servers[D._reconnectCount].host,z.port=z.servers[D._reconnectCount].port,z.protocol=z.servers[D._reconnectCount].protocol?z.servers[D._reconnectCount].protocol:z.defaultProtocol,z.hostname=z.host,D._reconnectCount++),Z("calling streambuilder for",z.protocol),G[z.protocol](D,z)}),z);return J.on("error",(function(){})),J}"browser"!==H.title?(G.mqtt=D("./tcp"),G.tcp=D("./tcp"),G.ssl=D("./tls"),G.tls=D("./tls"),G.mqtts=D("./tls")):(G.wx=D("./wx"),G.wxs=D("./wx"),G.ali=D("./ali"),G.alis=D("./ali")),G.ws=D("./ws"),G.wss=D("./ws"),z.exports=c,z.exports.connect=c,z.exports.MqttClient=K,z.exports.Store=W}).call(this,D("_process"))},{"../client":1,"../store":7,"./ali":2,"./tcp":3,"./tls":4,"./ws":5,"./wx":6,"_process":100,"debug":17,"url":132,"xtend":140}],"10":[function(D,z,H){"use strict";H.byteLength=function(D){var z=c(D),H=z[0],K=z[1];return 3*(H+K)/4-K},H.toByteArray=function(D){for(var z,H=c(D),K=H[0],Q=H[1],Z=new V(function(D,z,H){return 3*(z+H)/4-H}(0,K,Q)),$=0,G=Q>0?K-4:K,J=0;J<G;J+=4)z=W[D.charCodeAt(J)]<<18|W[D.charCodeAt(J+1)]<<12|W[D.charCodeAt(J+2)]<<6|W[D.charCodeAt(J+3)],Z[$++]=z>>16&255,Z[$++]=z>>8&255,Z[$++]=255&z;return 2===Q&&(z=W[D.charCodeAt(J)]<<2|W[D.charCodeAt(J+1)]>>4,Z[$++]=255&z),1===Q&&(z=W[D.charCodeAt(J)]<<10|W[D.charCodeAt(J+1)]<<4|W[D.charCodeAt(J+2)]>>2,Z[$++]=z>>8&255,Z[$++]=255&z),Z},H.fromByteArray=function(D){for(var z,H=D.length,W=H%3,V=[],Q=0,Z=H-W;Q<Z;Q+=16383)V.push(l(D,Q,Q+16383>Z?Z:Q+16383));return 1===W?(z=D[H-1],V.push(K[z>>2]+K[z<<4&63]+"==")):2===W&&(z=(D[H-2]<<8)+D[H-1],V.push(K[z>>10]+K[z>>4&63]+K[z<<2&63]+"=")),V.join("")};for(var K=[],W=[],V="undefined"!=typeof Uint8Array?Uint8Array:Array,Q="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Z=0;Z<64;++Z)K[Z]=Q[Z],W[Q.charCodeAt(Z)]=Z;function c(D){var z=D.length;if(z%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var H=D.indexOf("=");return-1===H&&(H=z),[H,H===z?0:4-H%4]}function l(D,z,H){for(var W,V,Q=[],Z=z;Z<H;Z+=3)W=(D[Z]<<16&16711680)+(D[Z+1]<<8&65280)+(255&D[Z+2]),Q.push(K[(V=W)>>18&63]+K[V>>12&63]+K[V>>6&63]+K[63&V]);return Q.join("")}W["-".charCodeAt(0)]=62,W["_".charCodeAt(0)]=63},{}],"11":[function(D,z,H){},{}],"12":[function(D,z,H){(function(z){"use strict";var K=D("base64-js"),W=D("ieee754");H.Buffer=z,H.SlowBuffer=function(D){return+D!=D&&(D=0),z.alloc(+D)},H.INSPECT_MAX_BYTES=50;var V=2147483647;function s(D){if(D>V)throw new RangeError('The value "'+D+'" is invalid for option "size"');var H=new Uint8Array(D);return H.__proto__=z.prototype,H}function z(D,z,H){if("number"==typeof D){if("string"==typeof z)throw new TypeError('The "string" argument must be of type string. Received type number');return c(D)}return a(D,z,H)}function a(D,H,K){if("string"==typeof D)return function(D,H){if("string"==typeof H&&""!==H||(H="utf8"),!z.isEncoding(H))throw new TypeError("Unknown encoding: "+H);var K=0|p(D,H),W=s(K),V=W.write(D,H);return V!==K&&(W=W.slice(0,V)),W}(D,H);if(ArrayBuffer.isView(D))return l(D);if(null==D)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+$(D));if(q(D,ArrayBuffer)||D&&q(D.buffer,ArrayBuffer))return function(D,H,K){if(H<0||D.byteLength<H)throw new RangeError('"offset" is outside of buffer bounds');if(D.byteLength<H+(K||0))throw new RangeError('"length" is outside of buffer bounds');var W;return(W=void 0===H&&void 0===K?new Uint8Array(D):void 0===K?new Uint8Array(D,H):new Uint8Array(D,H,K)).__proto__=z.prototype,W}(D,H,K);if("number"==typeof D)throw new TypeError('The "value" argument must not be of type number. Received type number');var W=D.valueOf&&D.valueOf();if(null!=W&&W!==D)return z.from(W,H,K);var V=function(D){if(z.isBuffer(D)){var H=0|f(D.length),K=s(H);return 0===K.length||D.copy(K,0,0,H),K}return void 0!==D.length?"number"!=typeof D.length||F(D.length)?s(0):l(D):"Buffer"===D.type&&Array.isArray(D.data)?l(D.data):void 0}(D);if(V)return V;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof D[Symbol.toPrimitive])return z.from(D[Symbol.toPrimitive]("string"),H,K);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+$(D))}function u(D){if("number"!=typeof D)throw new TypeError('"size" argument must be of type number');if(D<0)throw new RangeError('The value "'+D+'" is invalid for option "size"')}function c(D){return u(D),s(D<0?0:0|f(D))}function l(D){for(var z=D.length<0?0:0|f(D.length),H=s(z),K=0;K<z;K+=1)H[K]=255&D[K];return H}function f(D){if(D>=V)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+V.toString(16)+" bytes");return 0|D}function p(D,H){if(z.isBuffer(D))return D.length;if(ArrayBuffer.isView(D)||q(D,ArrayBuffer))return D.byteLength;if("string"!=typeof D)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+$(D));var K=D.length,W=arguments.length>2&&!0===arguments[2];if(!W&&0===K)return 0;for(var V=!1;;)switch(H){case"ascii":case"latin1":case"binary":return K;case"utf8":case"utf-8":return U(D).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*K;case"hex":return K>>>1;case"base64":return N(D).length;default:if(V)return W?-1:U(D).length;H=(""+H).toLowerCase(),V=!0}}function h(D,z,H){var K=D[z];D[z]=D[H],D[H]=K}function d(D,H,K,W,V){if(0===D.length)return-1;if("string"==typeof K?(W=K,K=0):K>2147483647?K=2147483647:K<-2147483648&&(K=-2147483648),F(K=+K)&&(K=V?0:D.length-1),K<0&&(K=D.length+K),K>=D.length){if(V)return-1;K=D.length-1}else if(K<0){if(!V)return-1;K=0}if("string"==typeof H&&(H=z.from(H,W)),z.isBuffer(H))return 0===H.length?-1:g(D,H,K,W,V);if("number"==typeof H)return H&=255,"function"==typeof Uint8Array.prototype.indexOf?V?Uint8Array.prototype.indexOf.call(D,H,K):Uint8Array.prototype.lastIndexOf.call(D,H,K):g(D,[H],K,W,V);throw new TypeError("val must be string, number or Buffer")}function g(D,z,H,K,W){var V,Q=1,Z=D.length,$=z.length;if(void 0!==K&&("ucs2"===(K=String(K).toLowerCase())||"ucs-2"===K||"utf16le"===K||"utf-16le"===K)){if(D.length<2||z.length<2)return-1;Q=2,Z/=2,$/=2,H/=2}function c(D,z){return 1===Q?D[z]:D.readUInt16BE(z*Q)}if(W){var G=-1;for(V=H;V<Z;V++)if(c(D,V)===c(z,-1===G?0:V-G)){if(-1===G&&(G=V),V-G+1===$)return G*Q}else-1!==G&&(V-=V-G),G=-1}else for(H+$>Z&&(H=Z-$),V=H;V>=0;V--){for(var J=!0,Y=0;Y<$;Y++)if(c(D,V+Y)!==c(z,Y)){J=!1;break}if(J)return V}return-1}function b(D,z,H,K){H=Number(H)||0;var W=D.length-H;K?(K=Number(K))>W&&(K=W):K=W;var V=z.length;K>V/2&&(K=V/2);for(var Q=0;Q<K;++Q){var Z=parseInt(z.substr(2*Q,2),16);if(F(Z))return Q;D[H+Q]=Z}return Q}function y(D,z,H,K){return L(U(z,D.length-H),D,H,K)}function m(D,z,H,K){return L(function(D){for(var z=[],H=0;H<D.length;++H)z.push(255&D.charCodeAt(H));return z}(z),D,H,K)}function _(D,z,H,K){return m(D,z,H,K)}function v(D,z,H,K){return L(N(z),D,H,K)}function w(D,z,H,K){return L(function(D,z){for(var H,K,W,V=[],Q=0;Q<D.length&&!((z-=2)<0);++Q)K=(H=D.charCodeAt(Q))>>8,W=H%256,V.push(W),V.push(K);return V}(z,D.length-H),D,H,K)}function S(D,z,H){return 0===z&&H===D.length?K.fromByteArray(D):K.fromByteArray(D.slice(z,H))}function x(D,z,H){H=Math.min(D.length,H);for(var K=[],W=z;W<H;){var V,Z,$,G,J=D[W],Y=null,X=J>239?4:J>223?3:J>191?2:1;if(W+X<=H)switch(X){case 1:J<128&&(Y=J);break;case 2:128==(192&(V=D[W+1]))&&(G=(31&J)<<6|63&V)>127&&(Y=G);break;case 3:V=D[W+1],Z=D[W+2],128==(192&V)&&128==(192&Z)&&(G=(15&J)<<12|(63&V)<<6|63&Z)>2047&&(G<55296||G>57343)&&(Y=G);break;case 4:V=D[W+1],Z=D[W+2],$=D[W+3],128==(192&V)&&128==(192&Z)&&128==(192&$)&&(G=(15&J)<<18|(63&V)<<12|(63&Z)<<6|63&$)>65535&&G<1114112&&(Y=G)}null===Y?(Y=65533,X=1):Y>65535&&(Y-=65536,K.push(Y>>>10&1023|55296),Y=56320|1023&Y),K.push(Y),W+=X}return function(D){var z=D.length;if(z<=Q)return String.fromCharCode.apply(String,D);for(var H="",K=0;K<z;)H+=String.fromCharCode.apply(String,D.slice(K,K+=Q));return H}(K)}H.kMaxLength=V,z.TYPED_ARRAY_SUPPORT=function(){try{var D=new Uint8Array(1);return D.__proto__={"__proto__":Uint8Array.prototype,"foo":function foo(){return 42}},42===D.foo()}catch(D){return!1}}(),z.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(z.prototype,"parent",{"enumerable":!0,"get":function get(){if(z.isBuffer(this))return this.buffer}}),Object.defineProperty(z.prototype,"offset",{"enumerable":!0,"get":function get(){if(z.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&z[Symbol.species]===z&&Object.defineProperty(z,Symbol.species,{"value":null,"configurable":!0,"enumerable":!1,"writable":!1}),z.poolSize=8192,z.from=function(D,z,H){return a(D,z,H)},z.prototype.__proto__=Uint8Array.prototype,z.__proto__=Uint8Array,z.alloc=function(D,z,H){return function(D,z,H){return u(D),D<=0?s(D):void 0!==z?"string"==typeof H?s(D).fill(z,H):s(D).fill(z):s(D)}(D,z,H)},z.allocUnsafe=function(D){return c(D)},z.allocUnsafeSlow=function(D){return c(D)},z.isBuffer=function(D){return null!=D&&!0===D._isBuffer&&D!==z.prototype},z.compare=function(D,H){if(q(D,Uint8Array)&&(D=z.from(D,D.offset,D.byteLength)),q(H,Uint8Array)&&(H=z.from(H,H.offset,H.byteLength)),!z.isBuffer(D)||!z.isBuffer(H))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(D===H)return 0;for(var K=D.length,W=H.length,V=0,Q=Math.min(K,W);V<Q;++V)if(D[V]!==H[V]){K=D[V],W=H[V];break}return K<W?-1:W<K?1:0},z.isEncoding=function(D){switch(String(D).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},z.concat=function(D,H){if(!Array.isArray(D))throw new TypeError('"list" argument must be an Array of Buffers');if(0===D.length)return z.alloc(0);var K;if(void 0===H)for(H=0,K=0;K<D.length;++K)H+=D[K].length;var W=z.allocUnsafe(H),V=0;for(K=0;K<D.length;++K){var Q=D[K];if(q(Q,Uint8Array)&&(Q=z.from(Q)),!z.isBuffer(Q))throw new TypeError('"list" argument must be an Array of Buffers');Q.copy(W,V),V+=Q.length}return W},z.byteLength=p,z.prototype._isBuffer=!0,z.prototype.swap16=function(){var D=this.length;if(D%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var z=0;z<D;z+=2)h(this,z,z+1);return this},z.prototype.swap32=function(){var D=this.length;if(D%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var z=0;z<D;z+=4)h(this,z,z+3),h(this,z+1,z+2);return this},z.prototype.swap64=function(){var D=this.length;if(D%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var z=0;z<D;z+=8)h(this,z,z+7),h(this,z+1,z+6),h(this,z+2,z+5),h(this,z+3,z+4);return this},z.prototype.toString=function(){var D=this.length;return 0===D?"":0===arguments.length?x(this,0,D):function(D,z,H){var K=!1;if((void 0===z||z<0)&&(z=0),z>this.length)return"";if((void 0===H||H>this.length)&&(H=this.length),H<=0)return"";if((H>>>=0)<=(z>>>=0))return"";for(D||(D="utf8");;)switch(D){case"hex":return C(this,z,H);case"utf8":case"utf-8":return x(this,z,H);case"ascii":return E(this,z,H);case"latin1":case"binary":return I(this,z,H);case"base64":return S(this,z,H);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,z,H);default:if(K)throw new TypeError("Unknown encoding: "+D);D=(D+"").toLowerCase(),K=!0}}.apply(this,arguments)},z.prototype.toLocaleString=z.prototype.toString,z.prototype.equals=function(D){if(!z.isBuffer(D))throw new TypeError("Argument must be a Buffer");return this===D||0===z.compare(this,D)},z.prototype.inspect=function(){var D="",z=H.INSPECT_MAX_BYTES;return D=this.toString("hex",0,z).replace(/(.{2})/g,"$1 ").trim(),this.length>z&&(D+=" ... "),"<Buffer "+D+">"},z.prototype.compare=function(D,H,K,W,V){if(q(D,Uint8Array)&&(D=z.from(D,D.offset,D.byteLength)),!z.isBuffer(D))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+$(D));if(void 0===H&&(H=0),void 0===K&&(K=D?D.length:0),void 0===W&&(W=0),void 0===V&&(V=this.length),H<0||K>D.length||W<0||V>this.length)throw new RangeError("out of range index");if(W>=V&&H>=K)return 0;if(W>=V)return-1;if(H>=K)return 1;if(this===D)return 0;for(var Q=(V>>>=0)-(W>>>=0),Z=(K>>>=0)-(H>>>=0),G=Math.min(Q,Z),J=this.slice(W,V),Y=D.slice(H,K),X=0;X<G;++X)if(J[X]!==Y[X]){Q=J[X],Z=Y[X];break}return Q<Z?-1:Z<Q?1:0},z.prototype.includes=function(D,z,H){return-1!==this.indexOf(D,z,H)},z.prototype.indexOf=function(D,z,H){return d(this,D,z,H,!0)},z.prototype.lastIndexOf=function(D,z,H){return d(this,D,z,H,!1)},z.prototype.write=function(D,z,H,K){if(void 0===z)K="utf8",H=this.length,z=0;else if(void 0===H&&"string"==typeof z)K=z,H=this.length,z=0;else{if(!isFinite(z))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");z>>>=0,isFinite(H)?(H>>>=0,void 0===K&&(K="utf8")):(K=H,H=void 0)}var W=this.length-z;if((void 0===H||H>W)&&(H=W),D.length>0&&(H<0||z<0)||z>this.length)throw new RangeError("Attempt to write outside buffer bounds");K||(K="utf8");for(var V=!1;;)switch(K){case"hex":return b(this,D,z,H);case"utf8":case"utf-8":return y(this,D,z,H);case"ascii":return m(this,D,z,H);case"latin1":case"binary":return _(this,D,z,H);case"base64":return v(this,D,z,H);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w(this,D,z,H);default:if(V)throw new TypeError("Unknown encoding: "+K);K=(""+K).toLowerCase(),V=!0}},z.prototype.toJSON=function(){return{"type":"Buffer","data":Array.prototype.slice.call(this._arr||this,0)}};var Q=4096;function E(D,z,H){var K="";H=Math.min(D.length,H);for(var W=z;W<H;++W)K+=String.fromCharCode(127&D[W]);return K}function I(D,z,H){var K="";H=Math.min(D.length,H);for(var W=z;W<H;++W)K+=String.fromCharCode(D[W]);return K}function C(D,z,H){var K=D.length;(!z||z<0)&&(z=0),(!H||H<0||H>K)&&(H=K);for(var W="",V=z;V<H;++V)W+=R(D[V]);return W}function O(D,z,H){for(var K=D.slice(z,H),W="",V=0;V<K.length;V+=2)W+=String.fromCharCode(K[V]+256*K[V+1]);return W}function j(D,z,H){if(D%1!=0||D<0)throw new RangeError("offset is not uint");if(D+z>H)throw new RangeError("Trying to access beyond buffer length")}function T(D,H,K,W,V,Q){if(!z.isBuffer(D))throw new TypeError('"buffer" argument must be a Buffer instance');if(H>V||H<Q)throw new RangeError('"value" argument is out of bounds');if(K+W>D.length)throw new RangeError("Index out of range")}function A(D,z,H,K,W,V){if(H+K>D.length)throw new RangeError("Index out of range");if(H<0)throw new RangeError("Index out of range")}function P(D,z,H,K,V){return z=+z,H>>>=0,V||A(D,0,H,4),W.write(D,z,H,K,23,4),H+4}function M(D,z,H,K,V){return z=+z,H>>>=0,V||A(D,0,H,8),W.write(D,z,H,K,52,8),H+8}z.prototype.slice=function(D,H){var K=this.length;(D=~~D)<0?(D+=K)<0&&(D=0):D>K&&(D=K),(H=void 0===H?K:~~H)<0?(H+=K)<0&&(H=0):H>K&&(H=K),H<D&&(H=D);var W=this.subarray(D,H);return W.__proto__=z.prototype,W},z.prototype.readUIntLE=function(D,z,H){D>>>=0,z>>>=0,H||j(D,z,this.length);for(var K=this[D],W=1,V=0;++V<z&&(W*=256);)K+=this[D+V]*W;return K},z.prototype.readUIntBE=function(D,z,H){D>>>=0,z>>>=0,H||j(D,z,this.length);for(var K=this[D+--z],W=1;z>0&&(W*=256);)K+=this[D+--z]*W;return K},z.prototype.readUInt8=function(D,z){return D>>>=0,z||j(D,1,this.length),this[D]},z.prototype.readUInt16LE=function(D,z){return D>>>=0,z||j(D,2,this.length),this[D]|this[D+1]<<8},z.prototype.readUInt16BE=function(D,z){return D>>>=0,z||j(D,2,this.length),this[D]<<8|this[D+1]},z.prototype.readUInt32LE=function(D,z){return D>>>=0,z||j(D,4,this.length),(this[D]|this[D+1]<<8|this[D+2]<<16)+16777216*this[D+3]},z.prototype.readUInt32BE=function(D,z){return D>>>=0,z||j(D,4,this.length),16777216*this[D]+(this[D+1]<<16|this[D+2]<<8|this[D+3])},z.prototype.readIntLE=function(D,z,H){D>>>=0,z>>>=0,H||j(D,z,this.length);for(var K=this[D],W=1,V=0;++V<z&&(W*=256);)K+=this[D+V]*W;return K>=(W*=128)&&(K-=Math.pow(2,8*z)),K},z.prototype.readIntBE=function(D,z,H){D>>>=0,z>>>=0,H||j(D,z,this.length);for(var K=z,W=1,V=this[D+--K];K>0&&(W*=256);)V+=this[D+--K]*W;return V>=(W*=128)&&(V-=Math.pow(2,8*z)),V},z.prototype.readInt8=function(D,z){return D>>>=0,z||j(D,1,this.length),128&this[D]?-1*(255-this[D]+1):this[D]},z.prototype.readInt16LE=function(D,z){D>>>=0,z||j(D,2,this.length);var H=this[D]|this[D+1]<<8;return 32768&H?4294901760|H:H},z.prototype.readInt16BE=function(D,z){D>>>=0,z||j(D,2,this.length);var H=this[D+1]|this[D]<<8;return 32768&H?4294901760|H:H},z.prototype.readInt32LE=function(D,z){return D>>>=0,z||j(D,4,this.length),this[D]|this[D+1]<<8|this[D+2]<<16|this[D+3]<<24},z.prototype.readInt32BE=function(D,z){return D>>>=0,z||j(D,4,this.length),this[D]<<24|this[D+1]<<16|this[D+2]<<8|this[D+3]},z.prototype.readFloatLE=function(D,z){return D>>>=0,z||j(D,4,this.length),W.read(this,D,!0,23,4)},z.prototype.readFloatBE=function(D,z){return D>>>=0,z||j(D,4,this.length),W.read(this,D,!1,23,4)},z.prototype.readDoubleLE=function(D,z){return D>>>=0,z||j(D,8,this.length),W.read(this,D,!0,52,8)},z.prototype.readDoubleBE=function(D,z){return D>>>=0,z||j(D,8,this.length),W.read(this,D,!1,52,8)},z.prototype.writeUIntLE=function(D,z,H,K){D=+D,z>>>=0,H>>>=0,K||T(this,D,z,H,Math.pow(2,8*H)-1,0);var W=1,V=0;for(this[z]=255&D;++V<H&&(W*=256);)this[z+V]=D/W&255;return z+H},z.prototype.writeUIntBE=function(D,z,H,K){D=+D,z>>>=0,H>>>=0,K||T(this,D,z,H,Math.pow(2,8*H)-1,0);var W=H-1,V=1;for(this[z+W]=255&D;--W>=0&&(V*=256);)this[z+W]=D/V&255;return z+H},z.prototype.writeUInt8=function(D,z,H){return D=+D,z>>>=0,H||T(this,D,z,1,255,0),this[z]=255&D,z+1},z.prototype.writeUInt16LE=function(D,z,H){return D=+D,z>>>=0,H||T(this,D,z,2,65535,0),this[z]=255&D,this[z+1]=D>>>8,z+2},z.prototype.writeUInt16BE=function(D,z,H){return D=+D,z>>>=0,H||T(this,D,z,2,65535,0),this[z]=D>>>8,this[z+1]=255&D,z+2},z.prototype.writeUInt32LE=function(D,z,H){return D=+D,z>>>=0,H||T(this,D,z,4,4294967295,0),this[z+3]=D>>>24,this[z+2]=D>>>16,this[z+1]=D>>>8,this[z]=255&D,z+4},z.prototype.writeUInt32BE=function(D,z,H){return D=+D,z>>>=0,H||T(this,D,z,4,4294967295,0),this[z]=D>>>24,this[z+1]=D>>>16,this[z+2]=D>>>8,this[z+3]=255&D,z+4},z.prototype.writeIntLE=function(D,z,H,K){if(D=+D,z>>>=0,!K){var W=Math.pow(2,8*H-1);T(this,D,z,H,W-1,-W)}var V=0,Q=1,Z=0;for(this[z]=255&D;++V<H&&(Q*=256);)D<0&&0===Z&&0!==this[z+V-1]&&(Z=1),this[z+V]=(D/Q|0)-Z&255;return z+H},z.prototype.writeIntBE=function(D,z,H,K){if(D=+D,z>>>=0,!K){var W=Math.pow(2,8*H-1);T(this,D,z,H,W-1,-W)}var V=H-1,Q=1,Z=0;for(this[z+V]=255&D;--V>=0&&(Q*=256);)D<0&&0===Z&&0!==this[z+V+1]&&(Z=1),this[z+V]=(D/Q|0)-Z&255;return z+H},z.prototype.writeInt8=function(D,z,H){return D=+D,z>>>=0,H||T(this,D,z,1,127,-128),D<0&&(D=255+D+1),this[z]=255&D,z+1},z.prototype.writeInt16LE=function(D,z,H){return D=+D,z>>>=0,H||T(this,D,z,2,32767,-32768),this[z]=255&D,this[z+1]=D>>>8,z+2},z.prototype.writeInt16BE=function(D,z,H){return D=+D,z>>>=0,H||T(this,D,z,2,32767,-32768),this[z]=D>>>8,this[z+1]=255&D,z+2},z.prototype.writeInt32LE=function(D,z,H){return D=+D,z>>>=0,H||T(this,D,z,4,2147483647,-2147483648),this[z]=255&D,this[z+1]=D>>>8,this[z+2]=D>>>16,this[z+3]=D>>>24,z+4},z.prototype.writeInt32BE=function(D,z,H){return D=+D,z>>>=0,H||T(this,D,z,4,2147483647,-2147483648),D<0&&(D=4294967295+D+1),this[z]=D>>>24,this[z+1]=D>>>16,this[z+2]=D>>>8,this[z+3]=255&D,z+4},z.prototype.writeFloatLE=function(D,z,H){return P(this,D,z,!0,H)},z.prototype.writeFloatBE=function(D,z,H){return P(this,D,z,!1,H)},z.prototype.writeDoubleLE=function(D,z,H){return M(this,D,z,!0,H)},z.prototype.writeDoubleBE=function(D,z,H){return M(this,D,z,!1,H)},z.prototype.copy=function(D,H,K,W){if(!z.isBuffer(D))throw new TypeError("argument should be a Buffer");if(K||(K=0),W||0===W||(W=this.length),H>=D.length&&(H=D.length),H||(H=0),W>0&&W<K&&(W=K),W===K)return 0;if(0===D.length||0===this.length)return 0;if(H<0)throw new RangeError("targetStart out of bounds");if(K<0||K>=this.length)throw new RangeError("Index out of range");if(W<0)throw new RangeError("sourceEnd out of bounds");W>this.length&&(W=this.length),D.length-H<W-K&&(W=D.length-H+K);var V=W-K;if(this===D&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(H,K,W);else if(this===D&&K<H&&H<W)for(var Q=V-1;Q>=0;--Q)D[Q+H]=this[Q+K];else Uint8Array.prototype.set.call(D,this.subarray(K,W),H);return V},z.prototype.fill=function(D,H,K,W){if("string"==typeof D){if("string"==typeof H?(W=H,H=0,K=this.length):"string"==typeof K&&(W=K,K=this.length),void 0!==W&&"string"!=typeof W)throw new TypeError("encoding must be a string");if("string"==typeof W&&!z.isEncoding(W))throw new TypeError("Unknown encoding: "+W);if(1===D.length){var V=D.charCodeAt(0);("utf8"===W&&V<128||"latin1"===W)&&(D=V)}}else"number"==typeof D&&(D&=255);if(H<0||this.length<H||this.length<K)throw new RangeError("Out of range index");if(K<=H)return this;var Q;if(H>>>=0,K=void 0===K?this.length:K>>>0,D||(D=0),"number"==typeof D)for(Q=H;Q<K;++Q)this[Q]=D;else{var Z=z.isBuffer(D)?D:z.from(D,W),$=Z.length;if(0===$)throw new TypeError('The value "'+D+'" is invalid for argument "value"');for(Q=0;Q<K-H;++Q)this[Q+H]=Z[Q%$]}return this};var Z=/[^+/0-9A-Za-z-_]/g;function R(D){return D<16?"0"+D.toString(16):D.toString(16)}function U(D,z){var H;z=z||1/0;for(var K=D.length,W=null,V=[],Q=0;Q<K;++Q){if((H=D.charCodeAt(Q))>55295&&H<57344){if(!W){if(H>56319){(z-=3)>-1&&V.push(239,191,189);continue}if(Q+1===K){(z-=3)>-1&&V.push(239,191,189);continue}W=H;continue}if(H<56320){(z-=3)>-1&&V.push(239,191,189),W=H;continue}H=65536+(W-55296<<10|H-56320)}else W&&(z-=3)>-1&&V.push(239,191,189);if(W=null,H<128){if((z-=1)<0)break;V.push(H)}else if(H<2048){if((z-=2)<0)break;V.push(H>>6|192,63&H|128)}else if(H<65536){if((z-=3)<0)break;V.push(H>>12|224,H>>6&63|128,63&H|128)}else{if(!(H<1114112))throw new Error("Invalid code point");if((z-=4)<0)break;V.push(H>>18|240,H>>12&63|128,H>>6&63|128,63&H|128)}}return V}function N(D){return K.toByteArray(function(D){if((D=(D=D.split("=")[0]).trim().replace(Z,"")).length<2)return"";for(;D.length%4!=0;)D+="=";return D}(D))}function L(D,z,H,K){for(var W=0;W<K&&!(W+H>=z.length||W>=D.length);++W)z[W+H]=D[W];return W}function q(D,z){return D instanceof z||null!=D&&null!=D.constructor&&null!=D.constructor.name&&D.constructor.name===z.name}function F(D){return D!=D}}).call(this,D("buffer").Buffer)},{"base64-js":10,"buffer":12,"ieee754":87}],"13":[function(D,z,H){(function(D){function t(D){return Object.prototype.toString.call(D)}H.isArray=function(D){return Array.isArray?Array.isArray(D):"[object Array]"===t(D)},H.isBoolean=function(D){return"boolean"==typeof D},H.isNull=function(D){return null===D},H.isNullOrUndefined=function(D){return null==D},H.isNumber=function(D){return"number"==typeof D},H.isString=function(D){return"string"==typeof D},H.isSymbol=function(D){return"symbol"==$(D)},H.isUndefined=function(D){return void 0===D},H.isRegExp=function(D){return"[object RegExp]"===t(D)},H.isObject=function(D){return"object"==$(D)&&null!==D},H.isDate=function(D){return"[object Date]"===t(D)},H.isError=function(D){return"[object Error]"===t(D)||D instanceof Error},H.isFunction=function(D){return"function"==typeof D},H.isPrimitive=function(D){return null===D||"boolean"==typeof D||"number"==typeof D||"string"==typeof D||"symbol"==$(D)||void 0===D},H.isBuffer=D.isBuffer}).call(this,{"isBuffer":D("../../is-buffer/index.js")})},{"../../is-buffer/index.js":89}],"14":[function(D,z,H){"use strict";var K,W=D("type/value/is"),V=D("type/value/ensure"),Q=D("type/plain-function/ensure"),Z=D("es5-ext/object/copy"),$=D("es5-ext/object/normalize-options"),G=D("es5-ext/object/map"),J=Function.prototype.bind,Y=Object.defineProperty,X=Object.prototype.hasOwnProperty;K=function n(D,z,H){var n,K=V(z)&&Q(z.value);return delete(n=Z(z)).writable,delete n.value,n.get=function(){return!H.overwriteDefinition&&X.call(this,D)?K:(z.value=J.call(K,H.resolveContext?H.resolveContext(this):this),Y(this,D,z),this[D])},n},z.exports=function(D){var z=$(arguments[1]);return W(z.resolveContext)&&Q(z.resolveContext),G(D,(function(D,H){return K(H,D,z)}))}},{"es5-ext/object/copy":41,"es5-ext/object/map":49,"es5-ext/object/normalize-options":50,"type/plain-function/ensure":126,"type/value/ensure":130,"type/value/is":131}],"15":[function(D,z,H){"use strict";var K=D("type/value/is"),W=D("type/plain-function/is"),V=D("es5-ext/object/assign"),Q=D("es5-ext/object/normalize-options"),Z=D("es5-ext/string/#/contains");(z.exports=function(D,z){var H,W,$,G,J;return arguments.length<2||"string"!=typeof D?(G=z,z=D,D=null):G=arguments[2],K(D)?(H=Z.call(D,"c"),W=Z.call(D,"e"),$=Z.call(D,"w")):(H=$=!0,W=!1),J={"value":z,"configurable":H,"enumerable":W,"writable":$},G?V(Q(G),J):J}).gs=function(D,z,H){var $,G,J,Y;return"string"!=typeof D?(J=H,H=z,z=D,D=null):J=arguments[3],K(z)?W(z)?K(H)?W(H)||(J=H,H=void 0):H=void 0:(J=z,z=H=void 0):z=void 0,K(D)?($=Z.call(D,"c"),G=Z.call(D,"e")):($=!0,G=!1),Y={"get":z,"set":H,"configurable":$,"enumerable":G},J?V(Q(J),Y):Y}},{"es5-ext/object/assign":38,"es5-ext/object/normalize-options":50,"es5-ext/string/#/contains":57,"type/plain-function/is":127,"type/value/is":131}],"16":[function(D,z,H){var K=1e3,W=60*K,V=60*W,Q=24*V,Z=7*Q;function c(D,z,H,K){var W=z>=1.5*H;return Math.round(D/H)+" "+K+(W?"s":"")}z.exports=function(D,z){z=z||{};var H=$(D);if("string"===H&&D.length>0)return function(D){if(!((D=String(D)).length>100)){var z=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(D);if(z){var H=parseFloat(z[1]);switch((z[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*H;case"weeks":case"week":case"w":return H*Z;case"days":case"day":case"d":return H*Q;case"hours":case"hour":case"hrs":case"hr":case"h":return H*V;case"minutes":case"minute":case"mins":case"min":case"m":return H*W;case"seconds":case"second":case"secs":case"sec":case"s":return H*K;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return H;default:return}}}}(D);if("number"===H&&isFinite(D))return z.long?function(D){var z=Math.abs(D);return z>=Q?c(D,z,Q,"day"):z>=V?c(D,z,V,"hour"):z>=W?c(D,z,W,"minute"):z>=K?c(D,z,K,"second"):D+" ms"}(D):function(D){var z=Math.abs(D);return z>=Q?Math.round(D/Q)+"d":z>=V?Math.round(D/V)+"h":z>=W?Math.round(D/W)+"m":z>=K?Math.round(D/K)+"s":D+"ms"}(D);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(D))}},{}],"17":[function(D,z,H){(function(K){H.log=function(){var D;return"object"==("undefined"==typeof console?"undefined":$(console))&&console.log&&(D=console).log.apply(D,arguments)},H.formatArgs=function(D){if(D[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+D[0]+(this.useColors?"%c ":" ")+"+"+z.exports.humanize(this.diff),this.useColors){var H="color: "+this.color;D.splice(1,0,H,"color: inherit");var K=0,W=0;D[0].replace(/%[a-zA-Z%]/g,(function(D){"%%"!==D&&"%c"===D&&(W=++K)})),D.splice(W,0,H)}},H.save=function(D){try{D?H.storage.setItem("debug",D):H.storage.removeItem("debug")}catch(D){}},H.load=function(){var D;try{D=H.storage.getItem("debug")}catch(D){}return!D&&void 0!==K&&"env"in K&&(D=K.env.DEBUG),D},H.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},H.storage=function(){try{return localStorage}catch(D){}}(),H.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],z.exports=D("./common")(H),z.exports.formatters.j=function(D){try{return JSON.stringify(D)}catch(D){return"[UnexpectedJSONParseError]: "+D.message}}}).call(this,D("_process"))},{"./common":18,"_process":100}],"18":[function(D,z,H){z.exports=function(z){function r(D){for(var z=0,H=0;H<D.length;H++)z=(z<<5)-z+D.charCodeAt(H),z|=0;return n.colors[Math.abs(z)%n.colors.length]}function n(D){var z;function s(){for(var D=arguments.length,H=new Array(D),K=0;K<D;K++)H[K]=arguments[K];if(s.enabled){var W=s,V=Number(new Date),Q=V-(z||V);W.diff=Q,W.prev=z,W.curr=V,z=V,H[0]=n.coerce(H[0]),"string"!=typeof H[0]&&H.unshift("%O");var Z=0;H[0]=H[0].replace(/%([a-zA-Z%])/g,(function(D,z){if("%%"===D)return D;Z++;var K=n.formatters[z];if("function"==typeof K){var V=H[Z];D=K.call(W,V),H.splice(Z,1),Z--}return D})),n.formatArgs.call(W,H),(W.log||n.log).apply(W,H)}}return s.namespace=D,s.enabled=n.enabled(D),s.useColors=n.useColors(),s.color=r(D),s.destroy=i,s.extend=o,"function"==typeof n.init&&n.init(s),n.instances.push(s),s}function i(){var D=n.instances.indexOf(this);return-1!==D&&(n.instances.splice(D,1),!0)}function o(D,z){var H=n(this.namespace+(void 0===z?":":z)+D);return H.log=this.log,H}function s(D){return D.toString().substring(2,D.toString().length-2).replace(/\.\*\?$/,"*")}return n.debug=n,n.default=n,n.coerce=function(D){return D instanceof Error?D.stack||D.message:D},n.disable=function(){var D=[].concat(Z(n.names.map(s)),Z(n.skips.map(s).map((function(D){return"-"+D})))).join(",");return n.enable(""),D},n.enable=function(D){var z;n.save(D),n.names=[],n.skips=[];var H=("string"==typeof D?D:"").split(/[\s,]+/),K=H.length;for(z=0;z<K;z++)H[z]&&("-"===(D=H[z].replace(/\*/g,".*?"))[0]?n.skips.push(new RegExp("^"+D.substr(1)+"$")):n.names.push(new RegExp("^"+D+"$")));for(z=0;z<n.instances.length;z++){var W=n.instances[z];W.enabled=n.enabled(W.namespace)}},n.enabled=function(D){if("*"===D[D.length-1])return!0;var z,H;for(z=0,H=n.skips.length;z<H;z++)if(n.skips[z].test(D))return!1;for(z=0,H=n.names.length;z<H;z++)if(n.names[z].test(D))return!0;return!1},n.humanize=D("ms"),Object.keys(z).forEach((function(D){n[D]=z[D]})),n.instances=[],n.names=[],n.skips=[],n.formatters={},n.selectColor=r,n.enable(n.load()),n}},{"ms":16}],"19":[function(D,z,H){(function(H,K){var W=D("readable-stream"),V=D("end-of-stream"),Q=D("inherits"),Z=D("stream-shift"),$=K.from&&K.from!==Uint8Array.from?K.from([0]):new K([0]),G=function c(D,z){D._corked?D.once("uncork",z):z()},J=function l(D,z){return function(H){H?function(D,z){D._autoDestroy&&D.destroy(z)}(D,"premature close"===H.message?null:H):z&&!D._ended&&D.end()}},Y=function f(D,z,H){if(!(this instanceof Y))return new Y(D,z,H);W.Duplex.call(this,H),this._writable=null,this._readable=null,this._readable2=null,this._autoDestroy=!H||!1!==H.autoDestroy,this._forwardDestroy=!H||!1!==H.destroy,this._forwardEnd=!H||!1!==H.end,this._corked=1,this._ondrain=null,this._drained=!1,this._forwarding=!1,this._unwrite=null,this._unread=null,this._ended=!1,this.destroyed=!1,D&&this.setWritable(D),z&&this.setReadable(z)};Q(Y,W.Duplex),Y.obj=function(D,z,H){return H||(H={}),H.objectMode=!0,H.highWaterMark=16,new Y(D,z,H)},Y.prototype.cork=function(){1==++this._corked&&this.emit("cork")},Y.prototype.uncork=function(){this._corked&&0==--this._corked&&this.emit("uncork")},Y.prototype.setWritable=function(D){if(this._unwrite&&this._unwrite(),this.destroyed)D&&D.destroy&&D.destroy();else if(null!==D&&!1!==D){var z=this,K=V(D,{"writable":!0,"readable":!1},J(this,this._forwardEnd)),W=function i(){var D=z._ondrain;z._ondrain=null,D&&D()};this._unwrite&&H.nextTick(W),this._writable=D,this._writable.on("drain",W),this._unwrite=function(){z._writable.removeListener("drain",W),K()},this.uncork()}else this.end()},Y.prototype.setReadable=function(D){if(this._unread&&this._unread(),this.destroyed)D&&D.destroy&&D.destroy();else{if(null===D||!1===D)return this.push(null),void this.resume();var z,H=this,K=V(D,{"writable":!1,"readable":!0},J(this)),Q=function s(){H._forward()},Z=function a(){H.push(null)};this._drained=!0,this._readable=D,this._readable2=D._readableState?D:(z=D,new W.Readable({"objectMode":!0,"highWaterMark":16}).wrap(z)),this._readable2.on("readable",Q),this._readable2.on("end",Z),this._unread=function(){H._readable2.removeListener("readable",Q),H._readable2.removeListener("end",Z),K()},this._forward()}},Y.prototype._read=function(){this._drained=!0,this._forward()},Y.prototype._forward=function(){if(!this._forwarding&&this._readable2&&this._drained){var D;for(this._forwarding=!0;this._drained&&null!==(D=Z(this._readable2));)this.destroyed||(this._drained=this.push(D));this._forwarding=!1}},Y.prototype.destroy=function(D){if(!this.destroyed){this.destroyed=!0;var z=this;H.nextTick((function(){z._destroy(D)}))}},Y.prototype._destroy=function(D){if(D){var z=this._ondrain;this._ondrain=null,z?z(D):this.emit("error",D)}this._forwardDestroy&&(this._readable&&this._readable.destroy&&this._readable.destroy(),this._writable&&this._writable.destroy&&this._writable.destroy()),this.emit("close")},Y.prototype._write=function(D,z,H){return this.destroyed?H():this._corked?G(this,this._write.bind(this,D,z,H)):D===$?this._finish(H):this._writable?void(!1===this._writable.write(D)?this._ondrain=H:H()):H()},Y.prototype._finish=function(D){var z=this;this.emit("preend"),G(this,(function(){var H,K;K=function n(){!1===z._writableState.prefinished&&(z._writableState.prefinished=!0),z.emit("prefinish"),G(z,D)},(H=z._forwardEnd&&z._writable)?H._writableState&&H._writableState.finished?K():H._writableState?H.end(K):(H.end(),K()):K()}))},Y.prototype.end=function(D,z,H){return"function"==typeof D?this.end(null,null,D):"function"==typeof z?this.end(D,null,z):(this._ended=!0,D&&this.write(D),this._writableState.ending||this.write($),W.Writable.prototype.end.call(this,H))},z.exports=Y}).call(this,D("_process"),D("buffer").Buffer)},{"_process":100,"buffer":12,"end-of-stream":20,"inherits":88,"readable-stream":116,"stream-shift":119}],"20":[function(D,z,H){var K=D("once"),W=function i(){},V=function o(D,z,H){if("function"==typeof z)return V(D,null,z);z||(z={}),H=K(H||W);var Q=D._writableState,Z=D._readableState,$=z.readable||!1!==z.readable&&D.readable,G=z.writable||!1!==z.writable&&D.writable,J=function l(){D.writable||Y()},Y=function f(){G=!1,$||H.call(D)},X=function p(){$=!1,G||H.call(D)},ee=function h(z){H.call(D,z?new Error("exited with error code: "+z):null)},te=function d(z){H.call(D,z)},re=function g(){return(!$||Z&&Z.ended)&&(!G||Q&&Q.ended)?void 0:H.call(D,new Error("premature close"))},ne=function b(){D.req.on("finish",Y)};return function(D){return D.setHeader&&"function"==typeof D.abort}(D)?(D.on("complete",Y),D.on("abort",re),D.req?ne():D.on("request",ne)):G&&!Q&&(D.on("end",J),D.on("close",J)),function(D){return D.stdio&&Array.isArray(D.stdio)&&3===D.stdio.length}(D)&&D.on("exit",ee),D.on("end",X),D.on("finish",Y),!1!==z.error&&D.on("error",te),D.on("close",re),function(){D.removeListener("complete",Y),D.removeListener("abort",re),D.removeListener("request",ne),D.req&&D.req.removeListener("finish",Y),D.removeListener("end",J),D.removeListener("close",J),D.removeListener("finish",Y),D.removeListener("exit",ee),D.removeListener("end",X),D.removeListener("error",te),D.removeListener("close",re)}};z.exports=V},{"once":98}],"21":[function(D,z,H){"use strict";var K=D("../../object/valid-value");z.exports=function(){return K(this).length=0,this}},{"../../object/valid-value":56}],"22":[function(D,z,H){"use strict";var K=D("../../number/is-nan"),W=D("../../number/to-pos-integer"),V=D("../../object/valid-value"),Q=Array.prototype.indexOf,Z=Object.prototype.hasOwnProperty,$=Math.abs,G=Math.floor;z.exports=function(D){var z,H,J,Y;if(!K(D))return Q.apply(this,arguments);for(H=W(V(this).length),J=arguments[1],z=J=isNaN(J)?0:J>=0?G(J):W(this.length)-G($(J));z<H;++z)if(Z.call(this,z)&&(Y=this[z],K(Y)))return z;return-1}},{"../../number/is-nan":32,"../../number/to-pos-integer":36,"../../object/valid-value":56}],"23":[function(D,z,H){"use strict";z.exports=D("./is-implemented")()?Array.from:D("./shim")},{"./is-implemented":24,"./shim":25}],"24":[function(D,z,H){"use strict";z.exports=function(){var D,z,H=Array.from;return"function"==typeof H&&(z=H(D=["raz","dwa"]),Boolean(z&&z!==D&&"dwa"===z[1]))}},{}],"25":[function(D,z,H){"use strict";var K=D("es6-symbol").iterator,W=D("../../function/is-arguments"),V=D("../../function/is-function"),Q=D("../../number/to-pos-integer"),Z=D("../../object/valid-callable"),$=D("../../object/valid-value"),G=D("../../object/is-value"),J=D("../../string/is-string"),Y=Array.isArray,X=Function.prototype.call,ee={"configurable":!0,"enumerable":!0,"writable":!0,"value":null},te=Object.defineProperty;z.exports=function(D){var z,H,re,ne,ie,oe,se,ae,ue,ce,le=arguments[1],fe=arguments[2];if(D=Object($(D)),G(le)&&Z(le),this&&this!==Array&&V(this))z=this;else{if(!le){if(W(D))return 1!==(ie=D.length)?Array.apply(null,D):((ne=new Array(1))[0]=D[0],ne);if(Y(D)){for(ne=new Array(ie=D.length),H=0;H<ie;++H)ne[H]=D[H];return ne}}ne=[]}if(!Y(D))if(void 0!==(ue=D[K])){for(se=Z(ue).call(D),z&&(ne=new z),ae=se.next(),H=0;!ae.done;)ce=le?X.call(le,fe,ae.value,H):ae.value,z?(ee.value=ce,te(ne,H,ee)):ne[H]=ce,ae=se.next(),++H;ie=H}else if(J(D)){for(ie=D.length,z&&(ne=new z),H=0,re=0;H<ie;++H)ce=D[H],H+1<ie&&(oe=ce.charCodeAt(0))>=55296&&oe<=56319&&(ce+=D[++H]),ce=le?X.call(le,fe,ce,re):ce,z?(ee.value=ce,te(ne,re,ee)):ne[re]=ce,++re;ie=re}if(void 0===ie)for(ie=Q(D.length),z&&(ne=new z(ie)),H=0;H<ie;++H)ce=le?X.call(le,fe,D[H],H):D[H],z?(ee.value=ce,te(ne,H,ee)):ne[H]=ce;return z&&(ee.value=null,ne.length=ie),ne}},{"../../function/is-arguments":26,"../../function/is-function":27,"../../number/to-pos-integer":36,"../../object/is-value":45,"../../object/valid-callable":55,"../../object/valid-value":56,"../../string/is-string":60,"es6-symbol":74}],"26":[function(D,z,H){"use strict";var K=Object.prototype.toString,W=K.call(function(){return arguments}());z.exports=function(D){return K.call(D)===W}},{}],"27":[function(D,z,H){"use strict";var K=Object.prototype.toString,W=RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);z.exports=function(D){return"function"==typeof D&&W(K.call(D))}},{}],"28":[function(D,z,H){"use strict";z.exports=function(){}},{}],"29":[function(D,z,H){"use strict";z.exports=D("./is-implemented")()?Math.sign:D("./shim")},{"./is-implemented":30,"./shim":31}],"30":[function(D,z,H){"use strict";z.exports=function(){var D=Math.sign;return"function"==typeof D&&1===D(10)&&-1===D(-20)}},{}],"31":[function(D,z,H){"use strict";z.exports=function(D){return D=Number(D),isNaN(D)||0===D?D:D>0?1:-1}},{}],"32":[function(D,z,H){"use strict";z.exports=D("./is-implemented")()?Number.isNaN:D("./shim")},{"./is-implemented":33,"./shim":34}],"33":[function(D,z,H){"use strict";z.exports=function(){var D=Number.isNaN;return"function"==typeof D&&!D({})&&D(NaN)&&!D(34)}},{}],"34":[function(D,z,H){"use strict";z.exports=function(D){return D!=D}},{}],"35":[function(D,z,H){"use strict";var K=D("../math/sign"),W=Math.abs,V=Math.floor;z.exports=function(D){return isNaN(D)?0:0!==(D=Number(D))&&isFinite(D)?K(D)*V(W(D)):D}},{"../math/sign":29}],"36":[function(D,z,H){"use strict";var K=D("./to-integer"),W=Math.max;z.exports=function(D){return W(0,K(D))}},{"./to-integer":35}],"37":[function(D,z,H){"use strict";var K=D("./valid-callable"),W=D("./valid-value"),V=Function.prototype.bind,Q=Function.prototype.call,Z=Object.keys,$=Object.prototype.propertyIsEnumerable;z.exports=function(D,z){return function(H,G){var J,Y=arguments[2],X=arguments[3];return H=Object(W(H)),K(G),J=Z(H),X&&J.sort("function"==typeof X?V.call(X,H):void 0),"function"!=typeof D&&(D=J[D]),Q.call(D,J,(function(D,K){return $.call(H,D)?Q.call(G,Y,H[D],D,H,K):z}))}}},{"./valid-callable":55,"./valid-value":56}],"38":[function(D,z,H){"use strict";z.exports=D("./is-implemented")()?Object.assign:D("./shim")},{"./is-implemented":39,"./shim":40}],"39":[function(D,z,H){"use strict";z.exports=function(){var D,z=Object.assign;return"function"==typeof z&&(z(D={"foo":"raz"},{"bar":"dwa"},{"trzy":"trzy"}),D.foo+D.bar+D.trzy==="razdwatrzy")}},{}],"40":[function(D,z,H){"use strict";var K=D("../keys"),W=D("../valid-value"),V=Math.max;z.exports=function(D,z){var H,Q,Z,$=V(arguments.length,2);for(D=Object(W(D)),Z=function a(K){try{D[K]=z[K]}catch(D){H||(H=D)}},Q=1;Q<$;++Q)K(z=arguments[Q]).forEach(Z);if(void 0!==H)throw H;return D}},{"../keys":46,"../valid-value":56}],"41":[function(D,z,H){"use strict";var K=D("../array/from"),W=D("./assign"),V=D("./valid-value");z.exports=function(D){var z=Object(V(D)),H=arguments[1],Q=Object(arguments[2]);if(z!==D&&!H)return z;var Z={};return H?K(H,(function(z){(Q.ensure||z in D)&&(Z[z]=D[z])})):W(Z,D),Z}},{"../array/from":23,"./assign":38,"./valid-value":56}],"42":[function(D,z,H){"use strict";var K,W,V,Q,Z=Object.create;D("./set-prototype-of/is-implemented")()||(K=D("./set-prototype-of/shim")),z.exports=K?1!==K.level?Z:(W={},V={},Q={"configurable":!1,"enumerable":!1,"writable":!0,"value":void 0},Object.getOwnPropertyNames(Object.prototype).forEach((function(D){V[D]="__proto__"!==D?Q:{"configurable":!0,"enumerable":!1,"writable":!0,"value":void 0}})),Object.defineProperties(W,V),Object.defineProperty(K,"nullPolyfill",{"configurable":!1,"enumerable":!1,"writable":!1,"value":W}),function(D,z){return Z(null===D?W:D,z)}):Z},{"./set-prototype-of/is-implemented":53,"./set-prototype-of/shim":54}],"43":[function(D,z,H){"use strict";z.exports=D("./_iterate")("forEach")},{"./_iterate":37}],"44":[function(D,z,H){"use strict";var K=D("./is-value"),W={"function":!0,"object":!0};z.exports=function(D){return K(D)&&W[$(D)]||!1}},{"./is-value":45}],"45":[function(D,z,H){"use strict";var K=D("../function/noop")();z.exports=function(D){return D!==K&&null!==D}},{"../function/noop":28}],"46":[function(D,z,H){"use strict";z.exports=D("./is-implemented")()?Object.keys:D("./shim")},{"./is-implemented":47,"./shim":48}],"47":[function(D,z,H){"use strict";z.exports=function(){try{return Object.keys("primitive"),!0}catch(D){return!1}}},{}],"48":[function(D,z,H){"use strict";var K=D("../is-value"),W=Object.keys;z.exports=function(D){return W(K(D)?Object(D):D)}},{"../is-value":45}],"49":[function(D,z,H){"use strict";var K=D("./valid-callable"),W=D("./for-each"),V=Function.prototype.call;z.exports=function(D,z){var H={},Q=arguments[2];return K(z),W(D,(function(D,K,W,Z){H[K]=V.call(z,Q,D,K,W,Z)})),H}},{"./for-each":43,"./valid-callable":55}],"50":[function(D,z,H){"use strict";var K=D("./is-value"),W=Array.prototype.forEach,V=Object.create;z.exports=function(D){var z=V(null);return W.call(arguments,(function(D){K(D)&&function(D,z){var H;for(H in D)z[H]=D[H]}(Object(D),z)})),z}},{"./is-value":45}],"51":[function(D,z,H){"use strict";var K=Array.prototype.forEach,W=Object.create;z.exports=function(D){var z=W(null);return K.call(arguments,(function(D){z[D]=!0})),z}},{}],"52":[function(D,z,H){"use strict";z.exports=D("./is-implemented")()?Object.setPrototypeOf:D("./shim")},{"./is-implemented":53,"./shim":54}],"53":[function(D,z,H){"use strict";var K=Object.create,W=Object.getPrototypeOf,V={};z.exports=function(){var D=Object.setPrototypeOf;return"function"==typeof D&&W(D((arguments[0]||K)(null),V))===V}},{}],"54":[function(D,z,H){"use strict";var K,W,V,Q,Z=D("../is-object"),$=D("../valid-value"),G=Object.prototype.isPrototypeOf,J=Object.defineProperty,Y={"configurable":!0,"enumerable":!1,"writable":!0,"value":void 0};K=function n(D,z){if($(D),null===z||Z(z))return D;throw new TypeError("Prototype must be null or an object")},z.exports=(W=function(){var D,z=Object.create(null),H={},K=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(K){try{(D=K.set).call(z,H)}catch(D){}if(Object.getPrototypeOf(z)===H)return{"set":D,"level":2}}return z.__proto__=H,Object.getPrototypeOf(z)===H?{"level":2}:((z={}).__proto__=H,Object.getPrototypeOf(z)===H&&{"level":1})}())?(2===W.level?W.set?(Q=W.set,V=function o(D,z){return Q.call(K(D,z),z),D}):V=function o(D,z){return K(D,z).__proto__=z,D}:V=function e(D,z){var H;return K(D,z),(H=G.call(e.nullPolyfill,D))&&delete e.nullPolyfill.__proto__,null===z&&(z=e.nullPolyfill),D.__proto__=z,H&&J(e.nullPolyfill,"__proto__",Y),D},Object.defineProperty(V,"level",{"configurable":!1,"enumerable":!1,"writable":!1,"value":W.level})):null,D("../create")},{"../create":42,"../is-object":44,"../valid-value":56}],"55":[function(D,z,H){"use strict";z.exports=function(D){if("function"!=typeof D)throw new TypeError(D+" is not a function");return D}},{}],"56":[function(D,z,H){"use strict";var K=D("./is-value");z.exports=function(D){if(!K(D))throw new TypeError("Cannot use null or undefined");return D}},{"./is-value":45}],"57":[function(D,z,H){"use strict";z.exports=D("./is-implemented")()?String.prototype.contains:D("./shim")},{"./is-implemented":58,"./shim":59}],"58":[function(D,z,H){"use strict";var K="razdwatrzy";z.exports=function(){return"function"==typeof K.contains&&!0===K.contains("dwa")&&!1===K.contains("foo")}},{}],"59":[function(D,z,H){"use strict";var K=String.prototype.indexOf;z.exports=function(D){return K.call(this,D,arguments[1])>-1}},{}],"60":[function(D,z,H){"use strict";var K=Object.prototype.toString,W=K.call("");z.exports=function(D){return"string"==typeof D||D&&"object"==$(D)&&(D instanceof String||K.call(D)===W)||!1}},{}],"61":[function(D,z,H){"use strict";var K,W=D("es5-ext/object/set-prototype-of"),V=D("es5-ext/string/#/contains"),Q=D("d"),Z=D("es6-symbol"),$=D("./"),G=Object.defineProperty;K=z.exports=function(D,z){if(!(this instanceof K))throw new TypeError("Constructor requires 'new'");$.call(this,D),z=z?V.call(z,"key+value")?"key+value":V.call(z,"key")?"key":"value":"value",G(this,"__kind__",Q("",z))},W&&W(K,$),delete K.prototype.constructor,K.prototype=Object.create($.prototype,{"_resolve":Q((function(D){return"value"===this.__kind__?this.__list__[D]:"key+value"===this.__kind__?[D,this.__list__[D]]:D}))}),G(K.prototype,Z.toStringTag,Q("c","Array Iterator"))},{"./":64,"d":15,"es5-ext/object/set-prototype-of":52,"es5-ext/string/#/contains":57,"es6-symbol":74}],"62":[function(D,z,H){"use strict";var K=D("es5-ext/function/is-arguments"),W=D("es5-ext/object/valid-callable"),V=D("es5-ext/string/is-string"),Q=D("./get"),Z=Array.isArray,$=Function.prototype.call,G=Array.prototype.some;z.exports=function(D,z){var H,J,Y,X,ee,te,re,ne,ie=arguments[2];if(Z(D)||K(D)?H="array":V(D)?H="string":D=Q(D),W(z),Y=function f(){X=!0},"array"!==H)if("string"!==H)for(J=D.next();!J.done;){if($.call(z,ie,J.value,Y),X)return;J=D.next()}else for(te=D.length,ee=0;ee<te&&(re=D[ee],ee+1<te&&(ne=re.charCodeAt(0))>=55296&&ne<=56319&&(re+=D[++ee]),$.call(z,ie,re,Y),!X);++ee);else G.call(D,(function(D){return $.call(z,ie,D,Y),X}))}},{"./get":63,"es5-ext/function/is-arguments":26,"es5-ext/object/valid-callable":55,"es5-ext/string/is-string":60}],"63":[function(D,z,H){"use strict";var K=D("es5-ext/function/is-arguments"),W=D("es5-ext/string/is-string"),V=D("./array"),Q=D("./string"),Z=D("./valid-iterable"),$=D("es6-symbol").iterator;z.exports=function(D){return"function"==typeof Z(D)[$]?D[$]():K(D)?new V(D):W(D)?new Q(D):new V(D)}},{"./array":61,"./string":66,"./valid-iterable":67,"es5-ext/function/is-arguments":26,"es5-ext/string/is-string":60,"es6-symbol":74}],"64":[function(D,z,H){"use strict";var K,W=D("es5-ext/array/#/clear"),V=D("es5-ext/object/assign"),Q=D("es5-ext/object/valid-callable"),Z=D("es5-ext/object/valid-value"),$=D("d"),G=D("d/auto-bind"),J=D("es6-symbol"),Y=Object.defineProperty,X=Object.defineProperties;z.exports=K=function n(D,z){if(!(this instanceof K))throw new TypeError("Constructor requires 'new'");X(this,{"__list__":$("w",Z(D)),"__context__":$("w",z),"__nextIndex__":$("w",0)}),z&&(Q(z.on),z.on("_add",this._onAdd),z.on("_delete",this._onDelete),z.on("_clear",this._onClear))},delete K.prototype.constructor,X(K.prototype,V({"_next":$((function(){var D;if(this.__list__)return this.__redo__&&void 0!==(D=this.__redo__.shift())?D:this.__nextIndex__<this.__list__.length?this.__nextIndex__++:void this._unBind()})),"next":$((function(){return this._createResult(this._next())})),"_createResult":$((function(D){return void 0===D?{"done":!0,"value":void 0}:{"done":!1,"value":this._resolve(D)}})),"_resolve":$((function(D){return this.__list__[D]})),"_unBind":$((function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off("_add",this._onAdd),this.__context__.off("_delete",this._onDelete),this.__context__.off("_clear",this._onClear),this.__context__=null)})),"toString":$((function(){return"[object "+(this[J.toStringTag]||"Object")+"]"}))},G({"_onAdd":$((function(D){D>=this.__nextIndex__||(++this.__nextIndex__,this.__redo__?(this.__redo__.forEach((function(z,H){z>=D&&(this.__redo__[H]=++z)}),this),this.__redo__.push(D)):Y(this,"__redo__",$("c",[D])))})),"_onDelete":$((function(D){var z;D>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&(-1!==(z=this.__redo__.indexOf(D))&&this.__redo__.splice(z,1),this.__redo__.forEach((function(z,H){z>D&&(this.__redo__[H]=--z)}),this)))})),"_onClear":$((function(){this.__redo__&&W.call(this.__redo__),this.__nextIndex__=0}))}))),Y(K.prototype,J.iterator,$((function(){return this})))},{"d":15,"d/auto-bind":14,"es5-ext/array/#/clear":21,"es5-ext/object/assign":38,"es5-ext/object/valid-callable":55,"es5-ext/object/valid-value":56,"es6-symbol":74}],"65":[function(D,z,H){"use strict";var K=D("es5-ext/function/is-arguments"),W=D("es5-ext/object/is-value"),V=D("es5-ext/string/is-string"),Q=D("es6-symbol").iterator,Z=Array.isArray;z.exports=function(D){return!(!W(D)||!Z(D)&&!V(D)&&!K(D)&&"function"!=typeof D[Q])}},{"es5-ext/function/is-arguments":26,"es5-ext/object/is-value":45,"es5-ext/string/is-string":60,"es6-symbol":74}],"66":[function(D,z,H){"use strict";var K,W=D("es5-ext/object/set-prototype-of"),V=D("d"),Q=D("es6-symbol"),Z=D("./"),$=Object.defineProperty;K=z.exports=function(D){if(!(this instanceof K))throw new TypeError("Constructor requires 'new'");D=String(D),Z.call(this,D),$(this,"__length__",V("",D.length))},W&&W(K,Z),delete K.prototype.constructor,K.prototype=Object.create(Z.prototype,{"_next":V((function(){if(this.__list__)return this.__nextIndex__<this.__length__?this.__nextIndex__++:void this._unBind()})),"_resolve":V((function(D){var z,H=this.__list__[D];return this.__nextIndex__===this.__length__?H:(z=H.charCodeAt(0))>=55296&&z<=56319?H+this.__list__[this.__nextIndex__++]:H}))}),$(K.prototype,Q.toStringTag,V("c","String Iterator"))},{"./":64,"d":15,"es5-ext/object/set-prototype-of":52,"es6-symbol":74}],"67":[function(D,z,H){"use strict";var K=D("./is-iterable");z.exports=function(D){if(!K(D))throw new TypeError(D+" is not iterable");return D}},{"./is-iterable":65}],"68":[function(D,z,H){"use strict";z.exports=D("./is-implemented")()?Map:D("./polyfill")},{"./is-implemented":69,"./polyfill":73}],"69":[function(D,z,H){"use strict";z.exports=function(){var D,z;if("function"!=typeof Map)return!1;try{D=new Map([["raz","one"],["dwa","two"],["trzy","three"]])}catch(D){return!1}return"[object Map]"===String(D)&&3===D.size&&"function"==typeof D.clear&&"function"==typeof D.delete&&"function"==typeof D.entries&&"function"==typeof D.forEach&&"function"==typeof D.get&&"function"==typeof D.has&&"function"==typeof D.keys&&"function"==typeof D.set&&"function"==typeof D.values&&!1===(z=D.entries().next()).done&&!!z.value&&"raz"===z.value[0]&&"one"===z.value[1]}},{}],"70":[function(D,z,H){"use strict";z.exports="undefined"!=typeof Map&&"[object Map]"===Object.prototype.toString.call(new Map)},{}],"71":[function(D,z,H){"use strict";z.exports=D("es5-ext/object/primitive-set")("key","value","key+value")},{"es5-ext/object/primitive-set":51}],"72":[function(D,z,H){"use strict";var K,W=D("es5-ext/object/set-prototype-of"),V=D("d"),Q=D("es6-iterator"),Z=D("es6-symbol").toStringTag,$=D("./iterator-kinds"),G=Object.defineProperties,J=Q.prototype._unBind;K=z.exports=function(D,z){if(!(this instanceof K))return new K(D,z);Q.call(this,D.__mapKeysData__,D),z&&$[z]||(z="key+value"),G(this,{"__kind__":V("",z),"__values__":V("w",D.__mapValuesData__)})},W&&W(K,Q),K.prototype=Object.create(Q.prototype,{"constructor":V(K),"_resolve":V((function(D){return"value"===this.__kind__?this.__values__[D]:"key"===this.__kind__?this.__list__[D]:[this.__list__[D],this.__values__[D]]})),"_unBind":V((function(){this.__values__=null,J.call(this)})),"toString":V((function(){return"[object Map Iterator]"}))}),Object.defineProperty(K.prototype,Z,V("c","Map Iterator"))},{"./iterator-kinds":71,"d":15,"es5-ext/object/set-prototype-of":52,"es6-iterator":64,"es6-symbol":74}],"73":[function(D,z,H){"use strict";var K,W=D("es5-ext/array/#/clear"),V=D("es5-ext/array/#/e-index-of"),Q=D("es5-ext/object/set-prototype-of"),Z=D("es5-ext/object/valid-callable"),$=D("es5-ext/object/valid-value"),G=D("d"),J=D("event-emitter"),Y=D("es6-symbol"),X=D("es6-iterator/valid-iterable"),ee=D("es6-iterator/for-of"),te=D("./lib/iterator"),re=D("./is-native-implemented"),ne=Function.prototype.call,ie=Object.defineProperties,oe=Object.getPrototypeOf;z.exports=K=function n(){var D,z,H,W=arguments[0];if(!(this instanceof K))throw new TypeError("Constructor requires 'new'");return H=re&&Q&&Map!==K?Q(new Map,oe(this)):this,null!=W&&X(W),ie(H,{"__mapKeysData__":G("c",D=[]),"__mapValuesData__":G("c",z=[])}),W?(ee(W,(function(H){var K=$(H)[0];H=H[1],-1===V.call(D,K)&&(D.push(K),z.push(H))}),H),H):H},re&&(Q&&Q(K,Map),K.prototype=Object.create(Map.prototype,{"constructor":G(K)})),J(ie(K.prototype,{"clear":G((function(){this.__mapKeysData__.length&&(W.call(this.__mapKeysData__),W.call(this.__mapValuesData__),this.emit("_clear"))})),"delete":G((function(D){var z=V.call(this.__mapKeysData__,D);return-1!==z&&(this.__mapKeysData__.splice(z,1),this.__mapValuesData__.splice(z,1),this.emit("_delete",z,D),!0)})),"entries":G((function(){return new te(this,"key+value")})),"forEach":G((function(D){var z,H,K=arguments[1];for(Z(D),H=(z=this.entries())._next();void 0!==H;)ne.call(D,K,this.__mapValuesData__[H],this.__mapKeysData__[H],this),H=z._next()})),"get":G((function(D){var z=V.call(this.__mapKeysData__,D);if(-1!==z)return this.__mapValuesData__[z]})),"has":G((function(D){return-1!==V.call(this.__mapKeysData__,D)})),"keys":G((function(){return new te(this,"key")})),"set":G((function(D,z){var H,K=V.call(this.__mapKeysData__,D);return-1===K&&(K=this.__mapKeysData__.push(D)-1,H=!0),this.__mapValuesData__[K]=z,H&&this.emit("_add",K,D),this})),"size":G.gs((function(){return this.__mapKeysData__.length})),"values":G((function(){return new te(this,"value")})),"toString":G((function(){return"[object Map]"}))})),Object.defineProperty(K.prototype,Y.iterator,G((function(){return this.entries()}))),Object.defineProperty(K.prototype,Y.toStringTag,G("c","Map"))},{"./is-native-implemented":70,"./lib/iterator":72,"d":15,"es5-ext/array/#/clear":21,"es5-ext/array/#/e-index-of":22,"es5-ext/object/set-prototype-of":52,"es5-ext/object/valid-callable":55,"es5-ext/object/valid-value":56,"es6-iterator/for-of":62,"es6-iterator/valid-iterable":67,"es6-symbol":74,"event-emitter":82}],"74":[function(D,z,H){"use strict";z.exports=D("./is-implemented")()?D("ext/global-this").Symbol:D("./polyfill")},{"./is-implemented":75,"./polyfill":80,"ext/global-this":85}],"75":[function(D,z,H){"use strict";var K=D("ext/global-this"),W={"object":!0,"symbol":!0};z.exports=function(){var D,z=K.Symbol;if("function"!=typeof z)return!1;D=z("test symbol");try{String(D)}catch(D){return!1}return!!W[$(z.iterator)]&&!!W[$(z.toPrimitive)]&&!!W[$(z.toStringTag)]}},{"ext/global-this":85}],"76":[function(D,z,H){"use strict";z.exports=function(D){return!!D&&("symbol"==$(D)||!!D.constructor&&"Symbol"===D.constructor.name&&"Symbol"===D[D.constructor.toStringTag])}},{}],"77":[function(D,z,H){"use strict";var K=D("d"),W=Object.create,V=Object.defineProperty,Q=Object.prototype,Z=W(null);z.exports=function(D){for(var z,H,W=0;Z[D+(W||"")];)++W;return Z[D+=W||""]=!0,V(Q,z="@@"+D,K.gs(null,(function(D){H||(H=!0,V(this,z,K(D)),H=!1)}))),z}},{"d":15}],"78":[function(D,z,H){"use strict";var K=D("d"),W=D("ext/global-this").Symbol;z.exports=function(D){return Object.defineProperties(D,{"hasInstance":K("",W&&W.hasInstance||D("hasInstance")),"isConcatSpreadable":K("",W&&W.isConcatSpreadable||D("isConcatSpreadable")),"iterator":K("",W&&W.iterator||D("iterator")),"match":K("",W&&W.match||D("match")),"replace":K("",W&&W.replace||D("replace")),"search":K("",W&&W.search||D("search")),"species":K("",W&&W.species||D("species")),"split":K("",W&&W.split||D("split")),"toPrimitive":K("",W&&W.toPrimitive||D("toPrimitive")),"toStringTag":K("",W&&W.toStringTag||D("toStringTag")),"unscopables":K("",W&&W.unscopables||D("unscopables"))})}},{"d":15,"ext/global-this":85}],"79":[function(D,z,H){"use strict";var K=D("d"),W=D("../../../validate-symbol"),V=Object.create(null);z.exports=function(D){return Object.defineProperties(D,{"for":K((function(z){return V[z]?V[z]:V[z]=D(String(z))})),"keyFor":K((function(D){var z;for(z in W(D),V)if(V[z]===D)return z}))})}},{"../../../validate-symbol":81,"d":15}],"80":[function(D,z,H){"use strict";var K,W,V,Q=D("d"),Z=D("./validate-symbol"),G=D("ext/global-this").Symbol,J=D("./lib/private/generate-name"),Y=D("./lib/private/setup/standard-symbols"),X=D("./lib/private/setup/symbol-registry"),ee=Object.create,te=Object.defineProperties,re=Object.defineProperty;if("function"==typeof G)try{String(G()),V=!0}catch(D){}else G=null;W=function i(D){if(this instanceof W)throw new TypeError("Symbol is not a constructor");return K(D)},z.exports=K=function e(D){var z;if(this instanceof e)throw new TypeError("Symbol is not a constructor");return V?G(D):(z=ee(W.prototype),D=void 0===D?"":String(D),te(z,{"__description__":Q("",D),"__name__":Q("",J(D))}))},Y(K),X(K),te(W.prototype,{"constructor":Q(K),"toString":Q("",(function(){return this.__name__}))}),te(K.prototype,{"toString":Q((function(){return"Symbol ("+Z(this).__description__+")"})),"valueOf":Q((function(){return Z(this)}))}),re(K.prototype,K.toPrimitive,Q("",(function(){var D=Z(this);return"symbol"==$(D)?D:D.toString()}))),re(K.prototype,K.toStringTag,Q("c","Symbol")),re(W.prototype,K.toStringTag,Q("c",K.prototype[K.toStringTag])),re(W.prototype,K.toPrimitive,Q("c",K.prototype[K.toPrimitive]))},{"./lib/private/generate-name":77,"./lib/private/setup/standard-symbols":78,"./lib/private/setup/symbol-registry":79,"./validate-symbol":81,"d":15,"ext/global-this":85}],"81":[function(D,z,H){"use strict";var K=D("./is-symbol");z.exports=function(D){if(!K(D))throw new TypeError(D+" is not a symbol");return D}},{"./is-symbol":76}],"82":[function(D,z,H){"use strict";var K,W,V,Q,Z,G,J,Y=D("d"),X=D("es5-ext/object/valid-callable"),ee=Function.prototype.apply,te=Function.prototype.call,re=Object.create,ne=Object.defineProperty,ie=Object.defineProperties,oe=Object.prototype.hasOwnProperty,se={"configurable":!0,"enumerable":!1,"writable":!0};Z={"on":K=function n(D,z){var H;return X(z),oe.call(this,"__ee__")?H=this.__ee__:(H=se.value=re(null),ne(this,"__ee__",se),se.value=null),H[D]?"object"==$(H[D])?H[D].push(z):H[D]=[H[D],z]:H[D]=z,this},"once":W=function i(D,z){var H,i;return X(z),i=this,K.call(this,D,H=function r(){V.call(i,D,H),ee.call(z,this,arguments)}),H.__eeOnceListener__=z,this},"off":V=function o(D,z){var H,K,W,o;if(X(z),!oe.call(this,"__ee__"))return this;if(!(H=this.__ee__)[D])return this;if("object"==$(K=H[D]))for(o=0;W=K[o];++o)W!==z&&W.__eeOnceListener__!==z||(2===K.length?H[D]=K[o?0:1]:K.splice(o,1));else K!==z&&K.__eeOnceListener__!==z||delete H[D];return this},"emit":Q=function s(D){var z,H,K,W,V;if(oe.call(this,"__ee__")&&(W=this.__ee__[D]))if("object"==$(W)){for(H=arguments.length,V=new Array(H-1),z=1;z<H;++z)V[z-1]=arguments[z];for(W=W.slice(),z=0;K=W[z];++z)ee.call(K,this,V)}else switch(arguments.length){case 1:te.call(W,this);break;case 2:te.call(W,this,arguments[1]);break;case 3:te.call(W,this,arguments[1],arguments[2]);break;default:for(H=arguments.length,V=new Array(H-1),z=1;z<H;++z)V[z-1]=arguments[z];ee.call(W,this,V)}}},G={"on":Y(K),"once":Y(W),"off":Y(V),"emit":Y(Q)},J=ie({},G),z.exports=H=function r(D){return null==D?re(J):ie(Object(D),G)},H.methods=Z},{"d":15,"es5-ext/object/valid-callable":55}],"83":[function(D,z,H){var K=Object.create||function(D){var z=function t(){};return z.prototype=D,new z},W=Object.keys||function(D){var z=[];for(var H in D)Object.prototype.hasOwnProperty.call(D,H)&&z.push(H);return H},V=Function.prototype.bind||function(D){var z=this;return function(){return z.apply(D,arguments)}};function s(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=K(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}z.exports=s,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._maxListeners=void 0;var Q,Z=10;try{var G={};Object.defineProperty&&Object.defineProperty(G,"x",{"value":0}),Q=0===G.x}catch(D){Q=!1}function l(D){return void 0===D._maxListeners?s.defaultMaxListeners:D._maxListeners}function f(D,z,H,W){var V,Q,Z;if("function"!=typeof H)throw new TypeError('"listener" argument must be a function');if((Q=D._events)?(Q.newListener&&(D.emit("newListener",z,H.listener?H.listener:H),Q=D._events),Z=Q[z]):(Q=D._events=K(null),D._eventsCount=0),Z){if("function"==typeof Z?Z=Q[z]=W?[H,Z]:[Z,H]:W?Z.unshift(H):Z.push(H),!Z.warned&&(V=l(D))&&V>0&&Z.length>V){Z.warned=!0;var G=new Error("Possible EventEmitter memory leak detected. "+Z.length+' "'+String(z)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');G.name="MaxListenersExceededWarning",G.emitter=D,G.type=z,G.count=Z.length,"object"==("undefined"==typeof console?"undefined":$(console))&&console.warn&&console.warn("%s: %s",G.name,G.message)}}else Z=Q[z]=H,++D._eventsCount;return D}function p(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var D=new Array(arguments.length),z=0;z<D.length;++z)D[z]=arguments[z];this.listener.apply(this.target,D)}}function h(D,z,H){var K={"fired":!1,"wrapFn":void 0,"target":D,"type":z,"listener":H},W=V.call(p,K);return W.listener=H,K.wrapFn=W,W}function d(D,z,H){var K=D._events;if(!K)return[];var W=K[z];return W?"function"==typeof W?H?[W.listener||W]:[W]:H?function(D){for(var z=new Array(D.length),H=0;H<z.length;++H)z[H]=D[H].listener||D[H];return z}(W):b(W,W.length):[]}function g(D){var z=this._events;if(z){var H=z[D];if("function"==typeof H)return 1;if(H)return H.length}return 0}function b(D,z){for(var H=new Array(z),K=0;K<z;++K)H[K]=D[K];return H}Q?Object.defineProperty(s,"defaultMaxListeners",{"enumerable":!0,"get":function get(){return Z},"set":function set(D){if("number"!=typeof D||D<0||D!=D)throw new TypeError('"defaultMaxListeners" must be a positive number');Z=D}}):s.defaultMaxListeners=Z,s.prototype.setMaxListeners=function(D){if("number"!=typeof D||D<0||isNaN(D))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=D,this},s.prototype.getMaxListeners=function(){return l(this)},s.prototype.emit=function(D){var z,H,K,W,V,Q,Z="error"===D;if(Q=this._events)Z=Z&&null==Q.error;else if(!Z)return!1;if(Z){if(arguments.length>1&&(z=arguments[1]),z instanceof Error)throw z;var $=new Error('Unhandled "error" event. ('+z+")");throw $.context=z,$}if(!(H=Q[D]))return!1;var G="function"==typeof H;switch(K=arguments.length){case 1:!function(D,z,H){if(z)D.call(H);else for(var K=D.length,W=b(D,K),V=0;V<K;++V)W[V].call(H)}(H,G,this);break;case 2:!function(D,z,H,K){if(z)D.call(H,K);else for(var W=D.length,V=b(D,W),Q=0;Q<W;++Q)V[Q].call(H,K)}(H,G,this,arguments[1]);break;case 3:!function(D,z,H,K,W){if(z)D.call(H,K,W);else for(var V=D.length,Q=b(D,V),Z=0;Z<V;++Z)Q[Z].call(H,K,W)}(H,G,this,arguments[1],arguments[2]);break;case 4:!function(D,z,H,K,W,V){if(z)D.call(H,K,W,V);else for(var Q=D.length,Z=b(D,Q),$=0;$<Q;++$)Z[$].call(H,K,W,V)}(H,G,this,arguments[1],arguments[2],arguments[3]);break;default:for(W=new Array(K-1),V=1;V<K;V++)W[V-1]=arguments[V];!function(D,z,H,K){if(z)D.apply(H,K);else for(var W=D.length,V=b(D,W),Q=0;Q<W;++Q)V[Q].apply(H,K)}(H,G,this,W)}return!0},s.prototype.addListener=function(D,z){return f(this,D,z,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(D,z){return f(this,D,z,!0)},s.prototype.once=function(D,z){if("function"!=typeof z)throw new TypeError('"listener" argument must be a function');return this.on(D,h(this,D,z)),this},s.prototype.prependOnceListener=function(D,z){if("function"!=typeof z)throw new TypeError('"listener" argument must be a function');return this.prependListener(D,h(this,D,z)),this},s.prototype.removeListener=function(D,z){var H,W,V,Q,Z;if("function"!=typeof z)throw new TypeError('"listener" argument must be a function');if(!(W=this._events))return this;if(!(H=W[D]))return this;if(H===z||H.listener===z)0==--this._eventsCount?this._events=K(null):(delete W[D],W.removeListener&&this.emit("removeListener",D,H.listener||z));else if("function"!=typeof H){for(V=-1,Q=H.length-1;Q>=0;Q--)if(H[Q]===z||H[Q].listener===z){Z=H[Q].listener,V=Q;break}if(V<0)return this;0===V?H.shift():function(D,z){for(var H=z,K=H+1,W=D.length;K<W;H+=1,K+=1)D[H]=D[K];D.pop()}(H,V),1===H.length&&(W[D]=H[0]),W.removeListener&&this.emit("removeListener",D,Z||z)}return this},s.prototype.removeAllListeners=function(D){var z,H,V;if(!(H=this._events))return this;if(!H.removeListener)return 0===arguments.length?(this._events=K(null),this._eventsCount=0):H[D]&&(0==--this._eventsCount?this._events=K(null):delete H[D]),this;if(0===arguments.length){var Q,Z=W(H);for(V=0;V<Z.length;++V)"removeListener"!==(Q=Z[V])&&this.removeAllListeners(Q);return this.removeAllListeners("removeListener"),this._events=K(null),this._eventsCount=0,this}if("function"==typeof(z=H[D]))this.removeListener(D,z);else if(z)for(V=z.length-1;V>=0;V--)this.removeListener(D,z[V]);return this},s.prototype.listeners=function(D){return d(this,D,!0)},s.prototype.rawListeners=function(D){return d(this,D,!1)},s.listenerCount=function(D,z){return"function"==typeof D.listenerCount?D.listenerCount(z):g.call(D,z)},s.prototype.listenerCount=g,s.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},{}],"84":[function(D,z,H){var K=function n(){if("object"==("undefined"==typeof self?"undefined":$(self))&&self)return self;if("object"==("undefined"==typeof window?"undefined":$(window))&&window)return window;throw new Error("Unable to resolve global `this`")};z.exports=function(){if(this)return this;try{Object.defineProperty(Object.prototype,"__global__",{"get":function get(){return this},"configurable":!0})}catch(D){return K()}try{return __global__||K()}finally{delete Object.prototype.__global__}}()},{}],"85":[function(D,z,H){"use strict";z.exports=D("./is-implemented")()?globalThis:D("./implementation")},{"./implementation":84,"./is-implemented":86}],"86":[function(D,z,H){"use strict";z.exports=function(){return"object"==("undefined"==typeof globalThis?"undefined":$(globalThis))&&!!globalThis&&globalThis.Array===Array}},{}],"87":[function(D,z,H){H.read=function(D,z,H,K,W){var V,Q,Z=8*W-K-1,$=(1<<Z)-1,G=$>>1,J=-7,Y=H?W-1:0,X=H?-1:1,ee=D[z+Y];for(Y+=X,V=ee&(1<<-J)-1,ee>>=-J,J+=Z;J>0;V=256*V+D[z+Y],Y+=X,J-=8);for(Q=V&(1<<-J)-1,V>>=-J,J+=K;J>0;Q=256*Q+D[z+Y],Y+=X,J-=8);if(0===V)V=1-G;else{if(V===$)return Q?NaN:1/0*(ee?-1:1);Q+=Math.pow(2,K),V-=G}return(ee?-1:1)*Q*Math.pow(2,V-K)},H.write=function(D,z,H,K,W,V){var Q,Z,$,G=8*V-W-1,J=(1<<G)-1,Y=J>>1,X=23===W?Math.pow(2,-24)-Math.pow(2,-77):0,ee=K?0:V-1,te=K?1:-1,re=z<0||0===z&&1/z<0?1:0;for(z=Math.abs(z),isNaN(z)||z===1/0?(Z=isNaN(z)?1:0,Q=J):(Q=Math.floor(Math.log(z)/Math.LN2),z*($=Math.pow(2,-Q))<1&&(Q--,$*=2),(z+=Q+Y>=1?X/$:X*Math.pow(2,1-Y))*$>=2&&(Q++,$/=2),Q+Y>=J?(Z=0,Q=J):Q+Y>=1?(Z=(z*$-1)*Math.pow(2,W),Q+=Y):(Z=z*Math.pow(2,Y-1)*Math.pow(2,W),Q=0));W>=8;D[H+ee]=255&Z,ee+=te,Z/=256,W-=8);for(Q=Q<<W|Z,G+=W;G>0;D[H+ee]=255&Q,ee+=te,Q/=256,G-=8);D[H+ee-te]|=128*re}},{}],"88":[function(D,z,H){"function"==typeof Object.create?z.exports=function(D,z){D.super_=z,D.prototype=Object.create(z.prototype,{"constructor":{"value":D,"enumerable":!1,"writable":!0,"configurable":!0}})}:z.exports=function(D,z){D.super_=z;var H=function r(){};H.prototype=z.prototype,D.prototype=new H,D.prototype.constructor=D}},{}],"89":[function(D,z,H){function n(D){return!!D.constructor&&"function"==typeof D.constructor.isBuffer&&D.constructor.isBuffer(D)}z.exports=function(D){return null!=D&&(n(D)||function(D){return"function"==typeof D.readFloatLE&&"function"==typeof D.slice&&n(D.slice(0,0))}(D)||!!D._isBuffer)}},{}],"90":[function(D,z,H){"use strict";var K=D("safe-buffer").Buffer,W=z.exports;for(var V in W.types={"0":"reserved","1":"connect","2":"connack","3":"publish","4":"puback","5":"pubrec","6":"pubrel","7":"pubcomp","8":"subscribe","9":"suback","10":"unsubscribe","11":"unsuback","12":"pingreq","13":"pingresp","14":"disconnect","15":"auth"},W.codes={},W.types){var Q=W.types[V];W.codes[Q]=V}for(var Z in W.CMD_SHIFT=4,W.CMD_MASK=240,W.DUP_MASK=8,W.QOS_MASK=3,W.QOS_SHIFT=1,W.RETAIN_MASK=1,W.LENGTH_MASK=127,W.LENGTH_FIN_MASK=128,W.SESSIONPRESENT_MASK=1,W.SESSIONPRESENT_HEADER=K.from([W.SESSIONPRESENT_MASK]),W.CONNACK_HEADER=K.from([W.codes.connack<<W.CMD_SHIFT]),W.USERNAME_MASK=128,W.PASSWORD_MASK=64,W.WILL_RETAIN_MASK=32,W.WILL_QOS_MASK=24,W.WILL_QOS_SHIFT=3,W.WILL_FLAG_MASK=4,W.CLEAN_SESSION_MASK=2,W.CONNECT_HEADER=K.from([W.codes.connect<<W.CMD_SHIFT]),W.properties={"sessionExpiryInterval":17,"willDelayInterval":24,"receiveMaximum":33,"maximumPacketSize":39,"topicAliasMaximum":34,"requestResponseInformation":25,"requestProblemInformation":23,"userProperties":38,"authenticationMethod":21,"authenticationData":22,"payloadFormatIndicator":1,"messageExpiryInterval":2,"contentType":3,"responseTopic":8,"correlationData":9,"maximumQoS":36,"retainAvailable":37,"assignedClientIdentifier":18,"reasonString":31,"wildcardSubscriptionAvailable":40,"subscriptionIdentifiersAvailable":41,"sharedSubscriptionAvailable":42,"serverKeepAlive":19,"responseInformation":26,"serverReference":28,"topicAlias":35,"subscriptionIdentifier":11},W.propertiesCodes={},W.properties){var $=W.properties[Z];W.propertiesCodes[$]=Z}function c(D){return[0,1,2].map((function(z){return[0,1].map((function(H){return[0,1].map((function(V){var Q=new K(1);return Q.writeUInt8(W.codes[D]<<W.CMD_SHIFT|(H?W.DUP_MASK:0)|z<<W.QOS_SHIFT|V,0,!0),Q}))}))}))}W.propertiesTypes={"sessionExpiryInterval":"int32","willDelayInterval":"int32","receiveMaximum":"int16","maximumPacketSize":"int32","topicAliasMaximum":"int16","requestResponseInformation":"byte","requestProblemInformation":"byte","userProperties":"pair","authenticationMethod":"string","authenticationData":"binary","payloadFormatIndicator":"byte","messageExpiryInterval":"int32","contentType":"string","responseTopic":"string","correlationData":"binary","maximumQoS":"int8","retainAvailable":"byte","assignedClientIdentifier":"string","reasonString":"string","wildcardSubscriptionAvailable":"byte","subscriptionIdentifiersAvailable":"byte","sharedSubscriptionAvailable":"byte","serverKeepAlive":"int32","responseInformation":"string","serverReference":"string","topicAlias":"int16","subscriptionIdentifier":"var"},W.PUBLISH_HEADER=c("publish"),W.SUBSCRIBE_HEADER=c("subscribe"),W.SUBSCRIBE_OPTIONS_QOS_MASK=3,W.SUBSCRIBE_OPTIONS_NL_MASK=1,W.SUBSCRIBE_OPTIONS_NL_SHIFT=2,W.SUBSCRIBE_OPTIONS_RAP_MASK=1,W.SUBSCRIBE_OPTIONS_RAP_SHIFT=3,W.SUBSCRIBE_OPTIONS_RH_MASK=3,W.SUBSCRIBE_OPTIONS_RH_SHIFT=4,W.SUBSCRIBE_OPTIONS_RH=[0,16,32],W.SUBSCRIBE_OPTIONS_NL=4,W.SUBSCRIBE_OPTIONS_RAP=8,W.SUBSCRIBE_OPTIONS_QOS=[0,1,2],W.UNSUBSCRIBE_HEADER=c("unsubscribe"),W.ACKS={"unsuback":c("unsuback"),"puback":c("puback"),"pubcomp":c("pubcomp"),"pubrel":c("pubrel"),"pubrec":c("pubrec")},W.SUBACK_HEADER=K.from([W.codes.suback<<W.CMD_SHIFT]),W.VERSION3=K.from([3]),W.VERSION4=K.from([4]),W.VERSION5=K.from([5]),W.QOS=[0,1,2].map((function(D){return K.from([D])})),W.EMPTY={"pingreq":K.from([W.codes.pingreq<<4,0]),"pingresp":K.from([W.codes.pingresp<<4,0]),"disconnect":K.from([W.codes.disconnect<<4,0])}},{"safe-buffer":118}],"91":[function(D,z,H){"use strict";var K=D("safe-buffer").Buffer,W=D("./writeToStream"),V=D("events").EventEmitter;function s(){this._array=new Array(20),this._i=0}D("inherits")(s,V),s.prototype.write=function(D){return this._array[this._i++]=D,!0},s.prototype.concat=function(){var D,z,H=0,W=new Array(this._array.length),V=this._array,Q=0;for(D=0;D<V.length&&void 0!==V[D];D++)"string"!=typeof V[D]?W[D]=V[D].length:W[D]=K.byteLength(V[D]),H+=W[D];for(z=K.allocUnsafe(H),D=0;D<V.length&&void 0!==V[D];D++)"string"!=typeof V[D]?(V[D].copy(z,Q),Q+=W[D]):(z.write(V[D],Q),Q+=W[D]);return z},z.exports=function(D,z){var H=new s;return W(D,H,z),H.concat()}},{"./writeToStream":97,"events":83,"inherits":88,"safe-buffer":118}],"92":[function(D,z,H){"use strict";H.parser=D("./parser"),H.generate=D("./generate"),H.writeToStream=D("./writeToStream")},{"./generate":91,"./parser":96,"./writeToStream":97}],"93":[function(D,z,H){var K=D("readable-stream/duplex"),W=D("util"),V=D("safe-buffer").Buffer;function s(D){if(!(this instanceof s))return new s(D);if(this._bufs=[],this.length=0,"function"==typeof D){this._callback=D;var z=function(D){this._callback&&(this._callback(D),this._callback=null)}.bind(this);this.on("pipe",(function(D){D.on("error",z)})),this.on("unpipe",(function(D){D.removeListener("error",z)}))}else this.append(D);K.call(this)}W.inherits(s,K),s.prototype._offset=function(D){var z,H=0,K=0;if(0===D)return[0,0];for(;K<this._bufs.length;K++){if(D<(z=H+this._bufs[K].length)||K==this._bufs.length-1)return[K,D-H];H=z}},s.prototype.append=function(D){var z=0;if(V.isBuffer(D))this._appendBuffer(D);else if(Array.isArray(D))for(;z<D.length;z++)this.append(D[z]);else if(D instanceof s)for(;z<D._bufs.length;z++)this.append(D._bufs[z]);else null!=D&&("number"==typeof D&&(D=D.toString()),this._appendBuffer(V.from(D)));return this},s.prototype._appendBuffer=function(D){this._bufs.push(D),this.length+=D.length},s.prototype._write=function(D,z,H){this._appendBuffer(D),"function"==typeof H&&H()},s.prototype._read=function(D){if(!this.length)return this.push(null);D=Math.min(D,this.length),this.push(this.slice(0,D)),this.consume(D)},s.prototype.end=function(D){K.prototype.end.call(this,D),this._callback&&(this._callback(null,this.slice()),this._callback=null)},s.prototype.get=function(D){return this.slice(D,D+1)[0]},s.prototype.slice=function(D,z){return"number"==typeof D&&D<0&&(D+=this.length),"number"==typeof z&&z<0&&(z+=this.length),this.copy(null,0,D,z)},s.prototype.copy=function(D,z,H,K){if(("number"!=typeof H||H<0)&&(H=0),("number"!=typeof K||K>this.length)&&(K=this.length),H>=this.length)return D||V.alloc(0);if(K<=0)return D||V.alloc(0);var W,Q,Z=!!D,$=this._offset(H),G=K-H,J=G,Y=Z&&z||0,X=$[1];if(0===H&&K==this.length){if(!Z)return 1===this._bufs.length?this._bufs[0]:V.concat(this._bufs,this.length);for(Q=0;Q<this._bufs.length;Q++)this._bufs[Q].copy(D,Y),Y+=this._bufs[Q].length;return D}if(J<=this._bufs[$[0]].length-X)return Z?this._bufs[$[0]].copy(D,z,X,X+J):this._bufs[$[0]].slice(X,X+J);for(Z||(D=V.allocUnsafe(G)),Q=$[0];Q<this._bufs.length;Q++){if(!(J>(W=this._bufs[Q].length-X))){this._bufs[Q].copy(D,Y,X,X+J);break}this._bufs[Q].copy(D,Y,X),Y+=W,J-=W,X&&(X=0)}return D},s.prototype.shallowSlice=function(D,z){D=D||0,z=z||this.length,D<0&&(D+=this.length),z<0&&(z+=this.length);var H=this._offset(D),K=this._offset(z),W=this._bufs.slice(H[0],K[0]+1);return 0==K[1]?W.pop():W[W.length-1]=W[W.length-1].slice(0,K[1]),0!=H[1]&&(W[0]=W[0].slice(H[1])),new s(W)},s.prototype.toString=function(D,z,H){return this.slice(z,H).toString(D)},s.prototype.consume=function(D){for(;this._bufs.length;){if(!(D>=this._bufs[0].length)){this._bufs[0]=this._bufs[0].slice(D),this.length-=D;break}D-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift()}return this},s.prototype.duplicate=function(){for(var D=0,z=new s;D<this._bufs.length;D++)z.append(this._bufs[D]);return z},s.prototype.destroy=function(){this._bufs.length=0,this.length=0,this.push(null)},function(){var D={"readDoubleBE":8,"readDoubleLE":8,"readFloatBE":4,"readFloatLE":4,"readInt32BE":4,"readInt32LE":4,"readUInt32BE":4,"readUInt32LE":4,"readInt16BE":2,"readInt16LE":2,"readUInt16BE":2,"readUInt16LE":2,"readInt8":1,"readUInt8":1};for(var z in D)!function(z){s.prototype[z]=function(H){return this.slice(H,H+D[z])[z](0)}}(z)}(),z.exports=s},{"readable-stream/duplex":105,"safe-buffer":118,"util":136}],"94":[function(D,z,H){"use strict";var K=D("safe-buffer").Buffer,W={};function s(D){var z=K.allocUnsafe(2);return z.writeUInt8(D>>8,0),z.writeUInt8(255&D,1),z}z.exports={"cache":W,"generateCache":function generateCache(){for(var D=0;D<65536;D++)W[D]=s(D)},"generateNumber":s,"genBufVariableByteInt":function genBufVariableByteInt(D){var z=0,H=0,W=function(D){return D>=0&&D<128?1:D>=128&&D<16384?2:D>=16384&&D<2097152?3:D>=2097152&&D<268435456?4:0}(D),V=K.allocUnsafe(W);do{z=D%128|0,(D=D/128|0)>0&&(z|=128),V.writeUInt8(z,H++)}while(D>0);return{"data":V,"length":W}},"generate4ByteBuffer":function generate4ByteBuffer(D){var z=K.allocUnsafe(4);return z.writeUInt32BE(D,0),z}}},{"safe-buffer":118}],"95":[function(D,z,H){z.exports=function(){this.cmd=null,this.retain=!1,this.qos=0,this.dup=!1,this.length=-1,this.topic=null,this.payload=null}},{}],"96":[function(D,z,H){"use strict";var K=D("bl"),W=D("inherits"),V=D("events").EventEmitter,Q=D("./packet"),Z=D("./constants");function u(D){if(!(this instanceof u))return new u(D);this.settings=D||{},this._states=["_parseHeader","_parseLength","_parsePayload","_newPacket"],this._resetState()}W(u,V),u.prototype._resetState=function(){this.packet=new Q,this.error=null,this._list=K(),this._stateCounter=0},u.prototype.parse=function(D){for(this.error&&this._resetState(),this._list.append(D);(-1!==this.packet.length||this._list.length>0)&&this[this._states[this._stateCounter]]()&&!this.error;)this._stateCounter++,this._stateCounter>=this._states.length&&(this._stateCounter=0);return this._list.length},u.prototype._parseHeader=function(){var D=this._list.readUInt8(0);return this.packet.cmd=Z.types[D>>Z.CMD_SHIFT],this.packet.retain=!!(D&Z.RETAIN_MASK),this.packet.qos=D>>Z.QOS_SHIFT&Z.QOS_MASK,this.packet.dup=!!(D&Z.DUP_MASK),this._list.consume(1),!0},u.prototype._parseLength=function(){var D=this._parseVarByteNum(!0);return D&&(this.packet.length=D.value,this._list.consume(D.bytes)),!!D},u.prototype._parsePayload=function(){var D=!1;if(0===this.packet.length||this._list.length>=this.packet.length){switch(this._pos=0,this.packet.cmd){case"connect":this._parseConnect();break;case"connack":this._parseConnack();break;case"publish":this._parsePublish();break;case"puback":case"pubrec":case"pubrel":case"pubcomp":this._parseConfirmation();break;case"subscribe":this._parseSubscribe();break;case"suback":this._parseSuback();break;case"unsubscribe":this._parseUnsubscribe();break;case"unsuback":this._parseUnsuback();break;case"pingreq":case"pingresp":break;case"disconnect":this._parseDisconnect();break;case"auth":this._parseAuth();break;default:this._emitError(new Error("Not supported"))}D=!0}return D},u.prototype._parseConnect=function(){var D,z,H,K,W,V,Q={},$=this.packet;if(null===(D=this._parseString()))return this._emitError(new Error("Cannot parse protocolId"));if("MQTT"!==D&&"MQIsdp"!==D)return this._emitError(new Error("Invalid protocolId"));if($.protocolId=D,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if($.protocolVersion=this._list.readUInt8(this._pos),3!==$.protocolVersion&&4!==$.protocolVersion&&5!==$.protocolVersion)return this._emitError(new Error("Invalid protocol version"));if(this._pos++,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(Q.username=this._list.readUInt8(this._pos)&Z.USERNAME_MASK,Q.password=this._list.readUInt8(this._pos)&Z.PASSWORD_MASK,Q.will=this._list.readUInt8(this._pos)&Z.WILL_FLAG_MASK,Q.will&&($.will={},$.will.retain=!!(this._list.readUInt8(this._pos)&Z.WILL_RETAIN_MASK),$.will.qos=(this._list.readUInt8(this._pos)&Z.WILL_QOS_MASK)>>Z.WILL_QOS_SHIFT),$.clean=!!(this._list.readUInt8(this._pos)&Z.CLEAN_SESSION_MASK),this._pos++,$.keepalive=this._parseNum(),-1===$.keepalive)return this._emitError(new Error("Packet too short"));if(5===$.protocolVersion){var G=this._parseProperties();Object.getOwnPropertyNames(G).length&&($.properties=G)}if(null===(z=this._parseString()))return this._emitError(new Error("Packet too short"));if($.clientId=z,Q.will){if(5===$.protocolVersion){var J=this._parseProperties();Object.getOwnPropertyNames(J).length&&($.will.properties=J)}if(null===(H=this._parseString()))return this._emitError(new Error("Cannot parse will topic"));if($.will.topic=H,null===(K=this._parseBuffer()))return this._emitError(new Error("Cannot parse will payload"));$.will.payload=K}if(Q.username){if(null===(V=this._parseString()))return this._emitError(new Error("Cannot parse username"));$.username=V}if(Q.password){if(null===(W=this._parseBuffer()))return this._emitError(new Error("Cannot parse password"));$.password=W}return this.settings=$,$},u.prototype._parseConnack=function(){var D=this.packet;if(this._list.length<2)return null;if(D.sessionPresent=!!(this._list.readUInt8(this._pos++)&Z.SESSIONPRESENT_MASK),5===this.settings.protocolVersion?D.reasonCode=this._list.readUInt8(this._pos++):D.returnCode=this._list.readUInt8(this._pos++),-1===D.returnCode||-1===D.reasonCode)return this._emitError(new Error("Cannot parse return code"));if(5===this.settings.protocolVersion){var z=this._parseProperties();Object.getOwnPropertyNames(z).length&&(D.properties=z)}},u.prototype._parsePublish=function(){var D=this.packet;if(D.topic=this._parseString(),null===D.topic)return this._emitError(new Error("Cannot parse topic"));if(!(D.qos>0)||this._parseMessageId()){if(5===this.settings.protocolVersion){var z=this._parseProperties();Object.getOwnPropertyNames(z).length&&(D.properties=z)}D.payload=this._list.slice(this._pos,D.length)}},u.prototype._parseSubscribe=function(){var D,z,H,K,W,V,Q,$=this.packet;if(1!==$.qos)return this._emitError(new Error("Wrong subscribe header"));if($.subscriptions=[],this._parseMessageId()){if(5===this.settings.protocolVersion){var G=this._parseProperties();Object.getOwnPropertyNames(G).length&&($.properties=G)}for(;this._pos<$.length;){if(null===(D=this._parseString()))return this._emitError(new Error("Cannot parse topic"));H=(z=this._parseByte())&Z.SUBSCRIBE_OPTIONS_QOS_MASK,V=!!(z>>Z.SUBSCRIBE_OPTIONS_NL_SHIFT&Z.SUBSCRIBE_OPTIONS_NL_MASK),W=!!(z>>Z.SUBSCRIBE_OPTIONS_RAP_SHIFT&Z.SUBSCRIBE_OPTIONS_RAP_MASK),K=z>>Z.SUBSCRIBE_OPTIONS_RH_SHIFT&Z.SUBSCRIBE_OPTIONS_RH_MASK,Q={"topic":D,"qos":H},5===this.settings.protocolVersion&&(Q.nl=V,Q.rap=W,Q.rh=K),$.subscriptions.push(Q)}}},u.prototype._parseSuback=function(){var D=this.packet;if(this.packet.granted=[],this._parseMessageId()){if(5===this.settings.protocolVersion){var z=this._parseProperties();Object.getOwnPropertyNames(z).length&&(D.properties=z)}for(;this._pos<this.packet.length;)this.packet.granted.push(this._list.readUInt8(this._pos++))}},u.prototype._parseUnsubscribe=function(){var D=this.packet;if(D.unsubscriptions=[],this._parseMessageId()){if(5===this.settings.protocolVersion){var z=this._parseProperties();Object.getOwnPropertyNames(z).length&&(D.properties=z)}for(;this._pos<D.length;){var H;if(null===(H=this._parseString()))return this._emitError(new Error("Cannot parse topic"));D.unsubscriptions.push(H)}}},u.prototype._parseUnsuback=function(){var D=this.packet;if(!this._parseMessageId())return this._emitError(new Error("Cannot parse messageId"));if(5===this.settings.protocolVersion){var z=this._parseProperties();for(Object.getOwnPropertyNames(z).length&&(D.properties=z),D.granted=[];this._pos<this.packet.length;)this.packet.granted.push(this._list.readUInt8(this._pos++))}},u.prototype._parseConfirmation=function(){var D=this.packet;if(this._parseMessageId(),5===this.settings.protocolVersion&&D.length>2){D.reasonCode=this._parseByte();var z=this._parseProperties();Object.getOwnPropertyNames(z).length&&(D.properties=z)}return!0},u.prototype._parseDisconnect=function(){var D=this.packet;if(5===this.settings.protocolVersion){D.reasonCode=this._parseByte();var z=this._parseProperties();Object.getOwnPropertyNames(z).length&&(D.properties=z)}return!0},u.prototype._parseAuth=function(){var D=this.packet;if(5!==this.settings.protocolVersion)return this._emitError(new Error("Not supported auth packet for this version MQTT"));D.reasonCode=this._parseByte();var z=this._parseProperties();return Object.getOwnPropertyNames(z).length&&(D.properties=z),!0},u.prototype._parseMessageId=function(){var D=this.packet;return D.messageId=this._parseNum(),null!==D.messageId||(this._emitError(new Error("Cannot parse messageId")),!1)},u.prototype._parseString=function(D){var z,H=this._parseNum(),K=H+this._pos;return-1===H||K>this._list.length||K>this.packet.length?null:(z=this._list.toString("utf8",this._pos,K),this._pos+=H,z)},u.prototype._parseStringPair=function(){return{"name":this._parseString(),"value":this._parseString()}},u.prototype._parseBuffer=function(){var D,z=this._parseNum(),H=z+this._pos;return-1===z||H>this._list.length||H>this.packet.length?null:(D=this._list.slice(this._pos,H),this._pos+=z,D)},u.prototype._parseNum=function(){if(this._list.length-this._pos<2)return-1;var D=this._list.readUInt16BE(this._pos);return this._pos+=2,D},u.prototype._parse4ByteNum=function(){if(this._list.length-this._pos<4)return-1;var D=this._list.readUInt32BE(this._pos);return this._pos+=4,D},u.prototype._parseVarByteNum=function(D){for(var z,H=0,K=1,W=0,V=!0,Q=this._pos?this._pos:0;H<5&&(W+=K*((z=this._list.readUInt8(Q+H++))&Z.LENGTH_MASK),K*=128,z&Z.LENGTH_FIN_MASK);)if(this._list.length<=H){V=!1;break}return Q&&(this._pos+=H),!!V&&(D?{"bytes":H,"value":W}:W)},u.prototype._parseByte=function(){var D=this._list.readUInt8(this._pos);return this._pos++,D},u.prototype._parseByType=function(D){switch(D){case"byte":return 0!==this._parseByte();case"int8":return this._parseByte();case"int16":return this._parseNum();case"int32":return this._parse4ByteNum();case"var":return this._parseVarByteNum();case"string":return this._parseString();case"pair":return this._parseStringPair();case"binary":return this._parseBuffer()}},u.prototype._parseProperties=function(){for(var D=this._parseVarByteNum(),z=this._pos+D,H={};this._pos<z;){var K=this._parseByte(),W=Z.propertiesCodes[K];if(!W)return this._emitError(new Error("Unknown property")),!1;if("userProperties"!==W)H[W]=this._parseByType(Z.propertiesTypes[W]);else{H[W]||(H[W]={});var V=this._parseByType(Z.propertiesTypes[W]);H[W][V.name]=V.value}}return H},u.prototype._newPacket=function(){return this.packet&&(this._list.consume(this.packet.length),this.emit("packet",this.packet)),this.packet=new Q,this._pos=0,!0},u.prototype._emitError=function(D){this.error=D,this.emit("error",D)},z.exports=u},{"./constants":90,"./packet":95,"bl":93,"events":83,"inherits":88}],"97":[function(D,z,H){"use strict";var K=D("./constants"),W=D("safe-buffer").Buffer,V=W.allocUnsafe(0),Q=W.from([0]),Z=D("./numbers"),G=D("process-nextick-args").nextTick,J=Z.cache,Y=Z.generateNumber,X=Z.generateCache,ee=Z.genBufVariableByteInt,te=Z.generate4ByteBuffer,re=S,ne=!0;function b(D,z,H){switch(z.cork&&(z.cork(),G(y,z)),ne&&(ne=!1,X()),D.cmd){case"connect":return function(D,z){var H=D||{},V=H.protocolId||"MQTT",Q=H.protocolVersion||4,Z=H.will,G=H.clean,J=H.keepalive||0,Y=H.clientId||"",X=H.username,ee=H.password,te=H.properties;void 0===G&&(G=!0);var ne=0;if(!V||"string"!=typeof V&&!W.isBuffer(V))return z.emit("error",new Error("Invalid protocolId")),!1;if(ne+=V.length+2,3!==Q&&4!==Q&&5!==Q)return z.emit("error",new Error("Invalid protocol version")),!1;if(ne+=1,"string"!=typeof Y&&!W.isBuffer(Y)||!Y&&4!==Q||!Y&&!G){if(Q<4)return z.emit("error",new Error("clientId must be supplied before 3.1.1")),!1;if(1*G==0)return z.emit("error",new Error("clientId must be given if cleanSession set to 0")),!1}else ne+=Y.length+2;if("number"!=typeof J||J<0||J>65535||J%1!=0)return z.emit("error",new Error("Invalid keepalive")),!1;if(ne+=2,ne+=1,5===Q){var ie=I(z,te);ne+=ie.length}if(Z){if("object"!=$(Z))return z.emit("error",new Error("Invalid will")),!1;if(!Z.topic||"string"!=typeof Z.topic)return z.emit("error",new Error("Invalid will topic")),!1;if(ne+=W.byteLength(Z.topic)+2,Z.payload){if(!(Z.payload.length>=0))return z.emit("error",new Error("Invalid will payload")),!1;"string"==typeof Z.payload?ne+=W.byteLength(Z.payload)+2:ne+=Z.payload.length+2;var oe={};5===Q&&(ne+=(oe=I(z,Z.properties)).length)}}var se=!1;if(null!=X){if(!T(X))return z.emit("error",new Error("Invalid username")),!1;se=!0,ne+=W.byteLength(X)+2}if(null!=ee){if(!se)return z.emit("error",new Error("Username is required to use password")),!1;if(!T(ee))return z.emit("error",new Error("Invalid password")),!1;ne+=j(ee)+2}z.write(K.CONNECT_HEADER),_(z,ne),E(z,V),z.write(4===Q?K.VERSION4:5===Q?K.VERSION5:K.VERSION3);var ae=0;return ae|=null!=X?K.USERNAME_MASK:0,ae|=null!=ee?K.PASSWORD_MASK:0,ae|=Z&&Z.retain?K.WILL_RETAIN_MASK:0,ae|=Z&&Z.qos?Z.qos<<K.WILL_QOS_SHIFT:0,ae|=Z?K.WILL_FLAG_MASK:0,ae|=G?K.CLEAN_SESSION_MASK:0,z.write(W.from([ae])),re(z,J),5===Q&&ie.write(),E(z,Y),Z&&(5===Q&&oe.write(),v(z,Z.topic),E(z,Z.payload)),null!=X&&E(z,X),null!=ee&&E(z,ee),!0}(D,z);case"connack":return function(D,z,H){var V=H?H.protocolVersion:4,Z=D||{},$=5===V?Z.reasonCode:Z.returnCode,G=Z.properties,J=2;if("number"!=typeof $)return z.emit("error",new Error("Invalid return code")),!1;var Y=null;return 5===V&&(J+=(Y=I(z,G)).length),z.write(K.CONNACK_HEADER),_(z,J),z.write(Z.sessionPresent?K.SESSIONPRESENT_HEADER:Q),z.write(W.from([$])),null!=Y&&Y.write(),!0}(D,z,H);case"publish":return function(D,z,H){var Q=H?H.protocolVersion:4,Z=D||{},$=Z.qos||0,G=Z.retain?K.RETAIN_MASK:0,J=Z.topic,Y=Z.payload||V,X=Z.messageId,ee=Z.properties,te=0;if("string"==typeof J)te+=W.byteLength(J)+2;else{if(!W.isBuffer(J))return z.emit("error",new Error("Invalid topic")),!1;te+=J.length+2}if(W.isBuffer(Y)?te+=Y.length:te+=W.byteLength(Y),$&&"number"!=typeof X)return z.emit("error",new Error("Invalid messageId")),!1;$&&(te+=2);var ne=null;return 5===Q&&(te+=(ne=I(z,ee)).length),z.write(K.PUBLISH_HEADER[$][Z.dup?1:0][G?1:0]),_(z,te),re(z,j(J)),z.write(J),$>0&&re(z,X),null!=ne&&ne.write(),z.write(Y)}(D,z,H);case"puback":case"pubrec":case"pubrel":case"pubcomp":return function(D,z,H){var V=H?H.protocolVersion:4,Q=D||{},Z=Q.cmd||"puback",$=Q.messageId,G=Q.dup&&"pubrel"===Z?K.DUP_MASK:0,J=0,Y=Q.reasonCode,X=Q.properties,ee=5===V?3:2;if("pubrel"===Z&&(J=1),"number"!=typeof $)return z.emit("error",new Error("Invalid messageId")),!1;var te=null;if(5===V){if(!(te=C(z,X,H,ee)))return!1;ee+=te.length}return z.write(K.ACKS[Z][J][G][0]),_(z,ee),re(z,$),5===V&&z.write(W.from([Y])),null!==te&&te.write(),!0}(D,z,H);case"subscribe":return function(D,z,H){var V=H?H.protocolVersion:4,Q=D||{},Z=Q.dup?K.DUP_MASK:0,G=Q.messageId,J=Q.subscriptions,Y=Q.properties,X=0;if("number"!=typeof G)return z.emit("error",new Error("Invalid messageId")),!1;X+=2;var ee=null;if(5===V&&(X+=(ee=I(z,Y)).length),"object"!=$(J)||!J.length)return z.emit("error",new Error("Invalid subscriptions")),!1;for(var te=0;te<J.length;te+=1){var ne=J[te].topic,ie=J[te].qos;if("string"!=typeof ne)return z.emit("error",new Error("Invalid subscriptions - invalid topic")),!1;if("number"!=typeof ie)return z.emit("error",new Error("Invalid subscriptions - invalid qos")),!1;if(5===V){if("boolean"!=typeof(J[te].nl||!1))return z.emit("error",new Error("Invalid subscriptions - invalid No Local")),!1;if("boolean"!=typeof(J[te].rap||!1))return z.emit("error",new Error("Invalid subscriptions - invalid Retain as Published")),!1;var oe=J[te].rh||0;if("number"!=typeof oe||oe>2)return z.emit("error",new Error("Invalid subscriptions - invalid Retain Handling")),!1}X+=W.byteLength(ne)+2+1}z.write(K.SUBSCRIBE_HEADER[1][Z?1:0][0]),_(z,X),re(z,G),null!==ee&&ee.write();for(var se=!0,ae=0;ae<J.length;ae++){var ue,ce=J[ae],le=ce.topic,fe=ce.qos,he=+ce.nl,pe=+ce.rap,de=ce.rh;v(z,le),ue=K.SUBSCRIBE_OPTIONS_QOS[fe],5===V&&(ue|=he?K.SUBSCRIBE_OPTIONS_NL:0,ue|=pe?K.SUBSCRIBE_OPTIONS_RAP:0,ue|=de?K.SUBSCRIBE_OPTIONS_RH[de]:0),se=z.write(W.from([ue]))}return se}(D,z,H);case"suback":return function(D,z,H){var V=H?H.protocolVersion:4,Q=D||{},Z=Q.messageId,G=Q.granted,J=Q.properties,Y=0;if("number"!=typeof Z)return z.emit("error",new Error("Invalid messageId")),!1;if(Y+=2,"object"!=$(G)||!G.length)return z.emit("error",new Error("Invalid qos vector")),!1;for(var X=0;X<G.length;X+=1){if("number"!=typeof G[X])return z.emit("error",new Error("Invalid qos vector")),!1;Y+=1}var ee=null;if(5===V){if(!(ee=C(z,J,H,Y)))return!1;Y+=ee.length}return z.write(K.SUBACK_HEADER),_(z,Y),re(z,Z),null!==ee&&ee.write(),z.write(W.from(G))}(D,z,H);case"unsubscribe":return function(D,z,H){var V=H?H.protocolVersion:4,Q=D||{},Z=Q.messageId,G=Q.dup?K.DUP_MASK:0,J=Q.unsubscriptions,Y=Q.properties,X=0;if("number"!=typeof Z)return z.emit("error",new Error("Invalid messageId")),!1;if(X+=2,"object"!=$(J)||!J.length)return z.emit("error",new Error("Invalid unsubscriptions")),!1;for(var ee=0;ee<J.length;ee+=1){if("string"!=typeof J[ee])return z.emit("error",new Error("Invalid unsubscriptions")),!1;X+=W.byteLength(J[ee])+2}var te=null;5===V&&(X+=(te=I(z,Y)).length),z.write(K.UNSUBSCRIBE_HEADER[1][G?1:0][0]),_(z,X),re(z,Z),null!==te&&te.write();for(var ne=!0,ie=0;ie<J.length;ie++)ne=v(z,J[ie]);return ne}(D,z,H);case"unsuback":return function(D,z,H){var V=H?H.protocolVersion:4,Q=D||{},Z=Q.messageId,G=Q.dup?K.DUP_MASK:0,J=Q.granted,Y=Q.properties,X=Q.cmd,ee=2;if("number"!=typeof Z)return z.emit("error",new Error("Invalid messageId")),!1;if(5===V){if("object"!=$(J)||!J.length)return z.emit("error",new Error("Invalid qos vector")),!1;for(var te=0;te<J.length;te+=1){if("number"!=typeof J[te])return z.emit("error",new Error("Invalid qos vector")),!1;ee+=1}}var ne=null;if(5===V){if(!(ne=C(z,Y,H,ee)))return!1;ee+=ne.length}return z.write(K.ACKS[X][0][G][0]),_(z,ee),re(z,Z),null!==ne&&ne.write(),5===V&&z.write(W.from(J)),!0}(D,z,H);case"pingreq":case"pingresp":return function(D,z){return z.write(K.EMPTY[D.cmd])}(D,z);case"disconnect":return function(D,z,H){var V=H?H.protocolVersion:4,Q=D||{},Z=Q.reasonCode,$=Q.properties,G=5===V?1:0,J=null;if(5===V){if(!(J=C(z,$,H,G)))return!1;G+=J.length}return z.write(W.from([K.codes.disconnect<<4])),_(z,G),5===V&&z.write(W.from([Z])),null!==J&&J.write(),!0}(D,z,H);case"auth":return function(D,z,H){var V=H?H.protocolVersion:4,Q=D||{},Z=Q.reasonCode,$=Q.properties,G=5===V?1:0;5!==V&&z.emit("error",new Error("Invalid mqtt version for auth packet"));var J=C(z,$,H,G);return!!J&&(G+=J.length,z.write(W.from([K.codes.auth<<4])),_(z,G),z.write(W.from([Z])),null!==J&&J.write(),!0)}(D,z,H);default:return z.emit("error",new Error("Unknown command")),!1}}function y(D){D.uncork()}Object.defineProperty(b,"cacheNumbers",{"get":function get(){return re===S},"set":function set(D){D?(J&&0!==Object.keys(J).length||(ne=!0),re=S):(ne=!1,re=x)}});var ie={};function _(D,z){var H=ie[z];H||(H=ee(z).data,z<16384&&(ie[z]=H)),D.write(H)}function v(D,z){var H=W.byteLength(z);re(D,H),D.write(z,"utf8")}function w(D,z,H){v(D,z),v(D,H)}function S(D,z){return D.write(J[z])}function x(D,z){return D.write(Y(z))}function k(D,z){return D.write(te(z))}function E(D,z){"string"==typeof z?v(D,z):z?(re(D,z.length),D.write(z)):re(D,0)}function I(D,z){if("object"!=$(z)||null!=z.length)return{"length":1,"write":function write(){O(D,{},0)}};var H=0;function o(H){var V=K.propertiesTypes[H],Q=z[H],Z=0;switch(V){case"byte":if("boolean"!=typeof Q)return D.emit("error",new Error("Invalid "+H)),!1;Z+=2;break;case"int8":if("number"!=typeof Q)return D.emit("error",new Error("Invalid "+H)),!1;Z+=2;break;case"binary":if(Q&&null===Q)return D.emit("error",new Error("Invalid "+H)),!1;Z+=1+W.byteLength(Q)+2;break;case"int16":if("number"!=typeof Q)return D.emit("error",new Error("Invalid "+H)),!1;Z+=3;break;case"int32":if("number"!=typeof Q)return D.emit("error",new Error("Invalid "+H)),!1;Z+=5;break;case"var":if("number"!=typeof Q)return D.emit("error",new Error("Invalid "+H)),!1;Z+=1+ee(Q).length;break;case"string":if("string"!=typeof Q)return D.emit("error",new Error("Invalid "+H)),!1;Z+=3+W.byteLength(Q.toString());break;case"pair":if("object"!=$(Q))return D.emit("error",new Error("Invalid "+H)),!1;Z+=Object.getOwnPropertyNames(Q).reduce((function(D,z){return D+(3+W.byteLength(z.toString())+2+W.byteLength(Q[z].toString()))}),0);break;default:return D.emit("error",new Error("Invalid property "+H)),!1}return Z}if(z)for(var V in z){var Q=o(V);if(!Q)return!1;H+=Q}return{"length":ee(H).length+H,"write":function write(){O(D,z,H)}}}function C(D,z,H,K){var W=["reasonString","userProperties"],V=H&&H.properties&&H.properties.maximumPacketSize?H.properties.maximumPacketSize:0,Q=I(D,z);if(V)for(;K+Q.length>V;){var Z=W.shift();if(!Z||!z[Z])return!1;delete z[Z],Q=I(D,z)}return Q}function O(D,z,H){for(var V in _(D,H),z)if(z.hasOwnProperty(V)&&null!==z[V]){var Q=z[V];switch(K.propertiesTypes[V]){case"byte":D.write(W.from([K.properties[V]])),D.write(W.from([+Q]));break;case"int8":D.write(W.from([K.properties[V]])),D.write(W.from([Q]));break;case"binary":D.write(W.from([K.properties[V]])),E(D,Q);break;case"int16":D.write(W.from([K.properties[V]])),re(D,Q);break;case"int32":D.write(W.from([K.properties[V]])),k(D,Q);break;case"var":D.write(W.from([K.properties[V]])),_(D,Q);break;case"string":D.write(W.from([K.properties[V]])),v(D,Q);break;case"pair":Object.getOwnPropertyNames(Q).forEach((function(z){D.write(W.from([K.properties[V]])),w(D,z.toString(),Q[z].toString())}));break;default:return D.emit("error",new Error("Invalid property "+V)),!1}}}function j(D){return D?D instanceof W?D.length:W.byteLength(D):0}function T(D){return"string"==typeof D||D instanceof W}z.exports=b},{"./constants":90,"./numbers":94,"process-nextick-args":99,"safe-buffer":118}],"98":[function(D,z,H){var K=D("wrappy");function i(D){var z=function t(){return z.called?z.value:(z.called=!0,z.value=D.apply(this,arguments))};return z.called=!1,z}function o(D){var z=function t(){if(z.called)throw new Error(z.onceError);return z.called=!0,z.value=D.apply(this,arguments)},H=D.name||"Function wrapped with `once`";return z.onceError=H+" shouldn't be called more than once",z.called=!1,z}z.exports=K(i),z.exports.strict=K(o),i.proto=i((function(){Object.defineProperty(Function.prototype,"once",{"value":function value(){return i(this)},"configurable":!0}),Object.defineProperty(Function.prototype,"onceStrict",{"value":function value(){return o(this)},"configurable":!0})}))},{"wrappy":139}],"99":[function(D,z,H){(function(D){"use strict";void 0===D||!D.version||0===D.version.indexOf("v0.")||0===D.version.indexOf("v1.")&&0!==D.version.indexOf("v1.8.")?z.exports={"nextTick":function nextTick(z,H,K,W){if("function"!=typeof z)throw new TypeError('"callback" argument must be a function');var V,Q,Z=arguments.length;switch(Z){case 0:case 1:return D.nextTick(z);case 2:return D.nextTick((function(){z.call(null,H)}));case 3:return D.nextTick((function(){z.call(null,H,K)}));case 4:return D.nextTick((function(){z.call(null,H,K,W)}));default:for(V=new Array(Z-1),Q=0;Q<V.length;)V[Q++]=arguments[Q];return D.nextTick((function(){z.apply(null,V)}))}}}:z.exports=D}).call(this,D("_process"))},{"_process":100}],"100":[function(D,z,H){var K,W,V=z.exports={};function s(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(D){if(K===setTimeout)return setTimeout(D,0);if((K===s||!K)&&setTimeout)return K=setTimeout,setTimeout(D,0);try{return K(D,0)}catch(z){try{return K.call(null,D,0)}catch(z){return K.call(this,D,0)}}}!function(){try{K="function"==typeof setTimeout?setTimeout:s}catch(D){K=s}try{W="function"==typeof clearTimeout?clearTimeout:a}catch(D){W=a}}();var Q,Z=[],$=!1,G=-1;function h(){$&&Q&&($=!1,Q.length?Z=Q.concat(Z):G=-1,Z.length&&d())}function d(){if(!$){var D=u(h);$=!0;for(var z=Z.length;z;){for(Q=Z,Z=[];++G<z;)Q&&Q[G].run();G=-1,z=Z.length}Q=null,$=!1,function(D){if(W===clearTimeout)return clearTimeout(D);if((W===a||!W)&&clearTimeout)return W=clearTimeout,clearTimeout(D);try{W(D)}catch(z){try{return W.call(null,D)}catch(z){return W.call(this,D)}}}(D)}}function g(D,z){this.fun=D,this.array=z}function b(){}V.nextTick=function(D){var z=new Array(arguments.length-1);if(arguments.length>1)for(var H=1;H<arguments.length;H++)z[H-1]=arguments[H];Z.push(new g(D,z)),1!==Z.length||$||u(d)},g.prototype.run=function(){this.fun.apply(null,this.array)},V.title="browser",V.browser=!0,V.env={},V.argv=[],V.version="",V.versions={},V.on=b,V.addListener=b,V.once=b,V.off=b,V.removeListener=b,V.removeAllListeners=b,V.emit=b,V.prependListener=b,V.prependOnceListener=b,V.listeners=function(D){return[]},V.binding=function(D){throw new Error("process.binding is not supported")},V.cwd=function(){return"/"},V.chdir=function(D){throw new Error("process.chdir is not supported")},V.umask=function(){return 0}},{}],"101":[function(D,z,K){(function(D){!function(H){var W="object"==$(K)&&K&&!K.nodeType&&K,V="object"==$(z)&&z&&!z.nodeType&&z,Q="object"==$(D)&&D;Q.global!==Q&&Q.window!==Q&&Q.self!==Q||(H=Q);var Z,G,J=2147483647,Y=36,X=26,ee=38,te=700,re=/^xn--/,ne=/[^\x20-\x7E]/,ie=/[\x2E\u3002\uFF0E\uFF61]/g,oe={"overflow":"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},se=Y-1,ae=Math.floor,ue=String.fromCharCode;function E(D){throw new RangeError(oe[D])}function I(D,z){for(var H=D.length,K=[];H--;)K[H]=z(D[H]);return K}function C(D,z){var H=D.split("@"),K="";return H.length>1&&(K=H[0]+"@",D=H[1]),K+I((D=D.replace(ie,".")).split("."),z).join(".")}function O(D){for(var z,H,K=[],W=0,V=D.length;W<V;)(z=D.charCodeAt(W++))>=55296&&z<=56319&&W<V?56320==(64512&(H=D.charCodeAt(W++)))?K.push(((1023&z)<<10)+(1023&H)+65536):(K.push(z),W--):K.push(z);return K}function j(D){return I(D,(function(D){var z="";return D>65535&&(z+=ue((D-=65536)>>>10&1023|55296),D=56320|1023&D),z+ue(D)})).join("")}function T(D,z){return D+22+75*(D<26)-((0!=z)<<5)}function A(D,z,H){var K=0;for(D=H?ae(D/te):D>>1,D+=ae(D/z);D>se*X>>1;K+=Y)D=ae(D/se);return ae(K+(se+1)*D/(D+ee))}function P(D){var z,H,K,W,V,Q,Z,$,G,ee,te,re=[],ne=D.length,ie=0,oe=128,se=72;for((H=D.lastIndexOf("-"))<0&&(H=0),K=0;K<H;++K)D.charCodeAt(K)>=128&&E("not-basic"),re.push(D.charCodeAt(K));for(W=H>0?H+1:0;W<ne;){for(V=ie,Q=1,Z=Y;W>=ne&&E("invalid-input"),(($=(te=D.charCodeAt(W++))-48<10?te-22:te-65<26?te-65:te-97<26?te-97:Y)>=Y||$>ae((J-ie)/Q))&&E("overflow"),ie+=$*Q,!($<(G=Z<=se?1:Z>=se+X?X:Z-se));Z+=Y)Q>ae(J/(ee=Y-G))&&E("overflow"),Q*=ee;se=A(ie-V,z=re.length+1,0==V),ae(ie/z)>J-oe&&E("overflow"),oe+=ae(ie/z),ie%=z,re.splice(ie++,0,oe)}return j(re)}function M(D){var z,H,K,W,V,Q,Z,$,G,ee,te,re,ne,ie,oe,se=[];for(re=(D=O(D)).length,z=128,H=0,V=72,Q=0;Q<re;++Q)(te=D[Q])<128&&se.push(ue(te));for(K=W=se.length,W&&se.push("-");K<re;){for(Z=J,Q=0;Q<re;++Q)(te=D[Q])>=z&&te<Z&&(Z=te);for(Z-z>ae((J-H)/(ne=K+1))&&E("overflow"),H+=(Z-z)*ne,z=Z,Q=0;Q<re;++Q)if((te=D[Q])<z&&++H>J&&E("overflow"),te==z){for($=H,G=Y;!($<(ee=G<=V?1:G>=V+X?X:G-V));G+=Y)oe=$-ee,ie=Y-ee,se.push(ue(T(ee+oe%ie,0))),$=ae(oe/ie);se.push(ue(T($,0))),V=A(H,ne,K==W),H=0,++K}++H,++z}return se.join("")}if(Z={"version":"1.4.1","ucs2":{"decode":O,"encode":j},"decode":P,"encode":M,"toASCII":function toASCII(D){return C(D,(function(D){return ne.test(D)?"xn--"+M(D):D}))},"toUnicode":function toUnicode(D){return C(D,(function(D){return re.test(D)?P(D.slice(4).toLowerCase()):D}))}},W&&V)if(z.exports==W)V.exports=Z;else for(G in Z)Z.hasOwnProperty(G)&&(W[G]=Z[G]);else H.punycode=Z}(this)}).call(this,void 0!==H.g?H.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],"102":[function(D,z,H){"use strict";function n(D,z){return Object.prototype.hasOwnProperty.call(D,z)}z.exports=function(D,z,H,W){z=z||"&",H=H||"=";var V={};if("string"!=typeof D||0===D.length)return V;var Q=/\+/g;D=D.split(z);var Z=1e3;W&&"number"==typeof W.maxKeys&&(Z=W.maxKeys);var $=D.length;Z>0&&$>Z&&($=Z);for(var G=0;G<$;++G){var J,Y,X,ee,te=D[G].replace(Q,"%20"),re=te.indexOf(H);re>=0?(J=te.substr(0,re),Y=te.substr(re+1)):(J=te,Y=""),X=decodeURIComponent(J),ee=decodeURIComponent(Y),n(V,X)?K(V[X])?V[X].push(ee):V[X]=[V[X],ee]:V[X]=ee}return V};var K=Array.isArray||function(D){return"[object Array]"===Object.prototype.toString.call(D)}},{}],"103":[function(D,z,H){"use strict";var K=function n(D){switch($(D)){case"string":return D;case"boolean":return D?"true":"false";case"number":return isFinite(D)?D:"";default:return""}};z.exports=function(D,z,H,Q){return z=z||"&",H=H||"=",null===D&&(D=void 0),"object"==$(D)?o(V(D),(function(V){var Q=encodeURIComponent(K(V))+H;return W(D[V])?o(D[V],(function(D){return Q+encodeURIComponent(K(D))})).join(z):Q+encodeURIComponent(K(D[V]))})).join(z):Q?encodeURIComponent(K(Q))+H+encodeURIComponent(K(D)):""};var W=Array.isArray||function(D){return"[object Array]"===Object.prototype.toString.call(D)};function o(D,z){if(D.map)return D.map(z);for(var H=[],K=0;K<D.length;K++)H.push(z(D[K],K));return H}var V=Object.keys||function(D){var z=[];for(var H in D)Object.prototype.hasOwnProperty.call(D,H)&&z.push(H);return z}},{}],"104":[function(D,z,H){"use strict";H.decode=H.parse=D("./decode"),H.encode=H.stringify=D("./encode")},{"./decode":102,"./encode":103}],"105":[function(D,z,H){z.exports=D("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":106}],"106":[function(D,z,H){"use strict";var K=D("process-nextick-args"),W=Object.keys||function(D){var z=[];for(var H in D)z.push(H);return z};z.exports=f;var V=D("core-util-is");V.inherits=D("inherits");var Q=D("./_stream_readable"),Z=D("./_stream_writable");V.inherits(f,Q);for(var $=W(Z.prototype),G=0;G<$.length;G++){var J=$[G];f.prototype[J]||(f.prototype[J]=Z.prototype[J])}function f(D){if(!(this instanceof f))return new f(D);Q.call(this,D),Z.call(this,D),D&&!1===D.readable&&(this.readable=!1),D&&!1===D.writable&&(this.writable=!1),this.allowHalfOpen=!0,D&&!1===D.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",p)}function p(){this.allowHalfOpen||this._writableState.ended||K.nextTick(h,this)}function h(D){D.end()}Object.defineProperty(f.prototype,"writableHighWaterMark",{"enumerable":!1,"get":function get(){return this._writableState.highWaterMark}}),Object.defineProperty(f.prototype,"destroyed",{"get":function get(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},"set":function set(D){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=D,this._writableState.destroyed=D)}}),f.prototype._destroy=function(D,z){this.push(null),this.end(),K.nextTick(z,D)}},{"./_stream_readable":108,"./_stream_writable":110,"core-util-is":13,"inherits":88,"process-nextick-args":99}],"107":[function(D,z,H){"use strict";z.exports=o;var K=D("./_stream_transform"),W=D("core-util-is");function o(D){if(!(this instanceof o))return new o(D);K.call(this,D)}W.inherits=D("inherits"),W.inherits(o,K),o.prototype._transform=function(D,z,H){H(null,D)}},{"./_stream_transform":109,"core-util-is":13,"inherits":88}],"108":[function(D,z,K){(function(H,K){"use strict";var W=D("process-nextick-args");z.exports=_;var V,Q=D("isarray");_.ReadableState=m,D("events").EventEmitter;var Z=function a(D,z){return D.listeners(z).length},$=D("./internal/streams/stream"),G=D("safe-buffer").Buffer,J=K.Uint8Array||function(){},Y=D("core-util-is");Y.inherits=D("inherits");var X=D("util"),ee=void 0;ee=X&&X.debuglog?X.debuglog("stream"):function(){};var te,re=D("./internal/streams/BufferList"),ne=D("./internal/streams/destroy");Y.inherits(_,$);var ie=["error","close","destroy","pause","resume"];function m(z,H){z=z||{};var K=H instanceof(V=V||D("./_stream_duplex"));this.objectMode=!!z.objectMode,K&&(this.objectMode=this.objectMode||!!z.readableObjectMode);var W=z.highWaterMark,Q=z.readableHighWaterMark,Z=this.objectMode?16:16384;this.highWaterMark=W||0===W?W:K&&(Q||0===Q)?Q:Z,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new re,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=z.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,z.encoding&&(te||(te=D("string_decoder/").StringDecoder),this.decoder=new te(z.encoding),this.encoding=z.encoding)}function _(z){if(V=V||D("./_stream_duplex"),!(this instanceof _))return new _(z);this._readableState=new m(z,this),this.readable=!0,z&&("function"==typeof z.read&&(this._read=z.read),"function"==typeof z.destroy&&(this._destroy=z.destroy)),$.call(this)}function v(D,z,H,K,W){var V,Q=D._readableState;return null===z?(Q.reading=!1,function(D,z){if(!z.ended){if(z.decoder){var H=z.decoder.end();H&&H.length&&(z.buffer.push(H),z.length+=z.objectMode?1:H.length)}z.ended=!0,k(D)}}(D,Q)):(W||(V=function(D,z){var H,K;return K=z,G.isBuffer(K)||K instanceof J||"string"==typeof z||void 0===z||D.objectMode||(H=new TypeError("Invalid non-string/buffer chunk")),H}(Q,z)),V?D.emit("error",V):Q.objectMode||z&&z.length>0?("string"==typeof z||Q.objectMode||Object.getPrototypeOf(z)===G.prototype||(z=function(D){return G.from(D)}(z)),K?Q.endEmitted?D.emit("error",new Error("stream.unshift() after end event")):w(D,Q,z,!0):Q.ended?D.emit("error",new Error("stream.push() after EOF")):(Q.reading=!1,Q.decoder&&!H?(z=Q.decoder.write(z),Q.objectMode||0!==z.length?w(D,Q,z,!1):I(D,Q)):w(D,Q,z,!1))):K||(Q.reading=!1)),function(D){return!D.ended&&(D.needReadable||D.length<D.highWaterMark||0===D.length)}(Q)}function w(D,z,H,K){z.flowing&&0===z.length&&!z.sync?(D.emit("data",H),D.read(0)):(z.length+=z.objectMode?1:H.length,K?z.buffer.unshift(H):z.buffer.push(H),z.needReadable&&k(D)),I(D,z)}Object.defineProperty(_.prototype,"destroyed",{"get":function get(){return void 0!==this._readableState&&this._readableState.destroyed},"set":function set(D){this._readableState&&(this._readableState.destroyed=D)}}),_.prototype.destroy=ne.destroy,_.prototype._undestroy=ne.undestroy,_.prototype._destroy=function(D,z){this.push(null),z(D)},_.prototype.push=function(D,z){var H,K=this._readableState;return K.objectMode?H=!0:"string"==typeof D&&((z=z||K.defaultEncoding)!==K.encoding&&(D=G.from(D,z),z=""),H=!0),v(this,D,z,!1,H)},_.prototype.unshift=function(D){return v(this,D,null,!0,!1)},_.prototype.isPaused=function(){return!1===this._readableState.flowing},_.prototype.setEncoding=function(z){return te||(te=D("string_decoder/").StringDecoder),this._readableState.decoder=new te(z),this._readableState.encoding=z,this};var oe=8388608;function x(D,z){return D<=0||0===z.length&&z.ended?0:z.objectMode?1:D!=D?z.flowing&&z.length?z.buffer.head.data.length:z.length:(D>z.highWaterMark&&(z.highWaterMark=function(D){return D>=oe?D=oe:(D--,D|=D>>>1,D|=D>>>2,D|=D>>>4,D|=D>>>8,D|=D>>>16,D++),D}(D)),D<=z.length?D:z.ended?z.length:(z.needReadable=!0,0))}function k(D){var z=D._readableState;z.needReadable=!1,z.emittedReadable||(ee("emitReadable",z.flowing),z.emittedReadable=!0,z.sync?W.nextTick(E,D):E(D))}function E(D){ee("emit readable"),D.emit("readable"),T(D)}function I(D,z){z.readingMore||(z.readingMore=!0,W.nextTick(C,D,z))}function C(D,z){for(var H=z.length;!z.reading&&!z.flowing&&!z.ended&&z.length<z.highWaterMark&&(ee("maybeReadMore read 0"),D.read(0),H!==z.length);)H=z.length;z.readingMore=!1}function O(D){ee("readable nexttick read 0"),D.read(0)}function j(D,z){z.reading||(ee("resume read 0"),D.read(0)),z.resumeScheduled=!1,z.awaitDrain=0,D.emit("resume"),T(D),z.flowing&&!z.reading&&D.read(0)}function T(D){var z=D._readableState;for(ee("flow",z.flowing);z.flowing&&null!==D.read(););}function A(D,z){return 0===z.length?null:(z.objectMode?H=z.buffer.shift():!D||D>=z.length?(H=z.decoder?z.buffer.join(""):1===z.buffer.length?z.buffer.head.data:z.buffer.concat(z.length),z.buffer.clear()):H=function(D,z,H){var K;return D<z.head.data.length?(K=z.head.data.slice(0,D),z.head.data=z.head.data.slice(D)):K=D===z.head.data.length?z.shift():H?function(D,z){var H=z.head,K=1,W=H.data;for(D-=W.length;H=H.next;){var V=H.data,Q=D>V.length?V.length:D;if(Q===V.length?W+=V:W+=V.slice(0,D),0==(D-=Q)){Q===V.length?(++K,H.next?z.head=H.next:z.head=z.tail=null):(z.head=H,H.data=V.slice(Q));break}++K}return z.length-=K,W}(D,z):function(D,z){var H=G.allocUnsafe(D),K=z.head,W=1;for(K.data.copy(H),D-=K.data.length;K=K.next;){var V=K.data,Q=D>V.length?V.length:D;if(V.copy(H,H.length-D,0,Q),0==(D-=Q)){Q===V.length?(++W,K.next?z.head=K.next:z.head=z.tail=null):(z.head=K,K.data=V.slice(Q));break}++W}return z.length-=W,H}(D,z),K}(D,z.buffer,z.decoder),H);var H}function P(D){var z=D._readableState;if(z.length>0)throw new Error('"endReadable()" called on non-empty stream');z.endEmitted||(z.ended=!0,W.nextTick(M,z,D))}function M(D,z){D.endEmitted||0!==D.length||(D.endEmitted=!0,z.readable=!1,z.emit("end"))}function B(D,z){for(var H=0,K=D.length;H<K;H++)if(D[H]===z)return H;return-1}_.prototype.read=function(D){ee("read",D),D=parseInt(D,10);var z=this._readableState,H=D;if(0!==D&&(z.emittedReadable=!1),0===D&&z.needReadable&&(z.length>=z.highWaterMark||z.ended))return ee("read: emitReadable",z.length,z.ended),0===z.length&&z.ended?P(this):k(this),null;if(0===(D=x(D,z))&&z.ended)return 0===z.length&&P(this),null;var K,W=z.needReadable;return ee("need readable",W),(0===z.length||z.length-D<z.highWaterMark)&&ee("length less than watermark",W=!0),z.ended||z.reading?ee("reading or ended",W=!1):W&&(ee("do read"),z.reading=!0,z.sync=!0,0===z.length&&(z.needReadable=!0),this._read(z.highWaterMark),z.sync=!1,z.reading||(D=x(H,z))),null===(K=D>0?A(D,z):null)?(z.needReadable=!0,D=0):z.length-=D,0===z.length&&(z.ended||(z.needReadable=!0),H!==D&&z.ended&&P(this)),null!==K&&this.emit("data",K),K},_.prototype._read=function(D){this.emit("error",new Error("_read() is not implemented"))},_.prototype.pipe=function(D,z){var K=this,V=this._readableState;switch(V.pipesCount){case 0:V.pipes=D;break;case 1:V.pipes=[V.pipes,D];break;default:V.pipes.push(D)}V.pipesCount+=1,ee("pipe count=%d opts=%j",V.pipesCount,z);var $=z&&!1===z.end||D===H.stdout||D===H.stderr?_:l;function l(){ee("onend"),D.end()}V.endEmitted?W.nextTick($):K.once("end",$),D.on("unpipe",(function c(z,H){ee("onunpipe"),z===K&&H&&!1===H.hasUnpiped&&(H.hasUnpiped=!0,ee("cleanup"),D.removeListener("close",y),D.removeListener("finish",m),D.removeListener("drain",G),D.removeListener("error",b),D.removeListener("unpipe",c),K.removeListener("end",l),K.removeListener("end",_),K.removeListener("data",g),J=!0,!V.awaitDrain||D._writableState&&!D._writableState.needDrain||G())}));var G=function(D){return function(){var z=D._readableState;ee("pipeOnDrain",z.awaitDrain),z.awaitDrain&&z.awaitDrain--,0===z.awaitDrain&&Z(D,"data")&&(z.flowing=!0,T(D))}}(K);D.on("drain",G);var J=!1,Y=!1;function g(z){ee("ondata"),Y=!1,!1!==D.write(z)||Y||((1===V.pipesCount&&V.pipes===D||V.pipesCount>1&&-1!==B(V.pipes,D))&&!J&&(ee("false write response, pause",K._readableState.awaitDrain),K._readableState.awaitDrain++,Y=!0),K.pause())}function b(z){ee("onerror",z),_(),D.removeListener("error",b),0===Z(D,"error")&&D.emit("error",z)}function y(){D.removeListener("finish",m),_()}function m(){ee("onfinish"),D.removeListener("close",y),_()}function _(){ee("unpipe"),K.unpipe(D)}return K.on("data",g),function(D,z,H){if("function"==typeof D.prependListener)return D.prependListener(z,H);D._events&&D._events[z]?Q(D._events[z])?D._events[z].unshift(H):D._events[z]=[H,D._events[z]]:D.on(z,H)}(D,"error",b),D.once("close",y),D.once("finish",m),D.emit("pipe",K),V.flowing||(ee("pipe resume"),K.resume()),D},_.prototype.unpipe=function(D){var z=this._readableState,H={"hasUnpiped":!1};if(0===z.pipesCount)return this;if(1===z.pipesCount)return D&&D!==z.pipes||(D||(D=z.pipes),z.pipes=null,z.pipesCount=0,z.flowing=!1,D&&D.emit("unpipe",this,H)),this;if(!D){var K=z.pipes,W=z.pipesCount;z.pipes=null,z.pipesCount=0,z.flowing=!1;for(var V=0;V<W;V++)K[V].emit("unpipe",this,H);return this}var Q=B(z.pipes,D);return-1===Q||(z.pipes.splice(Q,1),z.pipesCount-=1,1===z.pipesCount&&(z.pipes=z.pipes[0]),D.emit("unpipe",this,H)),this},_.prototype.on=function(D,z){var H=$.prototype.on.call(this,D,z);if("data"===D)!1!==this._readableState.flowing&&this.resume();else if("readable"===D){var K=this._readableState;K.endEmitted||K.readableListening||(K.readableListening=K.needReadable=!0,K.emittedReadable=!1,K.reading?K.length&&k(this):W.nextTick(O,this))}return H},_.prototype.addListener=_.prototype.on,_.prototype.resume=function(){var D=this._readableState;return D.flowing||(ee("resume"),D.flowing=!0,function(D,z){z.resumeScheduled||(z.resumeScheduled=!0,W.nextTick(j,D,z))}(this,D)),this},_.prototype.pause=function(){return ee("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(ee("pause"),this._readableState.flowing=!1,this.emit("pause")),this},_.prototype.wrap=function(D){var z=this,H=this._readableState,K=!1;for(var W in D.on("end",(function(){if(ee("wrapped end"),H.decoder&&!H.ended){var D=H.decoder.end();D&&D.length&&z.push(D)}z.push(null)})),D.on("data",(function(W){ee("wrapped data"),H.decoder&&(W=H.decoder.write(W)),(!H.objectMode||null!=W)&&(H.objectMode||W&&W.length)&&(z.push(W)||(K=!0,D.pause()))})),D)void 0===this[W]&&"function"==typeof D[W]&&(this[W]=function(z){return function(){return D[z].apply(D,arguments)}}(W));for(var V=0;V<ie.length;V++)D.on(ie[V],this.emit.bind(this,ie[V]));return this._read=function(z){ee("wrapped _read",z),K&&(K=!1,D.resume())},this},Object.defineProperty(_.prototype,"readableHighWaterMark",{"enumerable":!1,"get":function get(){return this._readableState.highWaterMark}}),_._fromList=A}).call(this,D("_process"),void 0!==H.g?H.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./_stream_duplex":106,"./internal/streams/BufferList":111,"./internal/streams/destroy":112,"./internal/streams/stream":113,"_process":100,"core-util-is":13,"events":83,"inherits":88,"isarray":114,"process-nextick-args":99,"safe-buffer":118,"string_decoder/":115,"util":11}],"109":[function(D,z,H){"use strict";z.exports=o;var K=D("./_stream_duplex"),W=D("core-util-is");function o(D){if(!(this instanceof o))return new o(D);K.call(this,D),this._transformState={"afterTransform":function(D,z){var H=this._transformState;H.transforming=!1;var K=H.writecb;if(!K)return this.emit("error",new Error("write callback called multiple times"));H.writechunk=null,H.writecb=null,null!=z&&this.push(z),K(D);var W=this._readableState;W.reading=!1,(W.needReadable||W.length<W.highWaterMark)&&this._read(W.highWaterMark)}.bind(this),"needTransform":!1,"transforming":!1,"writecb":null,"writechunk":null,"writeencoding":null},this._readableState.needReadable=!0,this._readableState.sync=!1,D&&("function"==typeof D.transform&&(this._transform=D.transform),"function"==typeof D.flush&&(this._flush=D.flush)),this.on("prefinish",s)}function s(){var D=this;"function"==typeof this._flush?this._flush((function(z,H){a(D,z,H)})):a(this,null,null)}function a(D,z,H){if(z)return D.emit("error",z);if(null!=H&&D.push(H),D._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(D._transformState.transforming)throw new Error("Calling transform done when still transforming");return D.push(null)}W.inherits=D("inherits"),W.inherits(o,K),o.prototype.push=function(D,z){return this._transformState.needTransform=!1,K.prototype.push.call(this,D,z)},o.prototype._transform=function(D,z,H){throw new Error("_transform() is not implemented")},o.prototype._write=function(D,z,H){var K=this._transformState;if(K.writecb=H,K.writechunk=D,K.writeencoding=z,!K.transforming){var W=this._readableState;(K.needTransform||W.needReadable||W.length<W.highWaterMark)&&this._read(W.highWaterMark)}},o.prototype._read=function(D){var z=this._transformState;null!==z.writechunk&&z.writecb&&!z.transforming?(z.transforming=!0,this._transform(z.writechunk,z.writeencoding,z.afterTransform)):z.needTransform=!0},o.prototype._destroy=function(D,z){var H=this;K.prototype._destroy.call(this,D,(function(D){z(D),H.emit("close")}))}},{"./_stream_duplex":106,"core-util-is":13,"inherits":88}],"110":[function(D,z,K){(function(H,K,W){"use strict";var V=D("process-nextick-args");function s(D){var z=this;this.next=null,this.entry=null,this.finish=function(){!function(D,z){var H=D.entry;for(D.entry=null;H;){var K=H.callback;z.pendingcb--,K(void 0),H=H.next}z.corkedRequestsFree?z.corkedRequestsFree.next=D:z.corkedRequestsFree=D}(z,D)}}z.exports=m;var Q,Z=!H.browser&&["v0.10","v0.9."].indexOf(H.version.slice(0,5))>-1?W:V.nextTick;m.WritableState=y;var $=D("core-util-is");$.inherits=D("inherits");var G,J={"deprecate":D("util-deprecate")},Y=D("./internal/streams/stream"),X=D("safe-buffer").Buffer,ee=K.Uint8Array||function(){},te=D("./internal/streams/destroy");function b(){}function y(z,H){Q=Q||D("./_stream_duplex"),z=z||{};var K=H instanceof Q;this.objectMode=!!z.objectMode,K&&(this.objectMode=this.objectMode||!!z.writableObjectMode);var W=z.highWaterMark,$=z.writableHighWaterMark,G=this.objectMode?16:16384;this.highWaterMark=W||0===W?W:K&&($||0===$)?$:G,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var J=!1===z.decodeStrings;this.decodeStrings=!J,this.defaultEncoding=z.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(D){!function(D,z){var H=D._writableState,K=H.sync,W=H.writecb;if(function(D){D.writing=!1,D.writecb=null,D.length-=D.writelen,D.writelen=0}(H),z)!function(D,z,H,K,W){--z.pendingcb,H?(V.nextTick(W,K),V.nextTick(k,D,z),D._writableState.errorEmitted=!0,D.emit("error",K)):(W(K),D._writableState.errorEmitted=!0,D.emit("error",K),k(D,z))}(D,H,K,z,W);else{var Q=S(H);Q||H.corked||H.bufferProcessing||!H.bufferedRequest||w(D,H),K?Z(v,D,H,Q,W):v(D,H,Q,W)}}(H,D)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new s(this)}function m(z){if(Q=Q||D("./_stream_duplex"),!(G.call(m,this)||this instanceof Q))return new m(z);this._writableState=new y(z,this),this.writable=!0,z&&("function"==typeof z.write&&(this._write=z.write),"function"==typeof z.writev&&(this._writev=z.writev),"function"==typeof z.destroy&&(this._destroy=z.destroy),"function"==typeof z.final&&(this._final=z.final)),Y.call(this)}function _(D,z,H,K,W,V,Q){z.writelen=K,z.writecb=Q,z.writing=!0,z.sync=!0,H?D._writev(W,z.onwrite):D._write(W,V,z.onwrite),z.sync=!1}function v(D,z,H,K){H||function(D,z){0===z.length&&z.needDrain&&(z.needDrain=!1,D.emit("drain"))}(D,z),z.pendingcb--,K(),k(D,z)}function w(D,z){z.bufferProcessing=!0;var H=z.bufferedRequest;if(D._writev&&H&&H.next){var K=z.bufferedRequestCount,W=new Array(K),V=z.corkedRequestsFree;V.entry=H;for(var Q=0,Z=!0;H;)W[Q]=H,H.isBuf||(Z=!1),H=H.next,Q+=1;W.allBuffers=Z,_(D,z,!0,z.length,W,"",V.finish),z.pendingcb++,z.lastBufferedRequest=null,V.next?(z.corkedRequestsFree=V.next,V.next=null):z.corkedRequestsFree=new s(z),z.bufferedRequestCount=0}else{for(;H;){var $=H.chunk,G=H.encoding,J=H.callback;if(_(D,z,!1,z.objectMode?1:$.length,$,G,J),H=H.next,z.bufferedRequestCount--,z.writing)break}null===H&&(z.lastBufferedRequest=null)}z.bufferedRequest=H,z.bufferProcessing=!1}function S(D){return D.ending&&0===D.length&&null===D.bufferedRequest&&!D.finished&&!D.writing}function x(D,z){D._final((function(H){z.pendingcb--,H&&D.emit("error",H),z.prefinished=!0,D.emit("prefinish"),k(D,z)}))}function k(D,z){var H=S(z);return H&&(function(D,z){z.prefinished||z.finalCalled||("function"==typeof D._final?(z.pendingcb++,z.finalCalled=!0,V.nextTick(x,D,z)):(z.prefinished=!0,D.emit("prefinish")))}(D,z),0===z.pendingcb&&(z.finished=!0,D.emit("finish"))),H}$.inherits(m,Y),y.prototype.getBuffer=function(){for(var D=this.bufferedRequest,z=[];D;)z.push(D),D=D.next;return z},function(){try{Object.defineProperty(y.prototype,"buffer",{"get":J.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(D){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(G=Function.prototype[Symbol.hasInstance],Object.defineProperty(m,Symbol.hasInstance,{"value":function value(D){return!!G.call(this,D)||this===m&&D&&D._writableState instanceof y}})):G=function d(D){return D instanceof this},m.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},m.prototype.write=function(D,z,H){var K,W=this._writableState,Q=!1,Z=!W.objectMode&&(K=D,X.isBuffer(K)||K instanceof ee);return Z&&!X.isBuffer(D)&&(D=function(D){return X.from(D)}(D)),"function"==typeof z&&(H=z,z=null),Z?z="buffer":z||(z=W.defaultEncoding),"function"!=typeof H&&(H=b),W.ended?function(D,z){var H=new Error("write after end");D.emit("error",H),V.nextTick(z,H)}(this,H):(Z||function(D,z,H,K){var W=!0,Q=!1;return null===H?Q=new TypeError("May not write null values to stream"):"string"==typeof H||void 0===H||z.objectMode||(Q=new TypeError("Invalid non-string/buffer chunk")),Q&&(D.emit("error",Q),V.nextTick(K,Q),W=!1),W}(this,W,D,H))&&(W.pendingcb++,Q=function(D,z,H,K,W,V){if(!H){var Q=function(D,z,H){return D.objectMode||!1===D.decodeStrings||"string"!=typeof z||(z=X.from(z,H)),z}(z,K,W);K!==Q&&(H=!0,W="buffer",K=Q)}var Z=z.objectMode?1:K.length;z.length+=Z;var $=z.length<z.highWaterMark;if($||(z.needDrain=!0),z.writing||z.corked){var G=z.lastBufferedRequest;z.lastBufferedRequest={"chunk":K,"encoding":W,"isBuf":H,"callback":V,"next":null},G?G.next=z.lastBufferedRequest:z.bufferedRequest=z.lastBufferedRequest,z.bufferedRequestCount+=1}else _(D,z,!1,Z,K,W,V);return $}(this,W,Z,D,z,H)),Q},m.prototype.cork=function(){this._writableState.corked++},m.prototype.uncork=function(){var D=this._writableState;D.corked&&(D.corked--,D.writing||D.corked||D.finished||D.bufferProcessing||!D.bufferedRequest||w(this,D))},m.prototype.setDefaultEncoding=function(D){if("string"==typeof D&&(D=D.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((D+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+D);return this._writableState.defaultEncoding=D,this},Object.defineProperty(m.prototype,"writableHighWaterMark",{"enumerable":!1,"get":function get(){return this._writableState.highWaterMark}}),m.prototype._write=function(D,z,H){H(new Error("_write() is not implemented"))},m.prototype._writev=null,m.prototype.end=function(D,z,H){var K=this._writableState;"function"==typeof D?(H=D,D=null,z=null):"function"==typeof z&&(H=z,z=null),null!=D&&this.write(D,z),K.corked&&(K.corked=1,this.uncork()),K.ending||K.finished||function(D,z,H){z.ending=!0,k(D,z),H&&(z.finished?V.nextTick(H):D.once("finish",H)),z.ended=!0,D.writable=!1}(this,K,H)},Object.defineProperty(m.prototype,"destroyed",{"get":function get(){return void 0!==this._writableState&&this._writableState.destroyed},"set":function set(D){this._writableState&&(this._writableState.destroyed=D)}}),m.prototype.destroy=te.destroy,m.prototype._undestroy=te.undestroy,m.prototype._destroy=function(D,z){this.end(),z(D)}}).call(this,D("_process"),void 0!==H.g?H.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},D("timers").setImmediate)},{"./_stream_duplex":106,"./internal/streams/destroy":112,"./internal/streams/stream":113,"_process":100,"core-util-is":13,"inherits":88,"process-nextick-args":99,"safe-buffer":118,"timers":120,"util-deprecate":134}],"111":[function(D,z,H){"use strict";var K=D("safe-buffer").Buffer,W=D("util");z.exports=function(){function e(){!function(D,z){if(!(D instanceof z))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(D){var z={"data":D,"next":null};this.length>0?this.tail.next=z:this.head=z,this.tail=z,++this.length},e.prototype.unshift=function(D){var z={"data":D,"next":this.head};0===this.length&&(this.tail=z),this.head=z,++this.length},e.prototype.shift=function(){if(0!==this.length){var D=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,D}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(D){if(0===this.length)return"";for(var z=this.head,H=""+z.data;z=z.next;)H+=D+z.data;return H},e.prototype.concat=function(D){if(0===this.length)return K.alloc(0);if(1===this.length)return this.head.data;for(var z,H,W=K.allocUnsafe(D>>>0),V=this.head,Q=0;V;)z=W,H=Q,V.data.copy(z,H),Q+=V.data.length,V=V.next;return W},e}(),W&&W.inspect&&W.inspect.custom&&(z.exports.prototype[W.inspect.custom]=function(){var D=W.inspect({"length":this.length});return this.constructor.name+" "+D})},{"safe-buffer":118,"util":11}],"112":[function(D,z,H){"use strict";var K=D("process-nextick-args");function i(D,z){D.emit("error",z)}z.exports={"destroy":function destroy(D,z){var H=this,W=this._readableState&&this._readableState.destroyed,V=this._writableState&&this._writableState.destroyed;return W||V?(z?z(D):!D||this._writableState&&this._writableState.errorEmitted||K.nextTick(i,this,D),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(D||null,(function(D){!z&&D?(K.nextTick(i,H,D),H._writableState&&(H._writableState.errorEmitted=!0)):z&&z(D)})),this)},"undestroy":function undestroy(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},{"process-nextick-args":99}],"113":[function(D,z,H){z.exports=D("events").EventEmitter},{"events":83}],"114":[function(D,z,H){var K={}.toString;z.exports=Array.isArray||function(D){return"[object Array]"==K.call(D)}},{}],"115":[function(D,z,H){"use strict";var K=D("safe-buffer").Buffer,W=K.isEncoding||function(D){switch((D=""+D)&&D.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(D){var z;switch(this.encoding=function(D){var z=function(D){if(!D)return"utf8";for(var z;;)switch(D){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return D;default:if(z)return;D=(""+D).toLowerCase(),z=!0}}(D);if("string"!=typeof z&&(K.isEncoding===W||!W(D)))throw new Error("Unknown encoding: "+D);return z||D}(D),this.encoding){case"utf16le":this.text=u,this.end=c,z=4;break;case"utf8":this.fillLast=a,z=4;break;case"base64":this.text=l,this.end=f,z=3;break;default:return this.write=p,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=K.allocUnsafe(z)}function s(D){return D<=127?0:D>>5==6?2:D>>4==14?3:D>>3==30?4:D>>6==2?-1:-2}function a(D){var z=this.lastTotal-this.lastNeed,H=function(D,z){if(128!=(192&z[0]))return D.lastNeed=0,"�";if(D.lastNeed>1&&z.length>1){if(128!=(192&z[1]))return D.lastNeed=1,"�";if(D.lastNeed>2&&z.length>2&&128!=(192&z[2]))return D.lastNeed=2,"�"}}(this,D);return void 0!==H?H:this.lastNeed<=D.length?(D.copy(this.lastChar,z,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(D.copy(this.lastChar,z,0,D.length),void(this.lastNeed-=D.length))}function u(D,z){if((D.length-z)%2==0){var H=D.toString("utf16le",z);if(H){var K=H.charCodeAt(H.length-1);if(K>=55296&&K<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=D[D.length-2],this.lastChar[1]=D[D.length-1],H.slice(0,-1)}return H}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=D[D.length-1],D.toString("utf16le",z,D.length-1)}function c(D){var z=D&&D.length?this.write(D):"";if(this.lastNeed){var H=this.lastTotal-this.lastNeed;return z+this.lastChar.toString("utf16le",0,H)}return z}function l(D,z){var H=(D.length-z)%3;return 0===H?D.toString("base64",z):(this.lastNeed=3-H,this.lastTotal=3,1===H?this.lastChar[0]=D[D.length-1]:(this.lastChar[0]=D[D.length-2],this.lastChar[1]=D[D.length-1]),D.toString("base64",z,D.length-H))}function f(D){var z=D&&D.length?this.write(D):"";return this.lastNeed?z+this.lastChar.toString("base64",0,3-this.lastNeed):z}function p(D){return D.toString(this.encoding)}function h(D){return D&&D.length?this.write(D):""}H.StringDecoder=o,o.prototype.write=function(D){if(0===D.length)return"";var z,H;if(this.lastNeed){if(void 0===(z=this.fillLast(D)))return"";H=this.lastNeed,this.lastNeed=0}else H=0;return H<D.length?z?z+this.text(D,H):this.text(D,H):z||""},o.prototype.end=function(D){var z=D&&D.length?this.write(D):"";return this.lastNeed?z+"�":z},o.prototype.text=function(D,z){var H=function(D,z,H){var K=z.length-1;if(K<H)return 0;var W=s(z[K]);return W>=0?(W>0&&(D.lastNeed=W-1),W):--K<H||-2===W?0:(W=s(z[K]))>=0?(W>0&&(D.lastNeed=W-2),W):--K<H||-2===W?0:(W=s(z[K]))>=0?(W>0&&(2===W?W=0:D.lastNeed=W-3),W):0}(this,D,z);if(!this.lastNeed)return D.toString("utf8",z);this.lastTotal=H;var K=D.length-(H-this.lastNeed);return D.copy(this.lastChar,0,K),D.toString("utf8",z,K)},o.prototype.fillLast=function(D){if(this.lastNeed<=D.length)return D.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);D.copy(this.lastChar,this.lastTotal-this.lastNeed,0,D.length),this.lastNeed-=D.length}},{"safe-buffer":118}],"116":[function(D,z,H){(H=z.exports=D("./lib/_stream_readable.js")).Stream=H,H.Readable=H,H.Writable=D("./lib/_stream_writable.js"),H.Duplex=D("./lib/_stream_duplex.js"),H.Transform=D("./lib/_stream_transform.js"),H.PassThrough=D("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":106,"./lib/_stream_passthrough.js":107,"./lib/_stream_readable.js":108,"./lib/_stream_transform.js":109,"./lib/_stream_writable.js":110}],"117":[function(D,z,H){"use strict";z.exports=function(){if("function"!=typeof arguments[0])throw new Error("callback needed");if("number"!=typeof arguments[1])throw new Error("interval needed");var D;if(arguments.length>0){D=new Array(arguments.length-2);for(var z=0;z<D.length;z++)D[z]=arguments[z+2]}return new function(D,z,H){var K=this;this._callback=D,this._args=H,this._interval=setInterval(D,z,this._args),this.reschedule=function(D){D||(D=K._interval),K._interval&&clearInterval(K._interval),K._interval=setInterval(K._callback,D,K._args)},this.clear=function(){K._interval&&(clearInterval(K._interval),K._interval=void 0)},this.destroy=function(){K._interval&&clearInterval(K._interval),K._callback=void 0,K._interval=void 0,K._args=void 0}}(arguments[0],arguments[1],D)}},{}],"118":[function(D,z,H){var K=D("buffer"),W=K.Buffer;function o(D,z){for(var H in D)z[H]=D[H]}function s(D,z,H){return W(D,z,H)}W.from&&W.alloc&&W.allocUnsafe&&W.allocUnsafeSlow?z.exports=K:(o(K,H),H.Buffer=s),o(W,s),s.from=function(D,z,H){if("number"==typeof D)throw new TypeError("Argument must not be a number");return W(D,z,H)},s.alloc=function(D,z,H){if("number"!=typeof D)throw new TypeError("Argument must be a number");var K=W(D);return void 0!==z?"string"==typeof H?K.fill(z,H):K.fill(z):K.fill(0),K},s.allocUnsafe=function(D){if("number"!=typeof D)throw new TypeError("Argument must be a number");return W(D)},s.allocUnsafeSlow=function(D){if("number"!=typeof D)throw new TypeError("Argument must be a number");return K.SlowBuffer(D)}},{"buffer":12}],"119":[function(D,z,H){z.exports=function(D){var z,H=D._readableState;return H?H.objectMode||"number"==typeof D._duplexState?D.read():D.read((z=H).buffer.length?z.buffer.head?z.buffer.head.data.length:z.buffer[0].length:z.length):null}},{}],"120":[function(D,z,H){(function(z,K){var W=D("process/browser.js").nextTick,V=Function.prototype.apply,Q=Array.prototype.slice,Z={},$=0;function c(D,z){this._id=D,this._clearFn=z}H.setTimeout=function(){return new c(V.call(setTimeout,window,arguments),clearTimeout)},H.setInterval=function(){return new c(V.call(setInterval,window,arguments),clearInterval)},H.clearTimeout=H.clearInterval=function(D){D.close()},c.prototype.unref=c.prototype.ref=function(){},c.prototype.close=function(){this._clearFn.call(window,this._id)},H.enroll=function(D,z){clearTimeout(D._idleTimeoutId),D._idleTimeout=z},H.unenroll=function(D){clearTimeout(D._idleTimeoutId),D._idleTimeout=-1},H._unrefActive=H.active=function(D){clearTimeout(D._idleTimeoutId);var z=D._idleTimeout;z>=0&&(D._idleTimeoutId=setTimeout((function(){D._onTimeout&&D._onTimeout()}),z))},H.setImmediate="function"==typeof z?z:function(D){var z=$++,K=!(arguments.length<2)&&Q.call(arguments,1);return Z[z]=!0,W((function(){Z[z]&&(K?D.apply(null,K):D.call(null),H.clearImmediate(z))})),z},H.clearImmediate="function"==typeof K?K:function(D){delete Z[D]}}).call(this,D("timers").setImmediate,D("timers").clearImmediate)},{"process/browser.js":100,"timers":120}],"121":[function(D,z,H){"use strict";var K=D("../prototype/is");z.exports=function(D){if("function"!=typeof D)return!1;if(!hasOwnProperty.call(D,"length"))return!1;try{if("number"!=typeof D.length)return!1;if("function"!=typeof D.call)return!1;if("function"!=typeof D.apply)return!1}catch(D){return!1}return!K(D)}},{"../prototype/is":128}],"122":[function(D,z,H){"use strict";var K=D("../value/is"),W=D("../object/is"),V=D("../string/coerce"),Q=D("./to-short-string"),Z=function a(D,z){return D.replace("%v",Q(z))};z.exports=function(D,z,H){if(!W(H))throw new TypeError(Z(z,D));if(!K(D)){if("default"in H)return H.default;if(H.isOptional)return null}var Q=V(H.errorMessage);throw K(Q)||(Q=z),new TypeError(Z(Q,D))}},{"../object/is":125,"../string/coerce":129,"../value/is":131,"./to-short-string":124}],"123":[function(D,z,H){"use strict";z.exports=function(D){try{return D.toString()}catch(z){try{return String(D)}catch(D){return null}}}},{}],"124":[function(D,z,H){"use strict";var K=D("./safe-to-string"),W=/[\n\r\u2028\u2029]/g;z.exports=function(D){var z=K(D);return null===z?"<Non-coercible to string value>":(z.length>100&&(z=z.slice(0,99)+"…"),z=z.replace(W,(function(D){switch(D){case"\n":return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw new Error("Unexpected character")}})))}},{"./safe-to-string":123}],"125":[function(D,z,H){"use strict";var K=D("../value/is"),W={"object":!0,"function":!0,"undefined":!0};z.exports=function(D){return!!K(D)&&hasOwnProperty.call(W,$(D))}},{"../value/is":131}],"126":[function(D,z,H){"use strict";var K=D("../lib/resolve-exception"),W=D("./is");z.exports=function(D){return W(D)?D:K(D,"%v is not a plain function",arguments[1])}},{"../lib/resolve-exception":122,"./is":127}],"127":[function(D,z,H){"use strict";var K=D("../function/is"),W=/^\s*class[\s{/}]/,V=Function.prototype.toString;z.exports=function(D){return!!K(D)&&!W.test(V.call(D))}},{"../function/is":121}],"128":[function(D,z,H){"use strict";var K=D("../object/is");z.exports=function(D){if(!K(D))return!1;try{return!!D.constructor&&D.constructor.prototype===D}catch(D){return!1}}},{"../object/is":125}],"129":[function(D,z,H){"use strict";var K=D("../value/is"),W=D("../object/is"),V=Object.prototype.toString;z.exports=function(D){if(!K(D))return null;if(W(D)){var z=D.toString;if("function"!=typeof z)return null;if(z===V)return null}try{return""+D}catch(D){return null}}},{"../object/is":125,"../value/is":131}],"130":[function(D,z,H){"use strict";var K=D("../lib/resolve-exception"),W=D("./is");z.exports=function(D){return W(D)?D:K(D,"Cannot use %v",arguments[1])}},{"../lib/resolve-exception":122,"./is":131}],"131":[function(D,z,H){"use strict";z.exports=function(D){return null!=D}},{}],"132":[function(D,z,H){"use strict";var K=D("punycode"),W=D("./util");function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}H.parse=_,H.resolve=function(D,z){return _(D,!1,!0).resolve(z)},H.resolveObject=function(D,z){return D?_(D,!1,!0).resolveObject(z):z},H.format=function(D){return W.isString(D)&&(D=_(D)),D instanceof o?D.format():o.prototype.format.call(D)},H.Url=o;var V=/^([a-z0-9.+-]+:)/i,Q=/:[0-9]*$/,Z=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,G=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),J=["'"].concat(G),Y=["%","/","?",";","#"].concat(J),X=["/","?","#"],ee=/^[+a-z0-9A-Z_-]{0,63}$/,te=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,re={"javascript":!0,"javascript:":!0},ne={"javascript":!0,"javascript:":!0},ie={"http":!0,"https":!0,"ftp":!0,"gopher":!0,"file":!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},oe=D("querystring");function _(D,z,H){if(D&&W.isObject(D)&&D instanceof o)return D;var K=new o;return K.parse(D,z,H),K}o.prototype.parse=function(D,z,H){if(!W.isString(D))throw new TypeError("Parameter 'url' must be a string, not "+$(D));var Q=D.indexOf("?"),G=-1!==Q&&Q<D.indexOf("#")?"?":"#",se=D.split(G);se[0]=se[0].replace(/\\/g,"/");var ae=D=se.join(G);if(ae=ae.trim(),!H&&1===D.split("#").length){var ue=Z.exec(ae);if(ue)return this.path=ae,this.href=ae,this.pathname=ue[1],ue[2]?(this.search=ue[2],this.query=z?oe.parse(this.search.substr(1)):this.search.substr(1)):z&&(this.search="",this.query={}),this}var ce=V.exec(ae);if(ce){var le=(ce=ce[0]).toLowerCase();this.protocol=le,ae=ae.substr(ce.length)}if(H||ce||ae.match(/^\/\/[^@\/]+@[^@\/]+/)){var fe="//"===ae.substr(0,2);!fe||ce&&ne[ce]||(ae=ae.substr(2),this.slashes=!0)}if(!ne[ce]&&(fe||ce&&!ie[ce])){for(var he,pe,de=-1,ge=0;ge<X.length;ge++)-1!==(me=ae.indexOf(X[ge]))&&(-1===de||me<de)&&(de=me);for(-1!==(pe=-1===de?ae.lastIndexOf("@"):ae.lastIndexOf("@",de))&&(he=ae.slice(0,pe),ae=ae.slice(pe+1),this.auth=decodeURIComponent(he)),de=-1,ge=0;ge<Y.length;ge++){var me;-1!==(me=ae.indexOf(Y[ge]))&&(-1===de||me<de)&&(de=me)}-1===de&&(de=ae.length),this.host=ae.slice(0,de),ae=ae.slice(de),this.parseHost(),this.hostname=this.hostname||"";var be="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!be)for(var _e=this.hostname.split(/\./),ve=(ge=0,_e.length);ge<ve;ge++){var ye=_e[ge];if(ye&&!ye.match(ee)){for(var we="",Se=0,xe=ye.length;Se<xe;Se++)ye.charCodeAt(Se)>127?we+="x":we+=ye[Se];if(!we.match(ee)){var ke=_e.slice(0,ge),Ee=_e.slice(ge+1),Ie=ye.match(te);Ie&&(ke.push(Ie[1]),Ee.unshift(Ie[2])),Ee.length&&(ae="/"+Ee.join(".")+ae),this.hostname=ke.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),be||(this.hostname=K.toASCII(this.hostname));var Ce=this.port?":"+this.port:"",je=this.hostname||"";this.host=je+Ce,this.href+=this.host,be&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==ae[0]&&(ae="/"+ae))}if(!re[le])for(ge=0,ve=J.length;ge<ve;ge++){var Te=J[ge];if(-1!==ae.indexOf(Te)){var Oe=encodeURIComponent(Te);Oe===Te&&(Oe=escape(Te)),ae=ae.split(Te).join(Oe)}}var Ae=ae.indexOf("#");-1!==Ae&&(this.hash=ae.substr(Ae),ae=ae.slice(0,Ae));var Pe=ae.indexOf("?");if(-1!==Pe?(this.search=ae.substr(Pe),this.query=ae.substr(Pe+1),z&&(this.query=oe.parse(this.query)),ae=ae.slice(0,Pe)):z&&(this.search="",this.query={}),ae&&(this.pathname=ae),ie[le]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){Ce=this.pathname||"";var Me=this.search||"";this.path=Ce+Me}return this.href=this.format(),this},o.prototype.format=function(){var D=this.auth||"";D&&(D=(D=encodeURIComponent(D)).replace(/%3A/i,":"),D+="@");var z=this.protocol||"",H=this.pathname||"",K=this.hash||"",V=!1,Q="";this.host?V=D+this.host:this.hostname&&(V=D+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(V+=":"+this.port)),this.query&&W.isObject(this.query)&&Object.keys(this.query).length&&(Q=oe.stringify(this.query));var Z=this.search||Q&&"?"+Q||"";return z&&":"!==z.substr(-1)&&(z+=":"),this.slashes||(!z||ie[z])&&!1!==V?(V="//"+(V||""),H&&"/"!==H.charAt(0)&&(H="/"+H)):V||(V=""),K&&"#"!==K.charAt(0)&&(K="#"+K),Z&&"?"!==Z.charAt(0)&&(Z="?"+Z),z+V+(H=H.replace(/[?#]/g,(function(D){return encodeURIComponent(D)})))+(Z=Z.replace("#","%23"))+K},o.prototype.resolve=function(D){return this.resolveObject(_(D,!1,!0)).format()},o.prototype.resolveObject=function(D){if(W.isString(D)){var z=new o;z.parse(D,!1,!0),D=z}for(var H=new o,K=Object.keys(this),V=0;V<K.length;V++){var Q=K[V];H[Q]=this[Q]}if(H.hash=D.hash,""===D.href)return H.href=H.format(),H;if(D.slashes&&!D.protocol){for(var Z=Object.keys(D),$=0;$<Z.length;$++){var G=Z[$];"protocol"!==G&&(H[G]=D[G])}return ie[H.protocol]&&H.hostname&&!H.pathname&&(H.path=H.pathname="/"),H.href=H.format(),H}if(D.protocol&&D.protocol!==H.protocol){if(!ie[D.protocol]){for(var J=Object.keys(D),Y=0;Y<J.length;Y++){var X=J[Y];H[X]=D[X]}return H.href=H.format(),H}if(H.protocol=D.protocol,D.host||ne[D.protocol])H.pathname=D.pathname;else{for(var ee=(D.pathname||"").split("/");ee.length&&!(D.host=ee.shift()););D.host||(D.host=""),D.hostname||(D.hostname=""),""!==ee[0]&&ee.unshift(""),ee.length<2&&ee.unshift(""),H.pathname=ee.join("/")}if(H.search=D.search,H.query=D.query,H.host=D.host||"",H.auth=D.auth,H.hostname=D.hostname||D.host,H.port=D.port,H.pathname||H.search){var te=H.pathname||"",re=H.search||"";H.path=te+re}return H.slashes=H.slashes||D.slashes,H.href=H.format(),H}var oe=H.pathname&&"/"===H.pathname.charAt(0),se=D.host||D.pathname&&"/"===D.pathname.charAt(0),ae=se||oe||H.host&&D.pathname,ue=ae,ce=H.pathname&&H.pathname.split("/")||[],le=(ee=D.pathname&&D.pathname.split("/")||[],H.protocol&&!ie[H.protocol]);if(le&&(H.hostname="",H.port=null,H.host&&(""===ce[0]?ce[0]=H.host:ce.unshift(H.host)),H.host="",D.protocol&&(D.hostname=null,D.port=null,D.host&&(""===ee[0]?ee[0]=D.host:ee.unshift(D.host)),D.host=null),ae=ae&&(""===ee[0]||""===ce[0])),se)H.host=D.host||""===D.host?D.host:H.host,H.hostname=D.hostname||""===D.hostname?D.hostname:H.hostname,H.search=D.search,H.query=D.query,ce=ee;else if(ee.length)ce||(ce=[]),ce.pop(),ce=ce.concat(ee),H.search=D.search,H.query=D.query;else if(!W.isNullOrUndefined(D.search))return le&&(H.hostname=H.host=ce.shift(),(ge=!!(H.host&&H.host.indexOf("@")>0)&&H.host.split("@"))&&(H.auth=ge.shift(),H.host=H.hostname=ge.shift())),H.search=D.search,H.query=D.query,W.isNull(H.pathname)&&W.isNull(H.search)||(H.path=(H.pathname?H.pathname:"")+(H.search?H.search:"")),H.href=H.format(),H;if(!ce.length)return H.pathname=null,H.search?H.path="/"+H.search:H.path=null,H.href=H.format(),H;for(var fe=ce.slice(-1)[0],he=(H.host||D.host||ce.length>1)&&("."===fe||".."===fe)||""===fe,pe=0,de=ce.length;de>=0;de--)"."===(fe=ce[de])?ce.splice(de,1):".."===fe?(ce.splice(de,1),pe++):pe&&(ce.splice(de,1),pe--);if(!ae&&!ue)for(;pe--;pe)ce.unshift("..");!ae||""===ce[0]||ce[0]&&"/"===ce[0].charAt(0)||ce.unshift(""),he&&"/"!==ce.join("/").substr(-1)&&ce.push("");var ge,me=""===ce[0]||ce[0]&&"/"===ce[0].charAt(0);return le&&(H.hostname=H.host=me?"":ce.length?ce.shift():"",(ge=!!(H.host&&H.host.indexOf("@")>0)&&H.host.split("@"))&&(H.auth=ge.shift(),H.host=H.hostname=ge.shift())),(ae=ae||H.host&&ce.length)&&!me&&ce.unshift(""),ce.length?H.pathname=ce.join("/"):(H.pathname=null,H.path=null),W.isNull(H.pathname)&&W.isNull(H.search)||(H.path=(H.pathname?H.pathname:"")+(H.search?H.search:"")),H.auth=D.auth||H.auth,H.slashes=H.slashes||D.slashes,H.href=H.format(),H},o.prototype.parseHost=function(){var D=this.host,z=Q.exec(D);z&&(":"!==(z=z[0])&&(this.port=z.substr(1)),D=D.substr(0,D.length-z.length)),D&&(this.hostname=D)}},{"./util":133,"punycode":101,"querystring":104}],"133":[function(D,z,H){"use strict";z.exports={"isString":function isString(D){return"string"==typeof D},"isObject":function isObject(D){return"object"==$(D)&&null!==D},"isNull":function isNull(D){return null===D},"isNullOrUndefined":function isNullOrUndefined(D){return null==D}}},{}],"134":[function(D,z,K){(function(D){function r(z){try{if(!D.localStorage)return!1}catch(D){return!1}var H=D.localStorage[z];return null!=H&&"true"===String(H).toLowerCase()}z.exports=function(D,z){if(r("noDeprecation"))return D;var H=!1;return function(){if(!H){if(r("throwDeprecation"))throw new Error(z);r("traceDeprecation")?console.trace(z):console.warn(z),H=!0}return D.apply(this,arguments)}}}).call(this,void 0!==H.g?H.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],"135":[function(D,z,H){z.exports=function(D){return D&&"object"==$(D)&&"function"==typeof D.copy&&"function"==typeof D.fill&&"function"==typeof D.readUInt8}},{}],"136":[function(D,z,K){(function(z,H){var W=/%[sdj%]/g;K.format=function(D){if(!y(D)){for(var z=[],H=0;H<arguments.length;H++)z.push(a(arguments[H]));return z.join(" ")}H=1;for(var K=arguments,V=K.length,Q=String(D).replace(W,(function(D){if("%%"===D)return"%";if(H>=V)return D;switch(D){case"%s":return String(K[H++]);case"%d":return Number(K[H++]);case"%j":try{return JSON.stringify(K[H++])}catch(D){return"[Circular]"}default:return D}})),Z=K[H];H<V;Z=K[++H])g(Z)||!v(Z)?Q+=" "+Z:Q+=" "+a(Z);return Q},K.deprecate=function(D,W){if(m(H.process))return function(){return K.deprecate(D,W).apply(this,arguments)};if(!0===z.noDeprecation)return D;var V=!1;return function(){if(!V){if(z.throwDeprecation)throw new Error(W);z.traceDeprecation?console.trace(W):console.error(W),V=!0}return D.apply(this,arguments)}};var V,Q={};function a(D,z){var H={"seen":[],"stylize":c};return arguments.length>=3&&(H.depth=arguments[2]),arguments.length>=4&&(H.colors=arguments[3]),d(z)?H.showHidden=z:z&&K._extend(H,z),m(H.showHidden)&&(H.showHidden=!1),m(H.depth)&&(H.depth=2),m(H.colors)&&(H.colors=!1),m(H.customInspect)&&(H.customInspect=!0),H.colors&&(H.stylize=u),l(H,D,H.depth)}function u(D,z){var H=a.styles[z];return H?"["+a.colors[H][0]+"m"+D+"["+a.colors[H][1]+"m":D}function c(D,z){return D}function l(D,z,H){if(D.customInspect&&z&&x(z.inspect)&&z.inspect!==K.inspect&&(!z.constructor||z.constructor.prototype!==z)){var W=z.inspect(H,D);return y(W)||(W=l(D,W,H)),W}var V=function(D,z){if(m(z))return D.stylize("undefined","undefined");if(y(z)){var H="'"+JSON.stringify(z).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return D.stylize(H,"string")}return b(z)?D.stylize(""+z,"number"):d(z)?D.stylize(""+z,"boolean"):g(z)?D.stylize("null","null"):void 0}(D,z);if(V)return V;var Q=Object.keys(z),Z=function(D){var z={};return D.forEach((function(D,H){z[D]=!0})),z}(Q);if(D.showHidden&&(Q=Object.getOwnPropertyNames(z)),S(z)&&(Q.indexOf("message")>=0||Q.indexOf("description")>=0))return f(z);if(0===Q.length){if(x(z)){var $=z.name?": "+z.name:"";return D.stylize("[Function"+$+"]","special")}if(_(z))return D.stylize(RegExp.prototype.toString.call(z),"regexp");if(w(z))return D.stylize(Date.prototype.toString.call(z),"date");if(S(z))return f(z)}var G,J="",Y=!1,X=["{","}"];return h(z)&&(Y=!0,X=["[","]"]),x(z)&&(J=" [Function"+(z.name?": "+z.name:"")+"]"),_(z)&&(J=" "+RegExp.prototype.toString.call(z)),w(z)&&(J=" "+Date.prototype.toUTCString.call(z)),S(z)&&(J=" "+f(z)),0!==Q.length||Y&&0!=z.length?H<0?_(z)?D.stylize(RegExp.prototype.toString.call(z),"regexp"):D.stylize("[Object]","special"):(D.seen.push(z),G=Y?function(D,z,H,K,W){for(var V=[],Q=0,Z=z.length;Q<Z;++Q)C(z,String(Q))?V.push(p(D,z,H,K,String(Q),!0)):V.push("");return W.forEach((function(W){W.match(/^\d+$/)||V.push(p(D,z,H,K,W,!0))})),V}(D,z,H,Z,Q):Q.map((function(K){return p(D,z,H,Z,K,Y)})),D.seen.pop(),function(D,z,H){return D.reduce((function(D,z){return z.indexOf("\n"),D+z.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?H[0]+(""===z?"":z+"\n ")+" "+D.join(",\n  ")+" "+H[1]:H[0]+z+" "+D.join(", ")+" "+H[1]}(G,J,X)):X[0]+J+X[1]}function f(D){return"["+Error.prototype.toString.call(D)+"]"}function p(D,z,H,K,W,V){var Q,Z,$;if(($=Object.getOwnPropertyDescriptor(z,W)||{"value":z[W]}).get?Z=$.set?D.stylize("[Getter/Setter]","special"):D.stylize("[Getter]","special"):$.set&&(Z=D.stylize("[Setter]","special")),C(K,W)||(Q="["+W+"]"),Z||(D.seen.indexOf($.value)<0?(Z=g(H)?l(D,$.value,null):l(D,$.value,H-1)).indexOf("\n")>-1&&(Z=V?Z.split("\n").map((function(D){return"  "+D})).join("\n").substr(2):"\n"+Z.split("\n").map((function(D){return"   "+D})).join("\n")):Z=D.stylize("[Circular]","special")),m(Q)){if(V&&W.match(/^\d+$/))return Z;(Q=JSON.stringify(""+W)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(Q=Q.substr(1,Q.length-2),Q=D.stylize(Q,"name")):(Q=Q.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),Q=D.stylize(Q,"string"))}return Q+": "+Z}function h(D){return Array.isArray(D)}function d(D){return"boolean"==typeof D}function g(D){return null===D}function b(D){return"number"==typeof D}function y(D){return"string"==typeof D}function m(D){return void 0===D}function _(D){return v(D)&&"[object RegExp]"===k(D)}function v(D){return"object"==$(D)&&null!==D}function w(D){return v(D)&&"[object Date]"===k(D)}function S(D){return v(D)&&("[object Error]"===k(D)||D instanceof Error)}function x(D){return"function"==typeof D}function k(D){return Object.prototype.toString.call(D)}function E(D){return D<10?"0"+D.toString(10):D.toString(10)}K.debuglog=function(D){if(m(V)&&(V=z.env.NODE_DEBUG||""),D=D.toUpperCase(),!Q[D])if(new RegExp("\\b"+D+"\\b","i").test(V)){var H=z.pid;Q[D]=function(){var z=K.format.apply(K,arguments);console.error("%s %d: %s",D,H,z)}}else Q[D]=function(){};return Q[D]},K.inspect=a,a.colors={"bold":[1,22],"italic":[3,23],"underline":[4,24],"inverse":[7,27],"white":[37,39],"grey":[90,39],"black":[30,39],"blue":[34,39],"cyan":[36,39],"green":[32,39],"magenta":[35,39],"red":[31,39],"yellow":[33,39]},a.styles={"special":"cyan","number":"yellow","boolean":"yellow","undefined":"grey","null":"bold","string":"green","date":"magenta","regexp":"red"},K.isArray=h,K.isBoolean=d,K.isNull=g,K.isNullOrUndefined=function(D){return null==D},K.isNumber=b,K.isString=y,K.isSymbol=function(D){return"symbol"==$(D)},K.isUndefined=m,K.isRegExp=_,K.isObject=v,K.isDate=w,K.isError=S,K.isFunction=x,K.isPrimitive=function(D){return null===D||"boolean"==typeof D||"number"==typeof D||"string"==typeof D||"symbol"==$(D)||void 0===D},K.isBuffer=D("./support/isBuffer");var Z=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function C(D,z){return Object.prototype.hasOwnProperty.call(D,z)}K.log=function(){var D,z;console.log("%s - %s",(z=[E((D=new Date).getHours()),E(D.getMinutes()),E(D.getSeconds())].join(":"),[D.getDate(),Z[D.getMonth()],z].join(" ")),K.format.apply(K,arguments))},K.inherits=D("inherits"),K._extend=function(D,z){if(!z||!v(z))return D;for(var H=Object.keys(z),K=H.length;K--;)D[H[K]]=z[H[K]];return D}}).call(this,D("_process"),void 0!==H.g?H.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":135,"_process":100,"inherits":88}],"137":[function(D,z,K){(function(H,K){"use strict";var W=D("readable-stream").Transform,V=D("duplexify"),Q=D("ws"),Z=D("safe-buffer").Buffer;z.exports=function(D,z,G){var J,Y,X="browser"===H.title,ee=!!K.WebSocket,te=X?function e(D,z,H){if(Y.bufferedAmount>ne)setTimeout(e,ie,D,z,H);else{oe&&"string"==typeof D&&(D=Z.from(D,"utf8"));try{Y.send(D)}catch(e){return H(e)}H()}}:function(D,z,H){Y.readyState===Y.OPEN?(oe&&"string"==typeof D&&(D=Z.from(D,"utf8")),Y.send(D,H)):H()};z&&!Array.isArray(z)&&"object"==$(z)&&(G=z,z=null,("string"==typeof G.protocol||Array.isArray(G.protocol))&&(z=G.protocol)),G||(G={}),void 0===G.objectMode&&(G.objectMode=!(!0===G.binary||void 0===G.binary));var re=function(D,z){var H=new W({"objectMode":D.objectMode});return H._write=z,H._flush=function(D){Y.close(),D()},H}(G,te);G.objectMode||(re._writev=function(D,z){for(var H=new Array(D.length),K=0;K<D.length;K++)"string"==typeof D[K].chunk?H[K]=Z.from(D[K],"utf8"):H[K]=D[K].chunk;this._write(Z.concat(H),"binary",z)});var ne=G.browserBufferSize||524288,ie=G.browserBufferTimeout||1e3;"object"==$(D)?Y=D:(Y=ee&&X?new Q(D,z):new Q(D,z,G)).binaryType="arraybuffer",Y.readyState===Y.OPEN?J=re:(J=V.obj(),Y.onopen=function(){J.setReadable(re),J.setWritable(re),J.emit("connect")}),J.socket=Y,Y.onclose=function(){J.end(),J.destroy()},Y.onerror=function(D){J.destroy(D)},Y.onmessage=function(D){var z=D.data;z=z instanceof ArrayBuffer?Z.from(z):Z.from(z,"utf8"),re.push(z)},re.on("close",(function(){Y.close()}));var oe=!G.objectMode;return J}}).call(this,D("_process"),void 0!==H.g?H.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"_process":100,"duplexify":19,"readable-stream":116,"safe-buffer":118,"ws":138}],"138":[function(D,z,H){var K=null;"undefined"!=typeof WebSocket?K=WebSocket:"undefined"!=typeof MozWebSocket?K=MozWebSocket:"undefined"!=typeof window&&(K=window.WebSocket||window.MozWebSocket),z.exports=K},{}],"139":[function(D,z,H){z.exports=function e(D,z){if(D&&z)return e(D)(z);if("function"!=typeof D)throw new TypeError("need wrapper function");return Object.keys(D).forEach((function(z){n[z]=D[z]})),n;function n(){for(var z=new Array(arguments.length),H=0;H<z.length;H++)z[H]=arguments[H];var K=D.apply(this,z),W=z[z.length-1];return"function"==typeof K&&K!==W&&Object.keys(W).forEach((function(D){K[D]=W[D]})),K}}},{}],"140":[function(D,z,H){z.exports=function(){for(var D={},z=0;z<arguments.length;z++){var H=arguments[z];for(var W in H)K.call(H,W)&&(D[W]=H[W])}return D};var K=Object.prototype.hasOwnProperty},{}]},{},[9])(9)},"object"==$(z)?D.exports=Q():(W=[],void 0===(V="function"==typeof(K=Q)?K.apply(z,W):K)||(D.exports=V))},"8023":function(D,z,H){"use strict";H.d(z,{"$j":function(){return connect},"Ld":function(){return subscribe},"r1":function(){return unsubscribe}});var K=H(4984),W=H.n(K),V=H(2262),Q=H(6349),Z=H(9830),$=H(6898),G=H(8595),J=(0,Z.r)("MQTTurl"),Y=(0,V.iH)((0,Z.r)("drugStock")),X=(0,V.iH)((0,Z.r)("healthIndicators")),ee=null,te={"keepalive":10,"protocolVersion":4,"connectTimeout":4e3,"clientId":"wechat_"+(0,$.$M)(6),"username":"nanguagua","password":"EMQXngg123","clean":!0};function connect(){try{console.log("连接中..."),(ee=W().connect("wxs://".concat(J,":8084/mqtt"),te)).on("connect",(function(){console.log("成功链接到MQTT服务器");var D=(0,Z.r)("box_id");D||(console.log("未绑定药盒"),(0,G.K4)({"content":"监测到还未绑定药盒，请到设置里绑定！","showCancel":!1})),ee.on("message",(function(z,H){D=(0,Z.r)("box_id"),H=H.toString();try{H=JSON.parse(H)}catch(D){return void console.log("payload is not JSON")}if(console.log("recieve message:",H,"from topic:",z),z==="drug/".concat(D,"/slip")&&400===H.code&&(0,G.K4)({"content":H.message,"showCancel":!1}),z==="drug/".concat(D,"/adddrug")&&200===H.code){var K=H.druginfo;K&&(Y.value.push(new Q.Fo(String(H.timestamp),K.name,K.use,K.func,K.otc)),(0,G.K4)({"content":"".concat(H.message,"：").concat(H.druginfo.name),"showCancel":!1}))}z==="drug/".concat(D,"/heartrate")&&(H.timestamp=1e3*H.timestamp,200===H.code&&(X.value.heartRateData.push({"date":(0,$._3)(H.timestamp),"time":(0,$.hK)(H.timestamp),"value":H.heartrate}),console.log("heartrate:",X.value.heartRateData),(0,G.K4)({"content":"".concat(H.message,"：").concat(H.heartrate),"showCancel":!1}))),z==="drug/".concat(D,"/spo2")&&(H.timestamp=1e3*H.timestamp,200===H.code&&(X.value.bloodOxygenData.push({"date":(0,$._3)(H.timestamp),"time":(0,$.hK)(H.timestamp),"value":H.spo2}),console.log("spo2:",X.value.bloodOxygenData),(0,G.K4)({"content":"".concat(H.message,"：").concat(H.spo2),"showCancel":!1})))})),ee.on("error",(function(D){console.log("onError:",D)})),ee.on("reconnect",(function(){console.log("reconnecting...")})),ee.on("offline",(function(){console.log("onOffline")}))}))}catch(D){console.log("mqtt.connect error:",D)}}function subscribe(D){if(ee)return ee.subscribe(D),void console.log("成功订阅主题：".concat(D));console.log("Client is null")}function unsubscribe(D){if(ee)return ee.unsubscribe(D),void console.log("取消订阅主题：".concat(D));console.log("Client is null")}},"2667":function(D,z,H){"use strict";H.d(z,{"Z":function(){return V}});var K=H(3144),W=H(5671),V=(0,K.Z)((function PatientInfo(D,z){var H=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"男",K=arguments.length>3?arguments[3]:void 0,V=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"https://b0.bdstatic.com/0df6c8c7f109aa7b67e7cb15e6f8d025.jpg@h_1280",Q=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"其他",Z=arguments.length>6?arguments[6]:void 0,$=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"否",G=arguments.length>8?arguments[8]:void 0,J=arguments.length>9?arguments[9]:void 0,Y=arguments.length>10?arguments[10]:void 0,X=arguments.length>11?arguments[11]:void 0,ee=arguments.length>12?arguments[12]:void 0,te=arguments.length>13?arguments[13]:void 0,re=arguments.length>14?arguments[14]:void 0,ne=arguments.length>15?arguments[15]:void 0,ie=arguments.length>16?arguments[16]:void 0;(0,W.Z)(this,PatientInfo),this.name=D,this.age=z,this.gender=H,this.phone=K,this.avatar=V,this.relation=Q,this.illness=Z,this.liveAlone=$,this.eatingHabit=G,this.bodyHealth=J,this.height=Y,this.weight=X,this.BP=ee,this.BF=te,this.BG=re,this.HR=ne,this.drug=ie}))},"3303":function(D,z,H){"use strict";H.r(z),H.d(z,{"default":function(){return Q}});var K=H(6252),W=(H(9830),H(2262)),V=(H(8023),{"name":"sosPage"});var Q=Object.assign(V,{"setup":function setup(D){var z=(0,W.qj)({"result":"","loading":(0,W.iH)(!1)});return function onScanFunc(){z.loading||(z.loading=!0)}(),function(D,z){var H=(0,K.up)("View");return(0,K.wg)(),(0,K.j4)(H,{"class":"root-bind"})}}})},"3897":function(D){D.exports=function _arrayLikeToArray(D,z){(null==z||z>D.length)&&(z=D.length);for(var H=0,K=Array(z);H<z;H++)K[H]=D[H];return K},D.exports.__esModule=!0,D.exports.default=D.exports},"3405":function(D,z,H){var K=H(3897);D.exports=function _arrayWithoutHoles(D){if(Array.isArray(D))return K(D)},D.exports.__esModule=!0,D.exports.default=D.exports},"9498":function(D){D.exports=function _iterableToArray(D){if("undefined"!=typeof Symbol&&null!=D[Symbol.iterator]||null!=D["@@iterator"])return Array.from(D)},D.exports.__esModule=!0,D.exports.default=D.exports},"2281":function(D){D.exports=function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},D.exports.__esModule=!0,D.exports.default=D.exports},"861":function(D,z,H){var K=H(3405),W=H(9498),V=H(6116),Q=H(2281);D.exports=function _toConsumableArray(D){return K(D)||W(D)||V(D)||Q()},D.exports.__esModule=!0,D.exports.default=D.exports},"6116":function(D,z,H){var K=H(3897);D.exports=function _unsupportedIterableToArray(D,z){if(D){if("string"==typeof D)return K(D,z);var H={}.toString.call(D).slice(8,-1);return"Object"===H&&D.constructor&&(H=D.constructor.name),"Map"===H||"Set"===H?Array.from(D):"Arguments"===H||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(H)?K(D,z):void 0}},D.exports.__esModule=!0,D.exports.default=D.exports}}]);